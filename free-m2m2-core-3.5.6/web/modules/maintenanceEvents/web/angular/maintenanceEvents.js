!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("angular")):"function"==typeof define&&define.amd?define(["angular"],n):"object"==typeof exports?exports.maintenanceEvents=n(require("angular")):e.maintenanceEvents=n(e.angular)}(window,function(e){return function(e){var n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,function(n){return e[n]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/modules/maintenanceEvents/web/angular/",t(t.s=5)}([function(n,t){n.exports=e},function(e,n){e.exports='<div layout="column" layout-gt-md="row" flex="noshrink">\n    <div flex="100" flex-gt-md="25" flex-gt-lg="20" layout="row">\n        <ma-maintenance-events-list flex layout="row" ng-model="$ctrl.selectedEvent"></ma-maintenance-events-list>\n    </div>\n\n    <div flex layout="row">\n        <ma-maintenance-events-setup ng-model="$ctrl.selectedEvent"></ma-maintenance-events-setup>\n    </div>\n</div>'},function(e,n){e.exports='<md-card flex>\n    <md-card-title flex="nogrow">\n        <md-card-title-text>\n            <span class="md-headline">\n                <span ma-tr="maintenanceEvents.list"></span>\n            </span>\n        </md-card-title-text>\n    </md-card-title>\n    <md-card-content style="padding-left: 0; padding-right: 0;"> \n        <div style="padding-left: 10px; padding-right: 10px;">\n            <ma-filtering-maintenance-events-list ng-model="$ctrl.selectedEvent" ng-change="$ctrl.getEvents()"></ma-filtering-maintenance-events-list>\n        </div>\n\n        <md-list flex>\n\n            <md-list-item class="md-2-line" ng-click="$ctrl.newMaintenanceEvent()" md-colors="{\'background\': $ctrl.new ? \'accent-hue-1\' : \'background-hue-1\'}">\n                <div class="md-list-item-text">\n                    <h3 ma-tr="maintenanceEvents.addMe"></h3>\n                    <p ma-tr="maintenanceEvents.createMe"></p>\n                </div>\n                <md-button class="md-secondary md-icon-button" ng-click="$ctrl.newEvent()">\n                    <md-icon>add</md-icon>\n                </md-button>\n            </md-list-item>\n        \n            <md-list-item ng-repeat="event in $ctrl.events" class="md-2-line" ng-click="$ctrl.selectMaintenanceEvent(event)" md-colors="{\'background\': $ctrl.selectedEvent.xid === event.xid ? \'accent-hue-1\' : \'background-hue-1\'}">\n                <div class="md-list-item-text">\n                    <h3> {{ event.name}} </h3>\n                </div>\n            </md-list-item>\n        \n        </md-list>\n    </md-card-content>\n</md-card>'},function(e,n){e.exports='<md-card flex>\n    <md-card-title flex="nogrow">\n        <md-card-title-text>\n            <div flex layout>\n                <div flex>\n                    <span class="md-headline">\n                        <span ma-tr="maintenanceEvents.setup"></span>\n                    </span>\n                </div>\n\n                <div flex layout layout-align="end center" class="ma-margin-bottom">\n                    <md-switch ng-model="$ctrl.activeEvent" ng-disabled="$ctrl.selectedEvent.disabled" ng-change="$ctrl.toggleEvent()" md-invert aria-label="Toggle Event">Toggle event</md-switch>\n                    <md-button class="md-raised md-primary" ng-click="$ctrl.save($event)" ng-disabled="!$ctrl.form.$valid && !$ctrl.form.$touched">\n                        <md-icon>save</md-icon> <span ma-tr="common.save"></span>\n                    </md-button>\n                    <md-button class="md-raised md-warn" ng-click="$ctrl.delete($event)" ng-disabled="!$ctrl.form.$valid && !$ctrl.form.$touched">\n                        <md-icon>delete</md-icon> <span ma-tr="common.delete"></span>\n                    </md-button>\n                </div>\n            </div>\n        </md-card-title-text>\n    </md-card-title>\n    <md-card-content ng-form="$ctrl.form">\n        <div layout layout-align="space-between top" layout-wrap>\n            <md-input-container flex="100" flex-gt-md="45" class="ma-input-space-between">\n                <label ma-tr="common.xid"></label>\n                <input name="xid" ng-model="$ctrl.selectedEvent.xid" required>\n                <div ng-messages="$ctrl.form.xid.$error">\n                    <div ng-message="required" ma-tr="ui.app.required"></div>\n                </div>\n            </md-input-container>\n\n            <md-input-container flex="100" flex-gt-md="45" class="ma-input-space-between">\n                <label ma-tr="common.name"></label>\n                <input name="name" ng-model="$ctrl.selectedEvent.name" required>\n                <div ng-messages="$ctrl.form.name.$error">\n                    <div ng-message="required" ma-tr="ui.app.required"></div>\n                </div>\n            </md-input-container>\n\n            <md-input-container flex="100" flex-gt-sm="45">\n                <label ma-tr="common.alarmLevel"></label>\n                <md-select name="alarmLevel" ng-model="$ctrl.selectedEvent.alarmLevel" required>\n                    <md-option value="NONE" ma-tr="common.alarmLevel.none"></md-option>\n                    <md-option value="INFORMATION" ma-tr="common.alarmLevel.info"></md-option>\n                    <md-option value="IMPORTANT" ma-tr="common.alarmLevel.important"></md-option>\n                    <md-option value="WARNING" ma-tr="common.alarmLevel.warning"></md-option>\n                    <md-option value="URGENT" ma-tr="common.alarmLevel.urgent"></md-option>\n                    <md-option value="CRITICAL" ma-tr="common.alarmLevel.critical"></md-option>\n                    <md-option value="SAFETY" ma-tr="common.alarmLevel.lifeSafety"></md-option>\n                    <md-option value="DO_NOT_LOG" ma-tr="common.alarmLevel.doNotLog"></md-option>\n                    <md-option value="IGNORE" ma-tr="common.alarmLevel.ignore"></md-option>\n                </md-select>\n                <div ng-messages="$ctrl.form.alarmLevel.$error">\n                    <div ng-message="required" ma-tr="ui.app.required"></div>\n                </div>\n            </md-input-container>\n\n            <md-input-container flex="100" flex-gt-sm="45">\n                <label ma-tr="maintenanceEvents.type"></label>\n                <md-select name="scheduleType" ng-model="$ctrl.selectedEvent.scheduleType" required>\n                    <md-option value="MANUAL" ma-tr="maintenanceEvents.type.manual"></md-option>\n                    <md-option value="HOURLY" ma-tr="maintenanceEvents.type.hour"></md-option>\n                    <md-option value="DAILY" ma-tr="maintenanceEvents.type.day"></md-option>\n                    <md-option value="WEEKLY" ma-tr="maintenanceEvents.type.week"></md-option>\n                    <md-option value="MONTHLY" ma-tr="maintenanceEvents.type.month"></md-option>\n                    <md-option value="YEARLY" ma-tr="maintenanceEvents.type.year"></md-option>\n                    <md-option value="ONCE" ma-tr="maintenanceEvents.type.once"></md-option>\n                    <md-option value="CRON" ma-tr="maintenanceEvents.type.cron"></md-option>\n                </md-select>\n                <div ng-messages="$ctrl.form.scheduleType.$error">\n                    <div ng-message="required" ma-tr="ui.app.required"></div>\n                </div>\n            </md-input-container>\n\n            \x3c!-- Active Time --\x3e\n\n            <div flex="100" flex-gt-md="50" layout="row" layout-wrap ng-if="$ctrl.selectedEvent.scheduleType != \'MANUAL\'">\n                <h3 ma-tr="maintenanceEvents.activeTime"></h3>\n                \n                <div flex="100" layout="row" layout-wrap ng-if="$ctrl.selectedEvent.scheduleType == \'HOURLY\'">\n                    <md-input-container flex="100" flex-gt-md="50" class="ma-input-space-between">\n                        <label ma-tr="common.tp.minute"></label>\n                        <input name="activeMinute" type="number" min="0" max="59" ng-model="$ctrl.selectedEvent.activeMinute" required>\n                        <div ng-messages="$ctrl.form.activeMinute.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                    <md-input-container flex="100" flex-gt-md="50" class="ma-input-space-between">\n                        <label ma-tr="common.tp.second"></label>\n                        <input name="activeSecond" type="number" min="0" max="59" ng-model="$ctrl.selectedEvent.activeSecond" required>\n                        <div ng-messages="$ctrl.form.activeSecond.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                </div>\n\n                <div flex="100" layout="row" layout-wrap ng-if="$ctrl.selectedEvent.scheduleType == \'WEEKLY\'">\n                    <md-input-container flex="100">\n                        <label ma-tr="common.tp.day"></label>\n                        <md-select name="activeDay" ng-model="$ctrl.selectedEvent.activeDay" required>\n                            <md-option value="1" ma-tr="common.day.mon"></md-option>\n                            <md-option value="2" ma-tr="common.day.tue"></md-option>\n                            <md-option value="3" ma-tr="common.day.wed"></md-option>\n                            <md-option value="4" ma-tr="common.day.thu"></md-option>\n                            <md-option value="5" ma-tr="common.day.fri"></md-option>\n                            <md-option value="6" ma-tr="common.day.sat"></md-option>\n                            <md-option value="7" ma-tr="common.day.sun"></md-option>\n                        </md-select>\n                        <div ng-messages="$ctrl.form.activeDay.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                </div>\n\n                <div flex="100" layout="row" layout-wrap ng-if="$ctrl.selectedEvent.scheduleType == \'YEARLY\' || $ctrl.selectedEvent.scheduleType == \'MONTHLY\'">\n                    <md-input-container flex ng-if="$ctrl.selectedEvent.scheduleType == \'YEARLY\'">\n                        <label ma-tr="common.tp.month"></label>\n                        <md-select name="activeMonth" ng-model="$ctrl.selectedEvent.activeMonth" required>\n                            <md-option value="1" ma-tr="dateAndTime.january"></md-option>\n                            <md-option value="2" ma-tr="dateAndTime.february"></md-option>\n                            <md-option value="3" ma-tr="dateAndTime.march"></md-option>\n                            <md-option value="4" ma-tr="dateAndTime.april"></md-option>\n                            <md-option value="5" ma-tr="dateAndTime.may"></md-option>\n                            <md-option value="6" ma-tr="dateAndTime.june"></md-option>\n                            <md-option value="7" ma-tr="dateAndTime.july"></md-option>\n                            <md-option value="8" ma-tr="dateAndTime.august"></md-option>\n                            <md-option value="9" ma-tr="dateAndTime.september"></md-option>\n                            <md-option value="10" ma-tr="dateAndTime.october"></md-option>\n                            <md-option value="11" ma-tr="dateAndTime.november"></md-option>\n                            <md-option value="12" ma-tr="dateAndTime.december"></md-option>\n                        </md-select>\n                        <div ng-messages="$ctrl.form.activeMonth.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                    \n                    <md-input-container flex>\n                        <label ma-tr="common.tp.day"></label>\n                        <md-select name="activeDay" ng-model="$ctrl.selectedEvent.activeDay" required>\n                            <md-option value="1">1</md-option>\n                            <md-option value="2">2</md-option>\n                            <md-option value="3">3</md-option>\n                            <md-option value="4">4</md-option>\n                            <md-option value="5">5</md-option>\n                            <md-option value="6">6</md-option>\n                            <md-option value="7">7</md-option>\n                            <md-option value="8">8</md-option>\n                            <md-option value="9">9</md-option>\n                            <md-option value="10">10</md-option>\n                            <md-option value="11">11</md-option>\n                            <md-option value="12">12</md-option>\n                            <md-option value="13">13</md-option>\n                            <md-option value="14">14</md-option>\n                            <md-option value="15">15</md-option>\n                            <md-option value="16">16</md-option>\n                            <md-option value="17">17</md-option>\n                            <md-option value="18">18</md-option>\n                            <md-option value="19">19</md-option>\n                            <md-option value="20">20</md-option>\n                            <md-option value="21">21</md-option>\n                            <md-option value="22">22</md-option>\n                            <md-option value="23">23</md-option>\n                            <md-option value="24">24</md-option>\n                            <md-option value="25">25</md-option>\n                            <md-option value="26">26</md-option>\n                            <md-option value="27">27</md-option>\n                            <md-option value="28">28</md-option>\n                            <md-option value="-3" ma-tr="common.day.thirdLast"></md-option>\n                            <md-option value="-2" ma-tr="common.day.secondLast"></md-option>\n                            <md-option value="-1" ma-tr="common.day.last"></md-option>\n                        </md-select>\n                        <div ng-messages="$ctrl.form.activeDay.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                </div>\n\n                <div flex="100" layout="row" layout-wrap ng-if="$ctrl.selectedEvent.scheduleType == \'ONCE\'">\n                    <md-input-container flex class="ma-input-space-between">\n                        <label ma-tr="common.tp.year"></label>\n                        <input name="activeYear" type="number" min="2018" max="3000" ng-model="$ctrl.selectedEvent.activeYear" required>\n                        <div ng-messages="$ctrl.form.activeYear.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                    <md-input-container flex>\n                        <label ma-tr="common.tp.month"></label>\n                        <md-select name="activeMonth" ng-model="$ctrl.selectedEvent.activeMonth" required>\n                            <md-option value="1" ma-tr="dateAndTime.january"></md-option>\n                            <md-option value="2" ma-tr="dateAndTime.february"></md-option>\n                            <md-option value="3" ma-tr="dateAndTime.march"></md-option>\n                            <md-option value="4" ma-tr="dateAndTime.april"></md-option>\n                            <md-option value="5" ma-tr="dateAndTime.may"></md-option>\n                            <md-option value="6" ma-tr="dateAndTime.june"></md-option>\n                            <md-option value="7" ma-tr="dateAndTime.july"></md-option>\n                            <md-option value="8" ma-tr="dateAndTime.august"></md-option>\n                            <md-option value="9" ma-tr="dateAndTime.september"></md-option>\n                            <md-option value="10" ma-tr="dateAndTime.october"></md-option>\n                            <md-option value="11" ma-tr="dateAndTime.november"></md-option>\n                            <md-option value="12" ma-tr="dateAndTime.december"></md-option>\n                        </md-select>\n                        <div ng-messages="$ctrl.form.activeMonth.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                    \n                    <md-input-container flex>\n                        <label ma-tr="common.tp.day"></label>\n                        <md-select name="activeDay" ng-model="$ctrl.selectedEvent.activeDay" required>\n                            <md-option value="1">1</md-option>\n                            <md-option value="2">2</md-option>\n                            <md-option value="3">3</md-option>\n                            <md-option value="4">4</md-option>\n                            <md-option value="5">5</md-option>\n                            <md-option value="6">6</md-option>\n                            <md-option value="7">7</md-option>\n                            <md-option value="8">8</md-option>\n                            <md-option value="9">9</md-option>\n                            <md-option value="10">10</md-option>\n                            <md-option value="11">11</md-option>\n                            <md-option value="12">12</md-option>\n                            <md-option value="13">13</md-option>\n                            <md-option value="14">14</md-option>\n                            <md-option value="15">15</md-option>\n                            <md-option value="16">16</md-option>\n                            <md-option value="17">17</md-option>\n                            <md-option value="18">18</md-option>\n                            <md-option value="19">19</md-option>\n                            <md-option value="20">20</md-option>\n                            <md-option value="21">21</md-option>\n                            <md-option value="22">22</md-option>\n                            <md-option value="23">23</md-option>\n                            <md-option value="24">24</md-option>\n                            <md-option value="25">25</md-option>\n                            <md-option value="26">26</md-option>\n                            <md-option value="27">27</md-option>\n                            <md-option value="28">28</md-option>\n                            <md-option value="29">29</md-option>\n                            <md-option value="30">30</md-option>\n                            <md-option value="31">31</md-option>\n                        </md-select>\n                        <div ng-messages="$ctrl.form.activeDay.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                </div>\n\n                <div flex="100" layout="row" layout-wrap ng-if="$ctrl.selectedEvent.scheduleType != \'MANUAL\' && $ctrl.selectedEvent.scheduleType != \'HOURLY\' && $ctrl.selectedEvent.scheduleType != \'CRON\'">\n                    <md-input-container flex="100" flex-gt-md="30" class="ma-input-space-between">\n                        <label ma-tr="common.tp.hour"></label>\n                        <input name="activeHour" type="number" min="0" max="59" ng-model="$ctrl.selectedEvent.activeHour" required>\n                        <div ng-messages="$ctrl.form.activeHour.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                    <md-input-container flex="100" flex-gt-md="40" class="ma-input-space-between">\n                        <label ma-tr="common.tp.minute"></label>\n                        <input name="activeMinute" type="number" min="0" max="59" ng-model="$ctrl.selectedEvent.activeMinute" required>\n                        <div ng-messages="$ctrl.form.activeMinute.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                    <md-input-container flex="100" flex-gt-md="30" class="ma-input-space-between">\n                        <label ma-tr="common.tp.second"></label>\n                        <input name="activeSecond" type="number" min="0" max="59" ng-model="$ctrl.selectedEvent.activeSecond" required>\n                        <div ng-messages="$ctrl.form.activeSecond.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                </div>\n\n                <div flex="100" layout="row" layout-wrap ng-if="$ctrl.selectedEvent.scheduleType == \'CRON\'">\n                    \n                    <div layout>\n                        <md-input-container flex>\n                            <label ma-tr="common.cronPattern"></label>\n                            <input name="activeCron" ng-model="$ctrl.selectedEvent.activeCron" required>\n                            <div ng-messages="$ctrl.form.activeCron.$error">\n                                <div ng-message="required" ma-tr="ui.app.required"></div>\n                            </div>\n                        </md-input-container>\n                    </div>\n    \n                    <ma-cron-pattern ng-model="$ctrl.selectedEvent.activeCron"></ma-cron-pattern>\n    \n                </div>\n\n            </div>\n\n            \x3c!-- Inactive Time --\x3e\n\n            <div flex="100" flex-gt-md="50" layout="row" layout-wrap ng-if="$ctrl.selectedEvent.scheduleType != \'MANUAL\'">\n                <h3 ma-tr="maintenanceEvents.inactiveTime"></h3>\n                \n                <div flex="100" layout="row" layout-wrap ng-if="$ctrl.selectedEvent.scheduleType == \'HOURLY\'">\n                    <md-input-container flex="100" flex-gt-md="50" class="ma-input-space-between">\n                        <label ma-tr="common.tp.minute"></label>\n                        <input name="inactiveMinute" type="number" min="0" max="59" ng-model="$ctrl.selectedEvent.inactiveMinute" required>\n                        <div ng-messages="$ctrl.form.inactiveMinute.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                    <md-input-container flex="100" flex-gt-md="50" class="ma-input-space-between">\n                        <label ma-tr="common.tp.second"></label>\n                        <input name="inactiveSecond" type="number" min="0" max="59" ng-model="$ctrl.selectedEvent.inactiveSecond" required>\n                        <div ng-messages="$ctrl.form.inactiveSecond.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                </div>\n\n                <div flex="100" layout="row" layout-wrap ng-if="$ctrl.selectedEvent.scheduleType == \'WEEKLY\'">\n                    <md-input-container flex="100">\n                        <label ma-tr="common.tp.day"></label>\n                        <md-select name="inactiveDay" ng-model="$ctrl.selectedEvent.inactiveDay" required>\n                            <md-option value="1" ma-tr="common.day.mon"></md-option>\n                            <md-option value="2" ma-tr="common.day.tue"></md-option>\n                            <md-option value="3" ma-tr="common.day.wed"></md-option>\n                            <md-option value="4" ma-tr="common.day.thu"></md-option>\n                            <md-option value="5" ma-tr="common.day.fri"></md-option>\n                            <md-option value="6" ma-tr="common.day.sat"></md-option>\n                            <md-option value="7" ma-tr="common.day.sun"></md-option>\n                        </md-select>\n                        <div ng-messages="$ctrl.form.inactiveDay.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                </div>\n\n                <div flex="100" layout="row" layout-wrap ng-if="$ctrl.selectedEvent.scheduleType == \'YEARLY\' || $ctrl.selectedEvent.scheduleType == \'MONTHLY\'">\n                    <md-input-container flex ng-if="$ctrl.selectedEvent.scheduleType == \'YEARLY\'">\n                        <label ma-tr="common.tp.month"></label>\n                        <md-select name="inactiveMonth" ng-model="$ctrl.selectedEvent.inactiveMonth" required>\n                            <md-option value="1" ma-tr="dateAndTime.january"></md-option>\n                            <md-option value="2" ma-tr="dateAndTime.february"></md-option>\n                            <md-option value="3" ma-tr="dateAndTime.march"></md-option>\n                            <md-option value="4" ma-tr="dateAndTime.april"></md-option>\n                            <md-option value="5" ma-tr="dateAndTime.may"></md-option>\n                            <md-option value="6" ma-tr="dateAndTime.june"></md-option>\n                            <md-option value="7" ma-tr="dateAndTime.july"></md-option>\n                            <md-option value="8" ma-tr="dateAndTime.august"></md-option>\n                            <md-option value="9" ma-tr="dateAndTime.september"></md-option>\n                            <md-option value="10" ma-tr="dateAndTime.october"></md-option>\n                            <md-option value="11" ma-tr="dateAndTime.november"></md-option>\n                            <md-option value="12" ma-tr="dateAndTime.december"></md-option>\n                        </md-select>\n                        <div ng-messages="$ctrl.form.inactiveMonth.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                    \n                    <md-input-container flex>\n                        <label ma-tr="common.tp.day"></label>\n                        <md-select name="inactiveDay" ng-model="$ctrl.selectedEvent.inactiveDay" required>\n                            <md-option value="1">1</md-option>\n                            <md-option value="2">2</md-option>\n                            <md-option value="3">3</md-option>\n                            <md-option value="4">4</md-option>\n                            <md-option value="5">5</md-option>\n                            <md-option value="6">6</md-option>\n                            <md-option value="7">7</md-option>\n                            <md-option value="8">8</md-option>\n                            <md-option value="9">9</md-option>\n                            <md-option value="10">10</md-option>\n                            <md-option value="11">11</md-option>\n                            <md-option value="12">12</md-option>\n                            <md-option value="13">13</md-option>\n                            <md-option value="14">14</md-option>\n                            <md-option value="15">15</md-option>\n                            <md-option value="16">16</md-option>\n                            <md-option value="17">17</md-option>\n                            <md-option value="18">18</md-option>\n                            <md-option value="19">19</md-option>\n                            <md-option value="20">20</md-option>\n                            <md-option value="21">21</md-option>\n                            <md-option value="22">22</md-option>\n                            <md-option value="23">23</md-option>\n                            <md-option value="24">24</md-option>\n                            <md-option value="25">25</md-option>\n                            <md-option value="26">26</md-option>\n                            <md-option value="27">27</md-option>\n                            <md-option value="28">28</md-option>\n                            <md-option value="-3" ma-tr="common.day.thirdLast"></md-option>\n                            <md-option value="-2" ma-tr="common.day.secondLast"></md-option>\n                            <md-option value="-1" ma-tr="common.day.last"></md-option>\n                        </md-select>\n                        <div ng-messages="$ctrl.form.inactiveDay.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                </div>\n\n                <div flex="100" layout="row" layout-wrap ng-if="$ctrl.selectedEvent.scheduleType == \'ONCE\'">\n                    <md-input-container flex class="ma-input-space-between">\n                        <label ma-tr="common.tp.year"></label>\n                        <input name="inactiveYear" type="number" min="2018" max="3000" ng-model="$ctrl.selectedEvent.inactiveYear" required>\n                        <div ng-messages="$ctrl.form.inactiveYear.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                    <md-input-container flex>\n                        <label ma-tr="common.tp.month"></label>\n                        <md-select name="inactiveMonth" ng-model="$ctrl.selectedEvent.inactiveMonth" required>\n                            <md-option value="1" ma-tr="dateAndTime.january"></md-option>\n                            <md-option value="2" ma-tr="dateAndTime.february"></md-option>\n                            <md-option value="3" ma-tr="dateAndTime.march"></md-option>\n                            <md-option value="4" ma-tr="dateAndTime.april"></md-option>\n                            <md-option value="5" ma-tr="dateAndTime.may"></md-option>\n                            <md-option value="6" ma-tr="dateAndTime.june"></md-option>\n                            <md-option value="7" ma-tr="dateAndTime.july"></md-option>\n                            <md-option value="8" ma-tr="dateAndTime.august"></md-option>\n                            <md-option value="9" ma-tr="dateAndTime.september"></md-option>\n                            <md-option value="10" ma-tr="dateAndTime.october"></md-option>\n                            <md-option value="11" ma-tr="dateAndTime.november"></md-option>\n                            <md-option value="12" ma-tr="dateAndTime.december"></md-option>\n                        </md-select>\n                        <div ng-messages="$ctrl.form.inactiveMonth.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                    \n                    <md-input-container flex>\n                        <label ma-tr="common.tp.day"></label>\n                        <md-select name="inactiveDay" ng-model="$ctrl.selectedEvent.inactiveDay" required>\n                            <md-option value="1">1</md-option>\n                            <md-option value="2">2</md-option>\n                            <md-option value="3">3</md-option>\n                            <md-option value="4">4</md-option>\n                            <md-option value="5">5</md-option>\n                            <md-option value="6">6</md-option>\n                            <md-option value="7">7</md-option>\n                            <md-option value="8">8</md-option>\n                            <md-option value="9">9</md-option>\n                            <md-option value="10">10</md-option>\n                            <md-option value="11">11</md-option>\n                            <md-option value="12">12</md-option>\n                            <md-option value="13">13</md-option>\n                            <md-option value="14">14</md-option>\n                            <md-option value="15">15</md-option>\n                            <md-option value="16">16</md-option>\n                            <md-option value="17">17</md-option>\n                            <md-option value="18">18</md-option>\n                            <md-option value="19">19</md-option>\n                            <md-option value="20">20</md-option>\n                            <md-option value="21">21</md-option>\n                            <md-option value="22">22</md-option>\n                            <md-option value="23">23</md-option>\n                            <md-option value="24">24</md-option>\n                            <md-option value="25">25</md-option>\n                            <md-option value="26">26</md-option>\n                            <md-option value="27">27</md-option>\n                            <md-option value="28">28</md-option>\n                            <md-option value="29">29</md-option>\n                            <md-option value="30">30</md-option>\n                            <md-option value="31">31</md-option>\n                        </md-select>\n                        <div ng-messages="$ctrl.form.inactiveDay.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                </div>\n\n                <div flex="100" layout="row" layout-wrap ng-if="$ctrl.selectedEvent.scheduleType != \'MANUAL\' && $ctrl.selectedEvent.scheduleType != \'HOURLY\' && $ctrl.selectedEvent.scheduleType != \'CRON\'">\n                    <md-input-container flex="100" flex-gt-md="30" class="ma-input-space-between">\n                        <label ma-tr="common.tp.hour"></label>\n                        <input name="inactiveHour" type="number" min="0" max="59" ng-model="$ctrl.selectedEvent.inactiveHour" required>\n                        <div ng-messages="$ctrl.form.inactiveHour.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                    <md-input-container flex="100" flex-gt-md="40" class="ma-input-space-between">\n                        <label ma-tr="common.tp.minute"></label>\n                        <input name="inactiveMinute" type="number" min="0" max="59" ng-model="$ctrl.selectedEvent.inactiveMinute" required>\n                        <div ng-messages="$ctrl.form.inactiveMinute.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                    <md-input-container flex="100" flex-gt-md="30" class="ma-input-space-between">\n                        <label ma-tr="common.tp.second"></label>\n                        <input name="inactiveSecond" type="number" min="0" max="59" ng-model="$ctrl.selectedEvent.inactiveSecond" required>\n                        <div ng-messages="$ctrl.form.inactiveSecond.$error">\n                            <div ng-message="required" ma-tr="ui.app.required"></div>\n                        </div>\n                    </md-input-container>\n                </div>\n\n                <div flex="100" layout="row" layout-wrap ng-if="$ctrl.selectedEvent.scheduleType == \'CRON\'">\n                    \n                    <div layout>\n                        <md-input-container flex>\n                            <label ma-tr="common.cronPattern"></label>\n                            <input name="inactiveCron" ng-model="$ctrl.selectedEvent.inactiveCron" required>\n                            <div ng-messages="$ctrl.form.inactiveCron.$error">\n                                <div ng-message="required" ma-tr="ui.app.required"></div>\n                            </div>\n                        </md-input-container>\n                    </div>\n    \n                    <ma-cron-pattern ng-model="$ctrl.selectedEvent.inactiveCron"></ma-cron-pattern>\n    \n                </div>\n    \n\n            </div>\n\n            \x3c!-- End Inactive Time --\x3e\n\n            <div flex="100">\n                <ma-filtering-data-source-list ng-model="$ctrl.selectedDataSource" label-text="\'Select data sources\'"\n                ng-change="$ctrl.addDataSource()"></ma-filtering-data-source-list>\n                <md-chips ng-model="$ctrl.dataSources" name="name" readonly="true" md-max-chips="10">\n                    <md-chip-template ng-click="$ctrl.dataSources.splice($$replacedScope.$index,1)">\n                        <strong>{{$chip.name}}</strong>\n                        <em>({{$chip.xid}})</em>\n                        <md-icon>close</md-icon>\n                    </md-chip-template>\n                </md-chips>\n                <span ng-if="$ctrl.checkError(\'dataSources\')" style="color: rgb(221,44,0);">{{ $ctrl.checkError(\'dataSources\').message }}</span>\n            </div>\n\n            <div flex="100" class="ma-input-space-between">\n                <ma-filtering-point-list ng-model="$ctrl.selectedDataPoint" label-text="\'Select data points\'"\n                ng-change="$ctrl.addDataPoint()"></ma-filtering-point-list>\n                <md-chips ng-model="$ctrl.dataPoints" name="name" readonly="true" md-max-chips="10">\n                    <md-chip-template ng-click="$ctrl.dataPoints.splice($$replacedScope.$index,1)">\n                        <strong>{{$chip.name}}</strong>\n                        <em>({{$chip.deviceName}})</em>\n                        <md-icon>close</md-icon>\n                    </md-chip-template>\n                </md-chips>\n                <span ng-if="$ctrl.checkError(\'dataPoints\')" style="color: rgb(221,44,0);">{{ $ctrl.checkError(\'dataPoints\').message }}</span>\n            </div>\n\n            <md-input-container flex="100" flex-sm="20" flex-gt-sm="20">\n                <label ma-tr="maintenanceEvents.timeoutPeriods"></label>\n                <input name="timeoutPeriods" type="number" min="1" ng-model="$ctrl.selectedEvent.timeoutPeriods" required>\n                <div ng-messages="$ctrl.form.timeoutPeriods.$error">\n                   <div ng-message="required" ma-tr="ui.app.required"></div>\n                </div>\n            </md-input-container>\n        \n            <md-input-container flex="100" flex-sm="20" flex-gt-sm="25">\n                <label ma-tr="maintenanceEvents.timeoutPeriodType"></label>\n                <md-select name="timeoutPeriodType" ng-model="$ctrl.selectedEvent.timeoutPeriodType" required>\n                    <md-option value="SECONDS" ma-tr="dateAndTime.seconds"></md-option>\n                    <md-option value="MINUTES" ma-tr="dateAndTime.minutes"></md-option>\n                    <md-option value="HOURS" ma-tr="dateAndTime.hours"></md-option>\n                    <md-option value="DAYS" ma-tr="dateAndTime.days"></md-option>\n                    <md-option value="WEEKS" ma-tr="dateAndTime.weeks"></md-option>\n                    <md-option value="MONTHS" ma-tr="dateAndTime.months"></md-option>\n                    <md-option value="YEARS" ma-tr="dateAndTime.years"></md-option>\n                </md-select>\n                <div ng-messages="$ctrl.form.timeoutPeriodType.$error">\n                    <div ng-message="required" ma-tr="ui.app.required"></div>\n                </div>\n            </md-input-container>\n\n            <md-input-container flex="100" flex-gt-md="45" class="ma-input-space-between">\n                <label ma-tr="maintenanceEvents.togglePermission"></label>\n                <input name="togglePermission" ng-model="$ctrl.selectedEvent.togglePermission" pattern="^\\s*[\\w-]+?\\s*(,\\s*[\\w-]+?\\s*)*$">\n                <div ng-messages="$ctrl.form.togglePermission.$error">\n                    <div ng-message="pattern" ma-tr="ui.app.invalidPermissions"></div>\n                </div>\n                <ma-permissions-menu ng-model="$ctrl.selectedEvent.togglePermission"></ma-permissions-menu>\n            </md-input-container>\n\n            <md-input-container flex="50" flex-gt-md="45" class="ma-input-space-between md-block">\n                <md-checkbox ng-model="$ctrl.selectedEvent.disabled"><span ma-tr="maintenanceEvents.disabled"></span></md-checkbox>\n            </md-input-container>\n        </div>\n\n        <div flex layout layout-align="end center" class="ma-margin-bottom">\n            <md-button class="md-raised md-primary" ng-click="$ctrl.save($event)" ng-disabled="!$ctrl.form.$valid && !$ctrl.form.$touched">\n                <md-icon>save</md-icon> <span ma-tr="common.save"></span>\n            </md-button>\n            <md-button class="md-raised md-warn" ng-click="$ctrl.delete($event)" ng-disabled="!$ctrl.form.$valid && !$ctrl.form.$touched">\n                <md-icon>delete</md-icon> <span ma-tr="common.delete"></span>\n            </md-button>\n        </div>\n    </md-card-content>\n</md-card>'},function(e,n){e.exports='<md-autocomplete\n    md-selected-item-change="$ctrl.setViewValue()"\n    md-selected-item="$ctrl.selectedEvent"\n    md-search-text="$ctrl.searchText"\n    md-items="event in $ctrl.searchTextChange($ctrl.searchText)"\n    md-item-text="event.name"\n    md-no-cache="true"\n    md-min-length="0"\n    md-floating-label="{{$ctrl.label}}"\n    md-delay="500"\n    md-select-on-focus="true"\n    md-escape-options="none"\n    md-clear-button="true">\n\n    <md-item-template>\n        <span md-highlight-text="$ctrl.searchText" md-highlight-flags="gi">{{event.name}}</span>\n    </md-item-template>\n\n    <md-not-found>\n        <span ma-tr="maintenanceEvents.notFound" ma-tr-args="[$ctrl.searchText]"></span>\n    </md-not-found>\n</md-autocomplete>'},function(e,n,t){"use strict";t.r(n);var i=t(0),o=t.n(i),a=t(1),d={bindings:{},template:t.n(a).a},m=t(2),r=t.n(m);const l=Object.freeze(["$rootScope","$scope","maMaintenanceEvent"]);var s={template:r.a,controller:class{static get $inject(){return l}static get $$ngIsClass(){return!0}constructor(e,n,t){this.$rootScope=e,this.$scope=n,this.maMaintenanceEvent=t,this.$scope.$on("meUpdated",e=>{this.new=!1,this.getEvents().then(()=>{this.selectDefaultEvent()})}),this.$scope.$on("meDeleted",e=>{this.getEvents().then(()=>{this.selectDefaultEvent()})})}$onInit(){this.ngModelCtrl.$render=(()=>this.render()),this.getEvents().then(()=>{this.selectDefaultEvent()})}selectDefaultEvent(){0==this.events.length?this.newMaintenanceEvent():(this.selectedEvent=this.events[0],this.setViewValue())}setViewValue(){this.ngModelCtrl.$setViewValue(this.selectedEvent)}render(){this.selectedEvent=this.ngModelCtrl.$viewValue}getEvents(){return this.maMaintenanceEvent.list().then(e=>{this.events=e})}newMaintenanceEvent(){this.new=!0,this.selectedEvent=new this.maMaintenanceEvent,this.setViewValue(),this.$rootScope.$broadcast("meNew",!0)}selectMaintenanceEvent(e){this.new=!1,this.selectedEvent=e,this.setViewValue()}},bindings:{},require:{ngModelCtrl:"ngModel"},designerInfo:{translation:"maintenanceEvents.list",icon:"list"}},c=t(3),p=t.n(c);const u=Object.freeze(["$rootScope","$scope","maDialogHelper","maDataSource","maPoint","$http"]);var v={template:p.a,controller:class{static get $inject(){return u}static get $$ngIsClass(){return!0}constructor(e,n,t,i,o,a){this.$rootScope=e,this.$scope=n,this.maDialogHelper=t,this.maDataSource=i,this.maPoint=o,this.$http=a,this.dataSources=[],this.dataPoints=[]}$onInit(){this.ngModelCtrl.$render=(()=>this.render()),this.$scope.$watch("$ctrl.selectedEvent",e=>{this.selectedEvent&&(this.getDataSourcesByIds(this.selectedEvent.dataSources),this.getDataPointsByIds(this.selectedEvent.dataPoints),this.getMaintenanceEventsByXid(this.selectedEvent.xid).then(e=>{const n=e.data.items;if(n.length)return this.activeEvent=n[n.length-1].active}))}),this.$scope.$on("meNew",e=>{this.dataSources=[],this.dataPoints=[]})}getMaintenanceEventsByXid(e){return this.$http.post("/rest/v1/events/module-defined-query",{queryType:"MAINTENANCE_EVENTS_BY_MAINTENANCE_EVENT_RQL",parameters:{rql:"xid="+e}})}getDataSourcesByIds(e){if(!e||0==e.length)return;let n="in(xid,"+e.join(",")+")";this.maDataSource.rql({rqlQuery:n}).$promise.then(e=>{this.dataSources=e})}getDataPointsByIds(e){if(!e||0==e.length)return;let n="in(xid,"+e.join(",")+")";this.maPoint.rql({rqlQuery:n}).$promise.then(e=>{this.dataPoints=e})}setViewValue(){this.ngModelCtrl.$setViewValue(this.selectedEvent)}render(){this.selectedEvent=this.ngModelCtrl.$viewValue}toggleEvent(){this.selectedEvent.toggleActive().then(e=>{this.activeEvent=e})}addDataSource(){0==this.dataSources.filter(e=>e.xid===this.selectedDataSource.xid).length&&this.dataSources.push(this.selectedDataSource),this.selectedDataSource=null}addDataPoint(){0==this.dataPoints.filter(e=>e.xid===this.selectedDataPoint.xid).length&&this.dataPoints.push(this.selectedDataPoint),this.selectedDataPoint=null}save(){this.selectedEvent.dataSources=this.getXids(this.dataSources),this.selectedEvent.dataPoints=this.getXids(this.dataPoints),this.form.$valid?this.selectedEvent.save().then(()=>{this.dataSources=[],this.dataPoints=[],this.selectedEvent=null,this.maDialogHelper.toastOptions({textTr:["maintenanceEvents.meSaved"]}),this.$rootScope.$broadcast("meUpdated",!0),this.dataSources=[],this.dataPoints=[],this.validationMessages=null,this.form.$setPristine(),this.form.$setUntouched()},e=>{this.validationMessages=e.data.result.messages,this.maDialogHelper.toastOptions({textTr:["maintenanceEvents.notSaved",e.mangoStatusText],classes:"md-warn",hideDelay:5e3})}):this.maDialogHelper.toastOptions({textTr:"maintenanceEvents.invalidForm",classes:"md-warn",hideDelay:3e3})}delete(){this.maDialogHelper.confirm(event,["maintenanceEvents.confirmDelete"]).then(()=>{this.selectedEvent.delete().then(()=>{this.dataSources=[],this.dataPoints=[],this.selectedEvent=null,this.maDialogHelper.toastOptions({textTr:["maintenanceEvents.meDeleted"]}),this.$rootScope.$broadcast("meUpdated",!0),this.dataSources=[],this.dataPoints=[],this.validationMessages=null},e=>{this.maDialogHelper.toastOptions({textTr:["maintenanceEvents.meNotDeleted"],classes:"md-warn",hideDelay:5e3})})},o.a.noop)}getXids(e){let n=[];return e.map(e=>{n.push(e.xid)}),n}checkError(e){return this.validationMessages?this.validationMessages.filter(n=>n.property===e,e)[0]:null}},bindings:{},require:{ngModelCtrl:"ngModel"},designerInfo:{translation:"maintenanceEvents.setup",icon:"settings"}},g=t(4),h=t.n(g);const $=Object.freeze(["$scope","maMaintenanceEvent","maTranslate"]);var f={template:h.a,controller:class{static get $inject(){return $}static get $$ngIsClass(){return!0}constructor(e,n,t){this.$scope=e,this.maMaintenanceEvent=n,this.maTranslate=t,this.maTranslate.tr(["maintenanceEvents.searchForEventsByName"]).then(e=>{this.label=e})}$onInit(){this.ngModelCtrl.$render=(()=>this.render()),this.getEvents().then(e=>{this.events=e})}setViewValue(){this.selectedEvent&&this.ngModelCtrl.$setViewValue(this.selectedEvent)}render(){this.selectedEvent=this.ngModelCtrl.$viewValue}searchTextChange(e){return this.getEvents().then(n=>this.events=n.filter(n=>n.name.includes(e)))}getEvents(){return this.maMaintenanceEvent.list()}displayText(e){return e.name}},bindings:{},require:{ngModelCtrl:"ngModel"},designerInfo:{translation:"maintenanceEvents.searchForEventsByName",icon:"search"}};function y(e){const n="/rest/v2/maintenance-events",t="/v2/websocket/maintenance-events",i="ME_",o={alarmLevel:"INFORMATION",scheduleType:"MANUAL",disabled:!1,activeYear:2018,activeMonth:7,activeDay:0,activeHour:0,activeMinute:0,activeSecond:0,activeCron:"",inactiveYear:2018,inactiveMonth:7,inactiveDay:0,inactiveHour:0,inactiveMinute:0,inactiveSecond:0,inactiveCron:"",timeoutPeriods:1,timeoutPeriodType:"HOURS",togglePermission:null,dataPoints:[],dataSources:[],name:"New maintenance event"};return class extends e{static get defaultProperties(){return o}static get baseUrl(){return n}static get webSocketUrl(){return t}static get xidPrefix(){return i}toggleActive(e={}){return this.constructor.http({url:`${this.constructor.baseUrl}/toggle/${this.getEncodedId()}`,method:"PUT",params:e.params},e).then(e=>e.data)}setActive(e,n={}){return n.params||(n.params={}),n.params.active=e,this.constructor.http({url:`${this.constructor.baseUrl}/active/${this.getEncodedId()}`,method:"PUT",params:n.params},n).then(e=>e.data)}static toggleActive(e){return new this({xid:e}).toggleActive()}static setActive(e,n){return new this({xid:e}).setActive(n)}}}y.$inject=["maRestResource"];var E=y;n.default=o.a.module("maMaintenanceEvents",["maUiApp"]).component("maMaintenanceEvents",d).component("maMaintenanceEventsList",s).component("maMaintenanceEventsSetup",v).component("maFilteringMaintenanceEventsList",f).factory("maMaintenanceEvent",E).config(["maUiMenuProvider",function(e){e.registerMenuItems([{name:"ui.settings.maintenanceEvents",url:"/maintenance-events",template:"<ma-maintenance-events></ma-maintenance-events>",menuTr:"header.maintenanceEvents",menuIcon:"event_busy",menuHidden:!1,params:{noPadding:!1,hideFooter:!1},permission:"superadmin"}])}])}]).default});