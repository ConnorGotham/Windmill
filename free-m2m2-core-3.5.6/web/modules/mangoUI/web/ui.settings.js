(window.webpack_jsonp_mangoUI=window.webpack_jsonp_mangoUI||[]).push([[13],{3476:function(t,e){t.exports='<h1 ma-tr="ui.app.uiSettings"></h1>\n\n<form name="$ctrl.form">\n    <div layout layout-align="start end" layout-wrap>\n      <md-button flex="nogrow" class="md-raised md-primary" ng-click="$ctrl.save($event)" ng-disabled="$ctrl.form.$pristine"><md-icon>save</md-icon> <span ma-tr="common.save"></span></md-button>\n      <md-button flex="nogrow" class="md-raised" ng-click="$ctrl.revert($event)" ng-disabled="$ctrl.form.$pristine"><md-icon>undo</md-icon> <span ma-tr="ui.app.revert"></span></md-button>\n      <md-button flex="nogrow" class="md-raised md-warn" ng-click="$ctrl.resetToDefault($event)" ng-disabled="!$ctrl.uiSettings.userSettingsStore.jsonData"><md-icon>delete</md-icon> <span ma-tr="ui.app.resetToDefault"></span></md-button>\n    </div>\n    \n    <md-card>\n        <md-card-title>\n            <md-card-title-text>\n                <span class="md-headline" ma-tr="ui.app.chooseTheme"></span>\n            </md-card-title-text>\n        </md-card-title>\n        <md-card-content>\n            <div layout>\n                <div flex="100" flex-gt-md="50" layout="column">\n                    <md-input-container>\n                        <label ma-tr="ui.app.chooseTheme"></label>\n                        <md-select ng-model="$ctrl.uiSettings.defaultTheme" ng-change="$ctrl.uiSettings.generateTheme()">\n                            <md-option ng-repeat="(name,theme) in $ctrl.uiSettings.theming.THEMES" ng-if="name.indexOf(\'dynamicTheme\') !== 0" ng-value="name" ng-bind="name"></md-option>\n                        </md-select>\n                    </md-input-container>\n                    <div>\n                        <md-checkbox flex ng-model="$ctrl.uiSettings.themes[$ctrl.uiSettings.defaultTheme].dark"\n                          ng-disabled="$ctrl.uiSettings.defaultTheme !== \'userTheme\'" ng-change="$ctrl.uiSettings.generateTheme()">\n                            <span ma-tr="ui.app.darkTheme"></span>\n                        </md-checkbox>\n                    </div>\n                </div>\n        \n                <md-input-container flex="100" flex-gt-md="50">\n                    <label ma-tr="ui.app.logoSource"></label>\n                    <input name="logoSrc" ng-model="$ctrl.uiSettings.logoSrc" ma-empty-input ng-model-options="{debounce: 500}">\n                    <md-button class="ma-input-button md-icon-button"\n                    \t\tma-choose-file="$ctrl.uiSettings.logoSrc = $url; $ctrl.form.logoSrc.$setDirty()"\n                    \t\tma-choose-file-selected="$ctrl.uiSettings.logoSrc"\n                    \t\tma-choose-file-options="{mimeTypes: \'image/*\', extensions: \'png,jpg,jpeg,svg\', preview:true, store:\'public\'}">\n    \t\t\t\t  \t<md-icon>attachment</md-icon>\n    \t\t\t\t  \t<md-tooltip ma-tr="common.chooseFile"></md-tooltip>\n    \t\t\t\t</md-button>\n                </md-input-container>\n            </div>\n        </md-card-content>\n    </md-card>\n    \n    <md-card>\n        <md-card-title>\n            <md-card-title-text>\n                <span class="md-headline" ma-tr="ui.app.themeHues"></span>\n            </md-card-title-text>\n        </md-card-title>\n        <md-card-content>\n            <p ma-tr="ui.app.chooseUserToEditPalettes"></p>\n            <md-checkbox ng-model="showAllHues"><span ma-tr="ui.app.showAllHues"></span></md-checkbox>\n            \n            <div layout layout-wrap>\n                <div flex="50" flex-gt-md="25" layout="column" layout-align="start stretch">\n                    <h4 layout="column" layout-align="start center" ma-tr="ui.app.primaryPalette"></h4>\n                    <md-input-container >\n                        <md-select ng-model="$ctrl.uiSettings.themes[$ctrl.uiSettings.defaultTheme].primaryPalette"\n                            ng-disabled="$ctrl.uiSettings.defaultTheme !== \'userTheme\'" ng-change="$ctrl.uiSettings.generateTheme()">\n                          <md-option ng-value="undefined"><em ma-tr="ui.app.notSet"></em></md-option>\n                          <md-option ng-repeat="(name,palette) in $ctrl.uiSettings.theming.PALETTES" ng-value="name" ng-bind="name"></md-option>\n                        </md-select>\n                    </md-input-container>\n                    <ma-color-preview theme="{{$ctrl.uiSettings.defaultTheme}}" palette="primary"></ma-color-preview>\n                </div>\n                <div flex="50" flex-gt-md="25" layout="column" layout-align="start stretch">\n                    <h4 layout="column" layout-align="start center" ma-tr="ui.app.accentPalette"></h4>\n                    <md-input-container >\n                        <md-select ng-model="$ctrl.uiSettings.themes[$ctrl.uiSettings.defaultTheme].accentPalette"\n                            ng-disabled="$ctrl.uiSettings.defaultTheme !== \'userTheme\'" ng-change="$ctrl.uiSettings.generateTheme()">\n                          <md-option ng-value="undefined"><em ma-tr="ui.app.notSet"></em></md-option>\n                          <md-option ng-repeat="(name,palette) in $ctrl.uiSettings.theming.PALETTES" ng-value="name" ng-bind="name"></md-option>\n                        </md-select>\n                    </md-input-container>\n                    <ma-color-preview theme="{{$ctrl.uiSettings.defaultTheme}}" palette="accent"></ma-color-preview>\n                </div>\n                <div flex="50" flex-gt-md="25" layout="column" layout-align="start stretch">\n                    <h4 layout="column" layout-align="start center" ma-tr="ui.app.warnPalette"></h4>\n                    <md-input-container >\n                        <md-select ng-model="$ctrl.uiSettings.themes[$ctrl.uiSettings.defaultTheme].warnPalette"\n                            ng-disabled="$ctrl.uiSettings.defaultTheme !== \'userTheme\'" ng-change="$ctrl.uiSettings.generateTheme()">\n                          <md-option ng-value="undefined"><em ma-tr="ui.app.notSet"></em></md-option>\n                          <md-option ng-repeat="(name,palette) in $ctrl.uiSettings.theming.PALETTES" ng-value="name" ng-bind="name"></md-option>\n                        </md-select>\n                    </md-input-container>\n                    <ma-color-preview theme="{{$ctrl.uiSettings.defaultTheme}}" palette="warn"></ma-color-preview>\n                </div>\n                <div flex="50" flex-gt-md="25" layout="column" layout-align="start stretch">\n                    <h4 layout="column" layout-align="start center" ma-tr="ui.app.backgroundPalette"></h4>\n                    <md-input-container >\n                        <md-select ng-model="$ctrl.uiSettings.themes[$ctrl.uiSettings.defaultTheme].backgroundPalette"\n                            ng-disabled="$ctrl.uiSettings.defaultTheme !== \'userTheme\'" ng-change="$ctrl.uiSettings.generateTheme()">\n                          <md-option ng-value="undefined"><em ma-tr="ui.app.notSet"></em></md-option>\n                          <md-option ng-repeat="(name,palette) in $ctrl.uiSettings.theming.PALETTES" ng-value="name" ng-bind="name"></md-option>\n                        </md-select>\n                    </md-input-container>\n                    <ma-color-preview theme="{{$ctrl.uiSettings.defaultTheme}}" palette="background"></ma-color-preview>\n                </div>\n            </div>\n    \n            <div layout layout-wrap ng-show="showAllHues">\n                <div flex="50" flex-gt-md="25" layout="column" layout-align="start stretch">\n                    <ma-color-preview theme="{{$ctrl.uiSettings.defaultTheme}}" palette="primary" all-hues="true"></ma-color-preview>\n                </div>\n                <div flex="50" flex-gt-md="25" layout="column" layout-align="start stretch">\n                    <ma-color-preview theme="{{$ctrl.uiSettings.defaultTheme}}" palette="accent" all-hues="true"></ma-color-preview>\n                </div>\n                <div flex="50" flex-gt-md="25" layout="column" layout-align="start stretch">\n                    <ma-color-preview theme="{{$ctrl.uiSettings.defaultTheme}}" palette="warn" all-hues="true"></ma-color-preview>\n                </div>\n                <div flex="50" flex-gt-md="25" layout="column" layout-align="start stretch">\n                    <ma-color-preview theme="{{$ctrl.uiSettings.defaultTheme}}" palette="background" all-hues="true"></ma-color-preview>\n                </div>\n            </div>\n        </md-card-content>\n    </md-card>\n    \n    </md-card-content>\n    </md-card>\n    \n    \n    <md-card>\n        <md-card-title>\n            <md-card-title-text>\n                <span class="md-headline" ma-tr="ui.app.codeColoring"></span>\n            </md-card-title-text>\n        </md-card-title>\n        <md-card-content>\n            <div layout="column">\n                <div layout>\n            \t<md-input-container flex="100" flex-gt-md="33">\n                    <label ma-tr="ui.app.codeColoring"></label>\n                    <md-select ng-model="$ctrl.uiSettings.codeTheme">\n                        <md-option value="ambiance">Ambiance</md-option>\n                        <md-option value="chaos">Chaos</md-option>\n                        <md-option value="chrome">Chrome</md-option>\n                        <md-option value="clouds_midnight">Clouds Midnight</md-option>\n                        <md-option value="clouds">Clouds</md-option>\n                        <md-option value="cobalt">Cobalt</md-option>\n                        <md-option value="crimson_editor">Crimson Editor</md-option>\n                        <md-option value="dawn">Dawn</md-option>\n                        <md-option value="dreamweaver">Dreamweaver</md-option>\n                        <md-option value="ecliplse">Eclipse</md-option>\n                        <md-option value="github">Github</md-option>\n                        <md-option value="idle_fingers">Idle Fingers</md-option>\n                        <md-option value="iplastic">iPlastic</md-option>\n                        <md-option value="katzenmilch">Katzenmilch</md-option>\n                        <md-option value="kr_theme">Kr Theme</md-option>\n                        <md-option value="kuroir">Kuroir</md-option>\n                        <md-option value="merbivore_soft">Merbivore Soft</md-option>\n                        <md-option value="merbivore">Merbivore</md-option>\n                        <md-option value="mono_industrial">Mono Industrial</md-option>\n                        <md-option value="monokai">Monokai</md-option>\n                        <md-option value="pastel_on_dark">Pastel On Dark</md-option>\n                        <md-option value="solarized_dark">Solarized Dark</md-option>\n                        <md-option value="solarized_light">Solarized Light</md-option>\n                        <md-option value="sqlserver">Sql Server</md-option>\n                        <md-option value="terminal">Terminal</md-option>\n                        <md-option value="textmate">TextMate</md-option>\n                        <md-option value="tomorrow_night_blue">Tomorrow Night Blue</md-option>\n                        <md-option value="tomorrow_night_bright">Tomorrow Night Bright</md-option>\n                        <md-option value="tomorrow_night_eighties">Tomorrow Night Eighties</md-option>\n                        <md-option value="tomorrow_night">Tomorrow Night</md-option>\n                        <md-option value="tomorrow">Tomorrow</md-option>\n                        <md-option value="twilight">Twilight</md-option>\n                        <md-option value="vibrant_ink">Vibrant Ink</md-option>\n                        <md-option value="xcode">xCode</md-option>\n                    </md-select>\n                </md-input-container>\n                </div>\n                <ma-ace-editor style="height: 60px; min-height:60px;"\n                    ng-model="codePreview" ng-init="codePreview=\'&lt;h1&gt;Code Coloring Preview&lt;/h1&gt;\n        &lt;ma-calc input=&quot;points | filter:{name:&lsquo;Real Power &lsquo; + phase + &lsquo; (kW)&lsquo;} | maFirst&quot; output=&quot;power&quot;&gt;&lt;/ma-calc&gt;\'" theme="{{$ctrl.uiSettings.codeTheme}}"></ma-ace-editor>\n            </div>\n        </md-card-content>\n    </md-card>\n    \n    <md-card>\n        <md-card-title>\n            <md-card-title-text>\n                <span class="md-headline" ma-tr="ui.app.eventAudioFiles"></span>\n            </md-card-title-text>\n        </md-card-title>\n        <md-card-content>\n            <div layout layout-align="start center" layout-wrap>\n                <md-input-container flex="100" flex-gt-md="50">\n                    <label><md-icon class="fa fa-flag ma-alarm-flag ma-alarm-level-none"></md-icon><span ma-tr="common.alarmLevel.none"></span></label>\n                    <input name="eventAudioFiles.NONE" ng-model="$ctrl.uiSettings.eventAudioFiles.NONE">\n    \n                    <md-button class="ma-input-button md-icon-button"\n                            ma-choose-file="$ctrl.uiSettings.eventAudioFiles.NONE = $url; $ctrl.form[\'eventAudioFiles.NONE\'].$setDirty()"\n                            ma-choose-file-selected="$ctrl.uiSettings.eventAudioFiles.NONE"\n                            ma-choose-file-options="{mimeTypes: \'audio/*\'}">\n                        <md-icon>attachment</md-icon>\n                        <md-tooltip ma-tr="common.chooseFile"></md-tooltip>\n                    </md-button>\n                </md-input-container>\n                <md-input-container flex="100" flex-gt-md="50">\n                    <label><md-icon class="fa fa-flag ma-alarm-flag ma-alarm-level-information"></md-icon><span ma-tr="common.alarmLevel.info"></span></label>\n                    <input name="eventAudioFiles.INFORMATION" ng-model="$ctrl.uiSettings.eventAudioFiles.INFORMATION">\n    \n                    <md-button class="ma-input-button md-icon-button"\n                            ma-choose-file="$ctrl.uiSettings.eventAudioFiles.INFORMATION = $url; $ctrl.form[\'eventAudioFiles.INFORMATION\'].$setDirty()"\n                            ma-choose-file-selected="$ctrl.uiSettings.eventAudioFiles.INFORMATION"\n                            ma-choose-file-options="{mimeTypes: \'audio/*\'}">\n                        <md-icon>attachment</md-icon>\n                        <md-tooltip ma-tr="common.chooseFile"></md-tooltip>\n                    </md-button>\n                </md-input-container>\n                <md-input-container flex="100" flex-gt-md="50">\n                    <label><md-icon class="fa fa-flag ma-alarm-flag ma-alarm-level-important"></md-icon><span ma-tr="common.alarmLevel.important"></span></label>\n                    <input name="eventAudioFiles.IMPORTANT" ng-model="$ctrl.uiSettings.eventAudioFiles.IMPORTANT">\n    \n                    <md-button class="ma-input-button md-icon-button"\n                            ma-choose-file="$ctrl.uiSettings.eventAudioFiles.IMPORTANT = $url; $ctrl.form[\'eventAudioFiles.IMPORTANT\'].$setDirty()"\n                            ma-choose-file-selected="$ctrl.uiSettings.eventAudioFiles.IMPORTANT"\n                            ma-choose-file-options="{mimeTypes: \'audio/*\'}">\n                        <md-icon>attachment</md-icon>\n                        <md-tooltip ma-tr="common.chooseFile"></md-tooltip>\n                    </md-button>\n                </md-input-container>\n                <md-input-container flex="100" flex-gt-md="50">\n                    <label><md-icon class="fa fa-flag ma-alarm-flag ma-alarm-level-warning"></md-icon><span ma-tr="common.alarmLevel.warning"></span></label>\n                    <input name="eventAudioFiles.WARNING" ng-model="$ctrl.uiSettings.eventAudioFiles.WARNING">\n    \n                    <md-button class="ma-input-button md-icon-button"\n                            ma-choose-file="$ctrl.uiSettings.eventAudioFiles.WARNING = $url; $ctrl.form[\'eventAudioFiles.WARNING\'].$setDirty()"\n                            ma-choose-file-selected="$ctrl.uiSettings.eventAudioFiles.WARNING"\n                            ma-choose-file-options="{mimeTypes: \'audio/*\'}">\n                        <md-icon>attachment</md-icon>\n                        <md-tooltip ma-tr="common.chooseFile"></md-tooltip>\n                    </md-button>\n                </md-input-container>\n                <md-input-container flex="100" flex-gt-md="50">\n                    <label><md-icon class="fa fa-flag ma-alarm-flag ma-alarm-level-urgent"></md-icon><span ma-tr="common.alarmLevel.urgent"></span></label>\n                    <input name="eventAudioFiles.URGENT" ng-model="$ctrl.uiSettings.eventAudioFiles.URGENT">\n    \n                    <md-button class="ma-input-button md-icon-button"\n                            ma-choose-file="$ctrl.uiSettings.eventAudioFiles.URGENT = $url; $ctrl.form[\'eventAudioFiles.URGENT\'].$setDirty()"\n                            ma-choose-file-selected="$ctrl.uiSettings.eventAudioFiles.URGENT"\n                            ma-choose-file-options="{mimeTypes: \'audio/*\'}">\n                        <md-icon>attachment</md-icon>\n                        <md-tooltip ma-tr="common.chooseFile"></md-tooltip>\n                    </md-button>\n                </md-input-container>\n                <md-input-container flex="100" flex-gt-md="50">\n                    <label><md-icon class="fa fa-flag ma-alarm-flag ma-alarm-level-critical"></md-icon><span ma-tr="common.alarmLevel.critical"></span></label>\n                    <input name="eventAudioFiles.CRITICAL" ng-model="$ctrl.uiSettings.eventAudioFiles.CRITICAL">\n    \n                    <md-button class="ma-input-button md-icon-button"\n                            ma-choose-file="$ctrl.uiSettings.eventAudioFiles.CRITICAL = $url; $ctrl.form[\'eventAudioFiles.CRITICAL\'].$setDirty()"\n                            ma-choose-file-selected="$ctrl.uiSettings.eventAudioFiles.CRITICAL"\n                            ma-choose-file-options="{mimeTypes: \'audio/*\'}">\n                        <md-icon>attachment</md-icon>\n                        <md-tooltip ma-tr="common.chooseFile"></md-tooltip>\n                    </md-button>\n                </md-input-container>\n                <md-input-container flex="100" flex-gt-md="50">\n                    <label><md-icon class="fa fa-flag ma-alarm-flag ma-alarm-level-life-safety"></md-icon><span ma-tr="common.alarmLevel.lifeSafety"></span></label>\n                    <input name="eventAudioFiles.LIFE_SAFETY" ng-model="$ctrl.uiSettings.eventAudioFiles.LIFE_SAFETY">\n    \n                    <md-button class="ma-input-button md-icon-button"\n                            ma-choose-file="$ctrl.uiSettings.eventAudioFiles.LIFE_SAFETY = $url; $ctrl.form[\'eventAudioFiles.LIFE_SAFETY\'].$setDirty()"\n                            ma-choose-file-selected="$ctrl.uiSettings.eventAudioFiles.LIFE_SAFETY"\n                            ma-choose-file-options="{mimeTypes: \'audio/*\'}">\n                        <md-icon>attachment</md-icon>\n                        <md-tooltip ma-tr="common.chooseFile"></md-tooltip>\n                    </md-button>\n                </md-input-container>\n                <md-input-container flex="100" flex-gt-md="50">\n                    <label><md-icon class="fa fa-times-circle ma-alarm-flag ma-alarm-level-do-not-log"></md-icon><span ma-tr="common.alarmLevel.doNotLog"></span></label>\n                    <input name="eventAudioFiles.DO_NOT_LOG" ng-model="$ctrl.uiSettings.eventAudioFiles.DO_NOT_LOG">\n    \n                    <md-button class="ma-input-button md-icon-button"\n                            ma-choose-file="$ctrl.uiSettings.eventAudioFiles.DO_NOT_LOG = $url; $ctrl.form[\'eventAudioFiles.DO_NOT_LOG\'].$setDirty()"\n                            ma-choose-file-selected="$ctrl.uiSettings.eventAudioFiles.DO_NOT_LOG"\n                            ma-choose-file-options="{mimeTypes: \'audio/*\'}">\n                        <md-icon>attachment</md-icon>\n                        <md-tooltip ma-tr="common.chooseFile"></md-tooltip>\n                    </md-button>\n                </md-input-container>\n            </div>\n        </md-card-content>\n    </md-card>\n    \n    <md-card>\n        <md-card-title>\n            <md-card-title-text>\n                <span class="md-headline" ma-tr="ui.app.miscSettings"></span>\n            </md-card-title-text>\n        </md-card-title>\n        <md-card-content>\n            <div layout layout-align="start center" layout-wrap>\n                <md-input-container flex="100" flex-gt-md="50">\n                    <label ma-tr="ui.app.mapsApiKey"></label>\n                    <input ng-model="$ctrl.uiSettings.googleMapsApiKey" ma-empty-input>\n                </md-input-container>\n                <md-input-container flex="100" flex-gt-md="50">\n                    <label ma-tr="ui.app.googleAnalyticsPropertyId"></label>\n                    <input ng-model="$ctrl.uiSettings.googleAnalyticsPropertyId" ma-empty-input>\n                </md-input-container>\n                <md-input-container flex="100" flex-gt-md="50">\n                    <label ma-tr="ui.app.userModuleUrl"></label>\n                    <input name="userModule" ng-model="$ctrl.uiSettings.userModule" ma-empty-input>\n    \n                    <md-button class="ma-input-button md-icon-button"\n                    \t\tma-choose-file="$ctrl.uiSettings.userModule = $url; $ctrl.form.userModule.$setDirty()"\n                    \t\tma-choose-file-selected="$ctrl.uiSettings.userModule"\n                    \t\tma-choose-file-options="{mimeTypes: \'application/javascript\', extensions: \'js\', store:\'public\'}">\n    \t\t\t\t  \t<md-icon>attachment</md-icon>\n    \t\t\t\t  \t<md-tooltip ma-tr="common.chooseFile"></md-tooltip>\n    \t\t\t\t</md-button>\n                </md-input-container>\n                <md-input-container flex="100" flex-gt-md="50">\n                    <label ma-tr="ui.app.userCssUrl"></label>\n                    <input name="userCss" ng-model="$ctrl.uiSettings.userCss" ma-empty-input>\n    \n                    <md-button class="ma-input-button md-icon-button"\n                    \t\tma-choose-file="$ctrl.uiSettings.userCss = $url; $ctrl.form.userCss.$setDirty()"\n                    \t\tma-choose-file-selected="$ctrl.uiSettings.userCss"\n                    \t\tma-choose-file-options="{mimeTypes: \'text/css\', extensions: \'css\', store:\'public\'}">\n    \t\t\t\t  \t<md-icon>attachment</md-icon>\n    \t\t\t\t  \t<md-tooltip ma-tr="common.chooseFile"></md-tooltip>\n    \t\t\t\t</md-button>\n                </md-input-container>\n                <md-input-container flex="100" flex-gt-md="50">\n                    <label ma-tr="ui.app.pointValuesLimit"></label>\n                    <input ng-model="$ctrl.uiSettings.pointValuesLimit" type="number" min="100" max="100000" step="1">\n                </md-input-container>\n            </div>\n        </md-card-content>\n    </md-card>\n    \n    <md-card>\n        <md-card-title>\n            <md-card-title-text>\n                <span class="md-headline" ma-tr="ui.app.autoLoginSettingsAll"></span>\n            </md-card-title-text>\n        </md-card-title>\n        <md-card-content>\n            <div class="md-padding ma-margin-bottom" md-colors="{background: \'warn\'}">\n                <div><strong ma-tr="ui.app.autoLoginWarning"></strong></div>\n                <div ma-tr="ui.app.autoLoginNoteUI"></div>\n            </div>\n            <div layout layout-align="start center" layout-wrap>\n                <md-input-container flex="100" flex-gt-md="50">\n                    <label ma-tr="login.userId"></label>\n                    <input ng-model="$ctrl.uiSettings.autoLoginUsername" ma-empty-input>\n                </md-input-container>\n                <md-input-container flex="100" flex-gt-md="50">\n                    <label ma-tr="login.password"></label>\n                    <input ng-model="$ctrl.uiSettings.autoLoginPassword" ma-empty-input>\n                </md-input-container>\n            </div>\n        \t<div><em ma-tr="ui.app.autoLoginTestManually"></em></div>\n        </md-card-content>\n    </md-card>\n    \n    \n    <div layout layout-align="start end" layout-wrap>\n      <md-button flex="nogrow" class="md-raised md-primary" ng-click="$ctrl.save($event)" ng-disabled="$ctrl.form.$pristine"><md-icon>save</md-icon> <span ma-tr="common.save"></span></md-button>\n      <md-button flex="nogrow" class="md-raised" ng-click="$ctrl.revert($event)" ng-disabled="$ctrl.form.$pristine"><md-icon>undo</md-icon> <span ma-tr="ui.app.revert"></span></md-button>\n      <md-button flex="nogrow" class="md-raised md-warn" ng-click="$ctrl.resetToDefault($event)" ng-disabled="!$ctrl.uiSettings.userSettingsStore.jsonData"><md-icon>delete</md-icon> <span ma-tr="ui.app.resetToDefault"></span></md-button>\n    </div>\n</form>\n'},3477:function(t,e){t.exports='<div flex="noshrink" layout="column" layout-gt-md="row" layout-gt-lg="row">\n    <md-card flex-gt-md="25" flex-gt-lg="20" layout="column" ng-if="$ctrl.User.current.admin">\n        <md-toolbar class="md-hue-3">\n            <div class="md-toolbar-tools">\n                <span ma-tr="users.selectUserToEdit"></span>\n                <div flex></div>\n                <md-button class="md-raised md-primary" ng-click="$ctrl.addUser($event)" ng-if="!$ctrl.$mdMedia(\'gt-md\')">\n                    <md-icon>person_add</md-icon> <span ma-tr="users.add"></span>\n                </md-button>\n            </div>\n        </md-toolbar>\n        \n        <div class="md-padding" layout="column" ng-if="!$ctrl.$mdMedia(\'gt-md\')">\n            <ma-user-select ng-model="$ctrl.user" ng-change="$ctrl.updateUrl()" flex>\n                <ma-label ma-tr="users.selectUserToEdit"></ma-label>\n            </ma-user-select>\n        </div>\n        <div layout="column" ng-if="$ctrl.$mdMedia(\'gt-md\')">\n            <ma-user-list ng-model="$ctrl.user" ng-change="$ctrl.updateUrl()" flex\n                    show-new-button="true" new-button-clicked="$ctrl.addUser($event)">\n                <ma-label ma-tr="users.selectUserToEdit"></ma-label>\n            </ma-user-list>\n        </div>\n    </md-card>\n\n    <md-card flex layout="column">\n        <md-toolbar class="md-hue-3">\n            <div class="md-toolbar-tools">\n                <span ng-if="!$ctrl.user.isNew" ma-tr="ui.app.editUserX" ma-tr-args="[$ctrl.user.username]"></span>\n                <span ng-if="$ctrl.user.isNew" ma-tr="ui.app.editNewUser"></span>\n            </div>\n        </md-toolbar>\n        \n        <md-tabs flex layout="column" md-dynamic-height="true" md-border-bottom="true" md-swipe-content="false">\n            <md-tab>\n                <md-tab-label>\n                    <span ng-if="!$ctrl.user.isNew" ma-tr="users.editUser"></span>\n                    <span ng-if="$ctrl.user.isNew" ma-tr="users.add"></span>\n                </md-tab-label>\n                <md-tab-body>\n                    <div class="md-padding" layout="column">\n                        <ma-user-editor flex user="$ctrl.user" on-delete="$ctrl.userDeleted($user)" on-save="$ctrl.userSaved($user, $previous)"></ma-user-editor>\n                    </div>\n                </md-tab-body>\n            </md-tab>\n            <md-tab ng-if="!$ctrl.user.isNew">\n                <md-tab-label>\n                    <span ma-tr="ui.app.authTokens"></span>\n                </md-tab-label>\n                <md-tab-body>\n                    <div class="md-padding" layout="column">\n                        <ma-user-auth-tokens flex user="$ctrl.user"></ma-user-auth-tokens>\n                    </div>\n                </md-tab-body>\n            </md-tab>\n        </md-tabs>\n    </md-card>\n</div>\n'},3478:function(t,e){t.exports='<md-card ng-if="!$ctrl.$mdMedia(\'gt-md\')">\n    <md-card-content class="ma-ui-system-settings-dropdown" layout>\n        <md-input-container flex>\n            <label ma-tr="ui.app.chooseASection"></label>\n            <md-select ng-init="section = $ctrl.$state.current" ng-model="section" ng-change="" ng-model-options="{trackBy: \'$value.name\'}">\n                <md-option ng-repeat="child in $ctrl.menu.menuItemsByName[\'ui.settings.system\'].children | orderBy:[\'weight\', \'name\'] track by child.name"\n                    ng-value="child" ui-sref="{{child.name}}"><span ma-tr="{{child.menuTr}}"></span></md-option>\n            </md-select>\n        </md-input-container>\n    </md-card-content>\n</md-card>\n\n<div flex="noshrink" layout>\n    <div layout="column" flex="20" ng-if="$ctrl.$mdMedia(\'gt-md\')">\n        <md-card flex>\n            <md-card-title flex="none">\n              <md-card-title-text>\n                <div class="md-headline" ma-tr="ui.app.chooseASection"></div>\n              </md-card-title-text>\n            </md-card-title>\n            <md-card-content class="ma-no-padding">\n                <md-list class="ma-no-padding">\n                    <md-list-item ng-repeat="child in $ctrl.menu.menuItemsByName[\'ui.settings.system\'].children | orderBy:[\'weight\', \'name\'] track by child.name"\n                            ui-sref="{{child.name}}" md-colors="{\'background\': $ctrl.$state.current.name === child.name ? \'accent\' : \'background-hue-1\'}">\n                        <p ma-tr="{{child.menuTr}}"></p>\n                    </md-list-item>\n                </md-list>\n            </md-card-content>\n        </md-card>\n    </div>\n    \n    <div layout="column" flex>\n        <md-card class="ma-ui-system-settings-main">\n            <md-card-title ng-if="$ctrl.$mdMedia(\'gt-md\')">\n              <md-card-title-text>\n                <div class="md-headline" ma-tr="{{$ctrl.$state.current.menuTr}}"></div>\n              </md-card-title-text>\n            </md-card-title>\n            <md-card-content ng-form="$ctrl.settingForm">\n                <div ui-view></div>\n            </md-card-content>\n            <md-card-actions>\n                <md-button class="md-raised md-primary md-hue-1" ng-click="$ctrl.saveSection()" ng-disabled="$ctrl.settingForm.$pristine || $ctrl.savePromise">\n                    <md-icon ng-hide="$ctrl.savedIcon || $ctrl.errorIcon">save</md-icon>\n                    <md-icon ng-show="$ctrl.savedIcon">check</md-icon>\n                    <md-icon ng-show="$ctrl.errorIcon">error_outline</md-icon>\n                    <span ma-tr="common.save"></span>\n                </md-button>\n                <span ng-if="$ctrl.error" md-colors="{color: \'warn\'}" ma-tr="ui.components.errorSavingSettings" ma-tr-args="[$ctrl.error.message]"></span>\n                <span ng-if="$ctrl.savedMessage" md-colors="{color: \'accent\'}" ma-tr="ui.app.settingsSaved"></span>\n            </md-card-actions>\n        </md-card>\n    </div>\n</div>\n'},3479:function(t,e){t.exports='<md-dialog flex="100" flex-gt-xs="{{$ctrl.smallDialog ? 60 : 80}}" flex-gt-sm="{{$ctrl.smallDialog ? 40 : 70}}" flex-gt-md="{{$ctrl.smallDialog ? 30 : 60}}" flex-gt-lg="{{$ctrl.smallDialog ? 20 : 50}}">\n    <md-toolbar>\n        <div class="md-toolbar-tools">\n            <h2 ng-bind="$ctrl.title"></h2>\n            <span flex></span>\n            <md-button class="md-icon-button" ng-click="$ctrl.cancel()">\n                <md-icon>close</md-icon>\n            </md-button>\n        </div>\n    </md-toolbar>\n    <md-dialog-content layout="column" class="md-padding" flex>\n        <md-input-container flex>\n            <textarea ng-model="$ctrl.textContent" md-maxlength="150" rows="5" max-rows="15" id="dialog-text-area"\n                      md-select-on-focus></textarea>\n        </md-input-container>\n    </md-dialog-content>\n\n    <md-dialog-actions layout="row">\n        <md-button ng-click="$ctrl.copyToClipBoard()">\n            <md-icon>\n                content_copy\n            </md-icon>\n            <span ma-tr="ui.settings.systemStatus.copyToClipboard"></span>\n        </md-button>\n        <md-button class="md-raised" ng-click="$ctrl.ok($event)">\n            <span ma-tr="common.ok"></span>\n        </md-button>\n    </md-dialog-actions>\n</md-dialog>'},3480:function(t,e){t.exports='<md-card ng-if="!$ctrl.$mdMedia(\'gt-md\')">\n    <md-card-content class="ma-ui-system-settings-dropdown" layout>\n        <md-input-container flex>\n            <label ma-tr="ui.app.chooseASection"></label>\n            <md-select ng-init="section = $ctrl.$state.current" ng-model="section" ng-change="" ng-model-options="{trackBy: \'$value.name\'}">\n                <md-option ng-repeat="child in $ctrl.menu.menuItemsByName[\'ui.settings.systemStatus\'].children | orderBy:[\'weight\', \'name\'] track by child.name"\n                    ng-value="child" ui-sref="{{child.name}}"><span ma-tr="{{child.menuTr}}"></span></md-option>\n            </md-select>\n        </md-input-container>\n    </md-card-content>\n</md-card>\n\n<div flex="noshrink" layout>\n    <div layout="column" flex="20" ng-if="$ctrl.$mdMedia(\'gt-md\')">\n        <md-card flex>\n            <md-card-title flex="none">\n              <md-card-title-text>\n                <div class="md-headline" ma-tr="ui.app.chooseASection"></div>\n              </md-card-title-text>\n            </md-card-title>\n            <md-card-content class="ma-no-padding">\n                <md-list class="ma-no-padding">\n                    <md-list-item\n                        ng-repeat="child in $ctrl.menu.menuItemsByName[\'ui.settings.systemStatus\'].children | orderBy:[\'weight\', \'name\'] track by child.name"\n                            ui-sref="{{child.name}}" md-colors="{\'background\': $ctrl.$state.current.name === child.name ? \'accent\' : \'background-hue-1\'}">\n                        <p ma-tr="{{child.menuTr}}"></p>\n                    </md-list-item>\n                </md-list>\n            </md-card-content>\n        </md-card>\n    </div>\n    \n    <div layout="column" flex>\n        <md-card>\n            <md-card-title ng-if="$ctrl.$mdMedia(\'gt-md\')">\n              <md-card-title-text>\n                <div class="md-headline" ma-tr="{{$ctrl.$state.current.menuTr}}"></div>\n              </md-card-title-text>\n            </md-card-title>\n            <md-card-content>\n                <div ui-view></div>\n            </md-card-content>\n        </md-card>\n    </div>\n</div>\n'},3481:function(t,e){t.exports='<md-card class="watch-list-steps">\n  <form name="$ctrl.watchListForm" novalidate ng-submit="$ctrl.save()">\n  <md-toolbar class="md-hue-3">\n    <div class="md-toolbar-tools">\n      <md-input-container flex flex-gt-md="25">\n        <md-select ng-model="$ctrl.selectedWatchlist" ng-model-options="{trackBy: \'$value.xid\'}" ng-change="$ctrl.watchlistSelected()">\n          <md-option ng-value="undefined"><i ma-tr="ui.app.unsavedWatchlist"></i></md-option>\n          <md-option ng-value="watchlist" ng-repeat="watchlist in $ctrl.watchlists track by watchlist.xid" ng-bind="watchlist.name"></md-option>\n        </md-select>\n      </md-input-container>\n      <div flex></div>\n        <md-button class="md-raised" ng-click="$ctrl.newWatchlist()"><md-icon>add</md-icon>&nbsp;<span ma-tr="ui.app.new"></span></md-button>\n        <md-button class="md-warn md-raised" ng-click="$ctrl.deleteWatchlist($event)" ng-disabled="$ctrl.watchlist.isNew"><md-icon>delete</md-icon>&nbsp;<span ma-tr="common.delete"></span></md-button>\n        <md-button class="md-primary md-raised" type="submit"><md-icon>save</md-icon>&nbsp;<span ma-tr="common.save"></span></md-button>\n        <md-button class="md-raised" ui-sref="ui.watchList({watchListXid: $ctrl.watchlist.xid})" ng-disabled="$ctrl.watchlist.isNew"><md-icon>visibility</md-icon>&nbsp;<span ma-tr="common.view"></span></md-button>\n    </div>\n  </md-toolbar>\n  <md-card-content class="ma-no-padding">\n    <md-tabs md-dynamic-height md-border-bottom md-selected="$ctrl.selectedTab">\n      <md-tab id="watchlist-settings">\n        <md-tab-label><span ma-tr="ui.app.watchListSettings"></span></md-tab-label>\n        <md-tab-body>\n          <div ng-include="\'watchListBuilder.settings.html\'"></div>\n        </md-tab-body>\n      </md-tab>\n      <md-tab id="watchlist-parameters" ng-if="$ctrl.watchlist.type === \'query\'">\n        <md-tab-label><span ma-tr="ui.app.parameters"></span></md-tab-label>\n        <md-tab-body>\n          <div ng-include="\'watchListBuilder.parameters.html\'"></div>\n        </md-tab-body>\n      </md-tab>\n      <md-tab id="watchlist-query" ng-if="$ctrl.watchlist.type === \'query\'">\n        <md-tab-label><span ma-tr="ui.app.query"></span></md-tab-label>\n        <md-tab-body>\n          <div ng-include="\'watchListBuilder.query.html\'"></div>\n        </md-tab-body>\n      </md-tab>\n      <md-tab id="watchlist-tags" ng-if="$ctrl.watchlist.type === \'tags\'">\n        <md-tab-label><span ma-tr="ui.app.selectTags"></span></md-tab-label>\n        <md-tab-body>\n          <div ng-include="\'watchListBuilder.selectTags.html\'"></div>\n        </md-tab-body>\n      </md-tab>\n      <md-tab id="watchlist-query-preview" ng-if="$ctrl.watchlist.type === \'query\' || $ctrl.watchlist.type === \'tags\'">\n        <md-tab-label><span ma-tr="ui.app.queryPreview"></span>&nbsp;<span>(<span ng-bind="$ctrl.queryPreviewTable.total"></span>)</span></md-tab-label>\n        <md-tab-body>\n          <div ng-include="\'watchListBuilder.queryPreview.html\'"></div>\n        </md-tab-body>\n      </md-tab>\n      <md-tab id="watchlist-hierarchy" ng-if="$ctrl.watchlist.type === \'hierarchy\'">\n        <md-tab-label><span ma-tr="ui.app.selectFolders"></span></md-tab-label>\n        <md-tab-body>\n          <div ng-include="\'watchListBuilder.pointHierarchy.html\'"></div>\n        </md-tab-body>\n      </md-tab>\n      <md-tab id="watchlist-select-table" ng-if="$ctrl.watchlist.type === \'static\'">\n        <md-tab-label><span ma-tr="ui.app.selectFromTable"></span></md-tab-label>\n        <md-tab-body>\n          <div ng-include="\'watchListBuilder.selectFromTable.html\'"></div>\n        </md-tab-body>\n      </md-tab>\n      <md-tab id="watchlist-select-hierarchy" ng-if="$ctrl.watchlist.type === \'static\'">\n        <md-tab-label><span ma-tr="ui.app.selectFromHierarchy"></span></md-tab-label>\n        <md-tab-body>\n          <div ng-include="\'watchListBuilder.selectFromHierarchy.html\'" ng-hide="$ctrl.selectedTab === 0"></div>\n        </md-tab-body>\n      </md-tab>\n      <md-tab id="watchlist-selected-points" ng-if="$ctrl.watchlist.type === \'static\'">\n        <md-tab-label><span ma-tr="ui.app.selectedPoints"></span>&nbsp;(<span ng-bind="$ctrl.watchlist.points.length"></span>)</md-tab-label>\n        <md-tab-body>\n          <div ng-include="\'watchListBuilder.selectedPoints.html\'"></div>\n        </md-tab-body>\n      </md-tab>\n    </md-tabs>\n  </md-card-content>\n  <md-card-actions layout="row" layout-align="end center">\n    <md-button class="md-primary md-raised" ng-click="$ctrl.prevStep()" ng-hide="$ctrl.selectedTab === 0"><md-icon>arrow_back</md-icon>&nbsp;<span ma-tr="ui.app.prevStep"></span></md-button>\n    <md-button class="md-primary md-raised" ng-click="$ctrl.nextStep()" ng-hide="$ctrl.isLastStep()"><md-icon>arrow_forward</md-icon>&nbsp;<span ma-tr="ui.app.nextStep"></span></md-button>\n    <md-button class="md-primary md-raised" ng-click="$ctrl.save()" ng-show="$ctrl.isLastStep()"><md-icon>save</md-icon>&nbsp;<span ma-tr="common.save"></span></md-button>\n  </md-card-actions>\n  </form>\n</md-card>'},3482:function(t,e){t.exports='<div class="md-padding watchlist-settings" layout="column">\n  <md-radio-group ng-model="$ctrl.watchlist.type" ng-change="$ctrl.typeChanged()" layout="row" flex="100" flex-gt-md="50">\n    <md-radio-button ng-value="\'static\'" class="md-primary"><span ma-tr="ui.app.static"></span></md-radio-button>\n    <md-radio-button ng-value="\'query\'"><span ma-tr="ui.app.pointQuery"></span></md-radio-button>\n    <md-radio-button ng-value="\'hierarchy\'"><span ma-tr="ui.app.pointHierarchy"></span></md-radio-button>\n    <md-radio-button ng-value="\'tags\'"><span ma-tr="ui.app.watchListTypeTags"></span></md-radio-button>\n  </md-radio-group>\n  <div layout="row" layout-wrap>\n    <md-input-container flex="100" flex-gt-md="50">\n      <label ma-tr="common.name"></label>\n      <input name="name" ng-model="$ctrl.watchlist.name" required>\n      <div ng-messages="$ctrl.watchListForm.name.$error">\n        <div ng-message="required" ma-tr="ui.app.required"></div>\n      </div>\n    </md-input-container>\n    <md-input-container flex="100" flex-gt-md="50">\n      <label ma-tr="common.xid"></label>\n      <input ng-model="$ctrl.watchlist.xid">\n    </md-input-container>\n    <md-input-container flex="100" flex-gt-md="50">\n      <label ma-tr="common.user"></label>\n      <input ng-model="$ctrl.watchlist.username" disabled>\n    </md-input-container>\n    <md-input-container flex="100" flex-gt-md="50">\n      <label ma-tr="ui.app.readPermission"></label>\n      <input ng-model="$ctrl.watchlist.readPermission" pattern="^\\s*[\\w-]+?\\s*(,\\s*[\\w-]+?\\s*)*$">\n      <div ng-messages="$ctrl.watchListForm.readPermission.$error">\n        <div ng-message="pattern" ma-tr="ui.app.invalidPermissions"></div>\n      </div>\n      <ma-permissions-menu ng-model="$ctrl.watchlist.readPermission"></ma-permissions-menu>\n    </md-input-container>\n    <md-input-container flex="100" flex-gt-md="50">\n      <label ma-tr="ui.app.editPermission"></label>\n      <input name="editPermission" ng-model="$ctrl.watchlist.editPermission" ng-change="$ctrl.watchListForm.editPermission.$setValidity(\'server-error\', true)" pattern="^\\s*[\\w-]+?\\s*(,\\s*[\\w-]+?\\s*)*$">\n      <div ng-messages="$ctrl.watchListForm.editPermission.$error">\n        <div ng-message="pattern" ma-tr="ui.app.invalidPermissions"></div>\n        <div ng-message="server-error" ng-bind="$ctrl.watchListForm.editPermission.serverErrorMessage"></div>\n      </div>\n      <ma-permissions-menu ng-model="$ctrl.watchlist.editPermission"></ma-permissions-menu>\n    </md-input-container>\n  </div>\n</div>'},3483:function(t,e){t.exports='<div class="md-padding watchlist-parameters" layout="column" ng-model="$ctrl.watchlist.params" ui-sortable="{handle: \'.watchlist-parameter-main > .move-handle\'}">\n  <md-card md-colors="::{background: \'background\'}" ng-if="$ctrl.watchlist.hasParamOptions()">\n    <md-card-title>\n        <md-card-title-text>\n            <em ma-tr="ui.app.previewWatchListParameters"></em>\n        </md-card-title-text>\n    </md-card-title>\n    <md-card-content>\n        <ma-watch-list-parameters watch-list="$ctrl.watchlist" ng-model="$ctrl.watchListParams"\n            ng-change="$ctrl.queryChanged()" layout layout-align="start center" layout-wrap></ma-watch-list-parameters>\n    </md-card-content>\n  </md-card>\n  \n  <p ng-if="!$ctrl.watchlist.params.length" ma-tr="ui.app.noParameters"></p>\n  \n  <div ng-repeat="param in $ctrl.watchlist.params" layout="column" class="watchlist-parameter-row">\n    <div layout="row" layout-align="start center" class="watchlist-parameter-main">\n      <md-button class="md-icon-button remove-parameter" ng-click="$ctrl.deleteParamValues(param); $ctrl.watchlist.params.splice($index, 1);"><md-icon>clear</md-icon></md-button>\n      <md-input-container flex>\n        <label ma-tr="ui.app.label"></label>\n        <input ng-model="param.label" required md-no-asterisk>\n      </md-input-container>\n      <md-input-container flex>\n        <label ma-tr="ui.app.parameterName"></label>\n        <input ng-model="param.name" required md-no-asterisk>\n      </md-input-container>\n      <md-input-container flex>\n        <label ma-tr="ui.app.parameterType"></label>\n        <md-select ng-model="param.type" ng-change="$ctrl.paramTypeChanged(param)" required md-no-asterisk>\n          <md-option ng-value="\'input\'" ma-tr="ui.app.input"></md-option>\n          <md-option ng-value="\'select\'" ma-tr="ui.app.select"></md-option>\n          <md-option ng-value="\'number\'" ma-tr="ui.app.number"></md-option>\n          <md-option ng-value="\'numberRange\'" ma-tr="ui.app.numberRange"></md-option>\n          <md-option ng-value="\'date\'" ma-tr="ui.app.date"></md-option>\n          <md-option ng-value="\'deviceName\'" ma-tr="common.deviceName"></md-option>\n          <md-option ng-value="\'dataSource\'" ma-tr="ui.app.dataSource"></md-option>\n          <md-option ng-value="\'pointHierarchy\'" ma-tr="ui.app.pointHierarchy"></md-option>\n          <md-option ng-value="\'tagValue\'" ma-tr="ui.app.dataPointTag"></md-option>\n        </md-select>\n      </md-input-container>\n      <md-button class="md-icon-button" ng-click="showSettings=!showSettings" ng-class="{\'md-accent\': showSettings}"><md-icon>settings</md-icon></md-button>\n      <md-icon class="move-handle">reorder</md-icon>\n    </div>\n    <div ng-if="showSettings" class="watchlist-parameter-options">\n      <div ng-if="param.type === \'input\'" layout="row" layout-align="end center">\n        <md-input-container>\n          <label ma-tr="ui.app.pattern"></label>\n          <input ng-model="param.options.pattern">\n        </md-input-container>\n      </div>\n      <div ng-if="param.type === \'select\'" layout="column" layout-align="start end" ng-model="param.options.options" ui-sortable="{handle: \'.move-handle\'}">\n        <md-checkbox ng-model="param.options.multiple" ng-disabled="param.options.filtering"><span ma-tr="ui.app.selectMultiple"></span></md-checkbox>\n        <md-checkbox ng-model="param.options.filtering" ng-change="param.options.multiple = undefined"><span ma-tr="ui.app.filteringSelect"></span></md-checkbox>\n        <div ng-repeat="option in param.options.options" layout="row" layout-align="end center">\n          <md-button class="md-icon-button" ng-click="param.options.options.splice($index, 1)"><md-icon>clear</md-icon></md-button>\n          <md-input-container>\n            <label ma-tr="ui.app.label"></label>\n            <input ng-model="option.label">\n          </md-input-container>\n          <md-input-container>\n            <label ma-tr="ui.app.value"></label>\n            <input ng-model="option.value">\n          </md-input-container>\n          <md-icon class="move-handle">reorder</md-icon>\n        </div>\n        <md-button class="md-raised" ng-click="param.options.options ? param.options.options.push({}) : param.options.options = [{}]" ma-tr="ui.app.addOption"></md-button>\n      </div>\n      <div ng-if="param.type === \'number\'" layout="row" layout-align="end center">\n        <md-input-container>\n          <label ma-tr="common.stats.min"></label>\n          <input ng-model="param.options.min" type="number">\n        </md-input-container>\n        <md-input-container>\n          <label ma-tr="common.stats.max"></label>\n          <input ng-model="param.options.max" type="number">\n        </md-input-container>\n        <md-input-container>\n          <label ma-tr="ui.app.step"></label>\n          <input ng-model="param.options.step" type="number" min="1">\n        </md-input-container>\n      </div>\n      <div ng-if="param.type === \'numberRange\'" layout="row" layout-align="end center">\n        <md-input-container>\n          <label ma-tr="common.stats.start"></label>\n          <input ng-model="param.options.start" type="number">\n        </md-input-container>\n        <md-input-container>\n          <label ma-tr="common.stats.end"></label>\n          <input ng-model="param.options.end" type="number">\n        </md-input-container>\n        <md-input-container>\n          <label ma-tr="ui.app.step"></label>\n          <input ng-model="param.options.step" type="number" min="1">\n        </md-input-container>\n      </div>\n      <div ng-if="param.type === \'date\'" layout="row" layout-align="end center">\n        <md-input-container>\n          <label ma-tr="ui.app.dateMode"></label>\n          <md-select ng-model="param.options.mode">\n            <md-option ng-value="\'both\'" ma-tr="ui.app.dateModeBoth"></md-option>\n            <md-option ng-value="\'date\'" ma-tr="ui.app.dateModeDate"></md-option>\n            <md-option ng-value="\'time\'" ma-tr="ui.app.dateModeTime"></md-option>\n          </md-select>\n        </md-input-container>\n        <md-input-container>\n          <label ma-tr="ui.app.dateFormat"></label>\n          <input ng-model="param.options.format">\n        </md-input-container>\n      </div>\n      <div ng-if="param.type === \'deviceName\'" layout="row" layout-align="end center">\n        <md-input-container>\n          <label ma-tr="ui.app.dataSourceXid"></label>\n          <input ng-model="param.options.dataSourceXid">\n        </md-input-container>\n        <md-input-container>\n          <label ma-tr="ui.app.nameContains"></label>\n          <input ng-model="param.options.contains" ng-disabled="param.options.filtering">\n        </md-input-container>\n        <md-checkbox ng-model="param.options.multiple" ng-disabled="param.options.filtering"><span ma-tr="ui.app.selectMultiple"></span></md-checkbox>\n        <md-checkbox ng-model="param.options.filtering" ng-change="param.options.multiple = undefined; param.options.contains = undefined"><span ma-tr="ui.app.filteringSelect"></span></md-checkbox>\n      </div>\n      <div ng-if="param.type === \'dataSource\'" layout="row" layout-align="end center">\n        <md-input-container>\n          <label ma-tr="ui.app.xidIsLike"></label>\n          <input ng-model="param.options.xidIsLike">\n        </md-input-container>\n        <md-input-container>\n          <label ma-tr="ui.app.nameIsLike"></label>\n          <input ng-model="param.options.nameIsLike">\n        </md-input-container>\n        <md-checkbox ng-model="param.options.filtering"><span ma-tr="ui.app.filteringSelect"></span></md-checkbox>\n      </div>\n      <div ng-if="param.type === \'pointHierarchy\'" layout="row" layout-align="end center">\n        <md-input-container>\n          <label ma-tr="ui.app.hierarchyPath"></label>\n          <input ng-model="param.options.path">\n        </md-input-container>\n        <md-input-container>\n          <label ma-tr="ui.app.nameMatches"></label>\n          <input ng-model="param.options.nameMatches">\n        </md-input-container>\n        <md-input-container>\n          <label ma-tr="ui.app.replaceName"></label>\n          <input ng-model="param.options.replaceName">\n        </md-input-container>\n        <md-input-container>\n          <label ma-tr="ui.app.maxDepth"></label>\n          <input ng-model="param.options.maxDepth" type="number" min="0">\n        </md-input-container>\n        <md-checkbox ng-model="param.options.uniqueNames"><span ma-tr="ui.app.uniqueNames"></span></md-checkbox>\n        <md-checkbox ng-model="param.options.multiple" ng-disabled="param.options.filtering"><span ma-tr="ui.app.selectMultiple"></span></md-checkbox>\n        <md-checkbox ng-model="param.options.subfoldersOnly"><span ma-tr="ui.app.subFoldersOnly"></span></md-checkbox>\n        <md-checkbox ng-model="param.options.filtering" ng-change="param.options.multiple = undefined"><span ma-tr="ui.app.filteringSelect"></span></md-checkbox>\n      </div>\n      <div ng-if="param.type === \'tagValue\'">\n        <div layout="row" layout-align="end center">\n            <md-checkbox ng-model="param.options.multiple" ng-change="$ctrl.deleteParamValues(param)"><span ma-tr="ui.app.selectMultiple"></span></md-checkbox>\n            <ma-data-point-tag-key-select ng-model="param.options.tagKey"></ma-data-point-tag-key-select>\n        </div>\n        <div layout="column" layout-align="start end">\n            <md-button class="md-raised" ng-click="param.options.restrictions[\'\'] = \'\'" ma-tr="ui.components.addRestriction"></md-button>\n            <div ng-repeat="(key, value) in param.options.restrictions" layout="row" layout-align="end center">\n                <md-button class="md-icon-button" ng-click="$ctrl.deleteProperty(param.options.restrictions, key)"><md-icon>clear</md-icon></md-button>\n                <ma-data-point-tag-key-select ng-init="tagKey = key" ng-model="tagKey"\n                    ng-change="param.options.restrictions[tagKey] = value; $ctrl.deleteProperty(param.options.restrictions, key)">\n                        <ma-label ma-tr="ui.components.restrictTagKey"></ma-label>\n                </ma-data-point-tag-key-select>\n                <md-input-container>\n                    <label ma-tr="ui.components.restrictTagKeyTo" ma-tr-args="[key]"></label>\n                    <input ng-model="param.options.restrictions[key]">\n                </md-input-container>\n            </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  <div layout="row" layout-align="start center">\n    <md-button class="md-raised" ma-tr="ui.app.addParameter" ng-click="$ctrl.addParam()"></md-button>\n  </div>\n</div>\n'},3484:function(t,e){t.exports='<div class="md-padding watchlist-query" layout="column">\n  <div layout="row">\n    <md-input-container flex class="rql-input">\n      <label ma-tr="ui.app.rql"></label>\n      <input ng-model="$ctrl.watchlist.query" ng-model-options="{debounce: 1000}" ng-change="$ctrl.queryChanged()" ma-ui-bracket-escape>\n    </md-input-container>\n  </div>\n  <ma-query-builder properties="$ctrl.queryProperties" ng-model="$ctrl.watchlist.query" ng-model-options="{allowInvalid: true, debounce: 500}"\n      ng-change="$ctrl.queryChanged()">\n  </ma-query-builder>\n</div>'},3485:function(t,e){t.exports='<div class="md-padding watchlist-select-tags" layout="column" ng-model="$ctrl.watchlist.params"\n    ui-sortable="{handle: \'.watchlist-parameter-main > .move-handle\'}"  ui-sortable-stop="$ctrl.tagParamsChanged()">\n\n    <p ng-if="!$ctrl.watchlist.params.length" ma-tr="ui.app.noTags"></p>\n    \n    <div ng-repeat="param in $ctrl.watchlist.params" ng-if="param.type === \'tagValue\'" layout="column" class="watchlist-parameter-row">\n        <div layout="row" layout-align="start center" class="watchlist-parameter-main">\n            <md-button class="md-icon-button remove-parameter" ng-click="$ctrl.deleteParamValues(param); $ctrl.watchlist.params.splice($index, 1); $ctrl.tagParamsChanged()"><md-icon>clear</md-icon></md-button>\n            <md-input-container flex>\n                <label ma-tr="ui.app.label"></label>\n                <input ng-model="param.label">\n            </md-input-container>\n            <ma-data-point-tag-key-select flex ng-model="param.options.tagKey" ng-change="$ctrl.tagParamsChanged()" disabled-options="$ctrl.selectedTagKeys"></ma-data-point-tag-key-select>\n            <md-button class="md-icon-button" ng-click="showSettings=!showSettings" ng-class="{\'md-accent\': showSettings}"><md-icon>settings</md-icon></md-button>\n            <md-icon class="move-handle">reorder</md-icon>\n        </div>\n        <div ng-if="showSettings" class="watchlist-parameter-options">\n            <div layout="row" layout-align="end center">\n                <ma-data-point-tag-select key="{{param.options.tagKey}}" ng-model="param.options.fixedValue"\n                        ng-change="$ctrl.checkFixedValue(param)" select-multiple="param.options.multiple">\n                    <ma-label ma-tr="ui.app.fixedTagValue"></ma-label>\n                </ma-data-point-tag-select>\n                <md-checkbox ng-model="param.options.multiple" ng-change="$ctrl.deleteParamValues(param)"><span ma-tr="ui.app.selectMultiple"></span></md-checkbox>\n                <md-checkbox ng-model="param.options.required"><span ma-tr="ui.app.tagRequired"></span></md-checkbox>\n            </div>\n        </div>\n    </div>\n\n    <div layout="row" layout-align="start center">\n        <md-button class="md-raised" ma-tr="ui.app.addATag" ng-click="$ctrl.addTag()"></md-button>\n    </div>\n</div>\n'},3486:function(t,e){t.exports='<div class="md-padding">\n    <md-card md-colors="::{background: \'background\'}" ng-if="$ctrl.watchlist.hasParamOptions()">\n        <md-card-title>\n            <md-card-title-text>\n                <em ma-tr="ui.app.chooseWatchListParameters"></em>\n            </md-card-title-text>\n        </md-card-title>\n        <md-card-content>\n            <ma-watch-list-parameters watch-list="$ctrl.watchlist" ng-model="$ctrl.watchListParams" ng-change="$ctrl.queryChanged()" layout layout-align="start center" layout-wrap></ma-watch-list-parameters>\n        </md-card-content>\n    </md-card>\n</div>\n\n<div class="watchlist-query-preview">\n  <md-table-container>\n    <table md-table md-progress="$ctrl.queryPreviewPromise">\n      <thead md-head md-order="$ctrl.queryPreviewTable.order">\n        <tr md-row>\n            <th md-column md-order-by="dataSourceName" ma-tr="ui.app.dataSource"></th>\n            <th md-column md-order-by="deviceName" ma-tr="common.deviceName"></th>\n            <th md-column md-order-by="name" ma-tr="common.pointName"></th>\n            <th md-column md-order-by="xid" ma-tr="common.xid"></th>\n          </tr>\n      </thead>\n      <tbody md-body>\n        <tr md-row ng-repeat="point in $ctrl.queryPreviewPoints | orderBy:$ctrl.queryPreviewTable.order | limitTo:$ctrl.queryPreviewTable.limit:($ctrl.queryPreviewTable.page-1)*$ctrl.queryPreviewTable.limit track by point.xid">\n            <td md-cell ng-bind="point.dataSourceName"></td>\n            <td md-cell ng-bind="point.deviceName"></td>\n            <td md-cell ng-bind="point.name"></td>\n            <td md-cell ng-bind="point.xid"></td>\n        </tr>\n      </tbody>\n    </table>\n  </md-table-container>\n  <md-table-pagination md-limit="$ctrl.queryPreviewTable.limit" md-limit-options="[5, 10, 20, 50, 100]" md-page="$ctrl.queryPreviewTable.page" md-total="{{$ctrl.queryPreviewTable.total}}" md-page-select></md-table-pagination>\n</div>\n'},3487:function(t,e){t.exports='<div class="watchlist-hierarchy md-padding">\n  <ma-point-hierarchy-browser expanded="1" select-subfolders="true" ng-model="$ctrl.folders" ng-change="$ctrl.updateWatchListFolderIds()" hide-folders-with-no-points="true"></ma-point-hierarchy-browser>\n</div>\n'},3488:function(t,e){t.exports='<div class="watchlist-select-table">\n  <div class="md-padding" layout="row" layout-align="start end">\n    <md-input-container flex>\n      <label ma-tr="ui.app.search"></label>\n      <md-icon>search</md-icon>\n      <input ng-model="$ctrl.tableSearch" ng-model-options="{debounce: 1000}" ng-change="$ctrl.doSearch()">\n    </md-input-container>\n    <md-button class="md-icon-button" ng-click="$ctrl.clearSearch()"><md-icon>clear</md-icon></md-button>\n  </div>\n\n  <md-table-container>\n    <table md-table md-row-select="true" multiple ng-model="$ctrl.tableSelection" md-progress="$ctrl.queryPromise">\n      <thead md-head md-order="$ctrl.tableQuery.order" md-on-reorder="$ctrl.onPaginateOrSortBound">\n        <tr md-row>\n            <th md-column md-order-by="dataSourceName" ma-tr="ui.app.dataSource"></th>\n            <th md-column md-order-by="deviceName" ma-tr="common.deviceName"></th>\n            <th md-column md-order-by="name" ma-tr="common.pointName"></th>\n            <th md-column md-order-by="xid" ma-tr="common.xid"></th>\n          </tr>\n      </thead>\n      <tbody md-body>\n        <tr md-row md-select="point" md-select-id="xid" md-auto-select ng-repeat="point in $ctrl.allPoints track by $ctrl.pointTrack(point)" md-on-select="$ctrl.tableSelectionChangedBound" md-on-deselect="$ctrl.tableSelectionChangedBound">\n            <td md-cell ng-bind="point.dataSourceName"></td>\n            <td md-cell ng-bind="point.deviceName"></td>\n            <td md-cell ng-bind="point.name"></td>\n            <td md-cell ng-bind="point.xid"></td>\n        </tr>\n      </tbody>\n    </table>\n  </md-table-container>\n  <md-table-pagination md-limit="$ctrl.tableQuery.limit" md-limit-options="[5, 10, 20, 50, 100]" md-page="$ctrl.tableQuery.page" md-total="{{$ctrl.total}}" md-page-select md-on-paginate="$ctrl.onPaginateOrSortBound"></md-table-pagination>\n</div>\n'},3489:function(t,e){t.exports='<div class="watchlist-select-hierarchy md-padding">\n  <ma-point-hierarchy-point-selector expanded="1" select-subfolders="true" show-device-names="true"\n    ng-model="$ctrl.hierarchySelection" ng-change="$ctrl.hierarchySelectionChanged()" hide-folders-with-no-points="true"\n    limit-root-points="1000">\n  </ma-point-hierarchy-point-selector>\n</div>\n'},3490:function(t,e){t.exports='<div class="watchlist-selected-points">\n  <md-table-container>\n    <table md-table md-row-select="true" multiple ng-model="$ctrl.staticSelected">\n      <thead md-head md-order="$ctrl.staticTableQuery.order" md-on-reorder="$ctrl.sortAndLimitBound">\n        <tr md-row>\n            <th md-column md-order-by="dataSourceName" ma-tr="ui.app.dataSource"></th>\n            <th md-column md-order-by="deviceName" ma-tr="common.deviceName"></th>\n            <th md-column md-order-by="name" ma-tr="common.pointName"></th>\n            <th md-column md-order-by="xid" ma-tr="common.xid"></th>\n            <th md-column></th>\n          </tr>\n      </thead>\n      <tbody md-body ng-model="$ctrl.pointsInView" ui-sortable="{update: $ctrl.dragAndDrop, handle: \'> td > .move-handle\'}">\n        <tr md-row md-select="point" md-select-id="xid" md-auto-select ng-repeat="point in $ctrl.pointsInView track by point.xid">\n            <td md-cell ng-bind="point.dataSourceName"></td>\n            <td md-cell ng-bind="point.deviceName"></td>\n            <td md-cell ng-bind="point.name"></td>\n            <td md-cell ng-bind="point.xid"></td>\n            <td md-cell><md-icon class="move-handle">reorder</md-icon></td>\n        </tr>\n      </tbody>\n    </table>\n  </md-table-container>\n  <div class="watchlist-selected-tools">\n    <md-table-pagination md-limit="$ctrl.staticTableQuery.limit" md-limit-options="[5, 10, 20, 50, 100]" md-page="$ctrl.staticTableQuery.page" md-total="{{$ctrl.watchlist.points.length}}" md-page-select md-on-paginate="$ctrl.sortAndLimitBound"></md-table-pagination>\n    <md-button class="watchlist-selected-delete md-accent" ng-disabled="!$ctrl.staticSelected.length" ng-click="$ctrl.removeFromWatchlist()"><md-icon>clear</md-icon>&nbsp;<span ma-tr="ui.app.removeSelected"></span></md-button>\n  </div>\n</div>'},3491:function(t,e,n){var a=n(3492);"string"==typeof a&&(a=[[t.i,a,""]]);var i={insertAt:{before:'meta[name="user-styles-after-here"]'},hmr:!0,transform:void 0,insertInto:void 0};n(33)(a,i);a.locals&&(t.exports=a.locals)},3492:function(t,e,n){(t.exports=n(32)(!1)).push([t.i,"ma-ui-watch-list-builder md-toolbar.md-table-toolbar form > input:focus {\n    outline: none;\n}\n\nma-ui-watch-list-builder md-toolbar.md-table-toolbar form > input {\n    width: 100%;\n    margin-left: 16px;\n    border: none;\n}\n\nma-ui-watch-list-builder md-toolbar.ng-animate {\n     transition: none;\n}\n\nma-ui-watch-list-builder md-toolbar.md-table-toolbar em {\n    font-size:1.6rem;\n}\n\nma-ui-watch-list-builder md-card {\n  margin: 16px 0;\n}\n\nma-ui-watch-list-builder md-card.query-group > md-card-content,\nma-ui-watch-list-builder md-card md-card-content.no-padding {\n  padding: 0;\n}\n\nma-ui-watch-list-builder ma-query-group md-card.query-group-depth-0 {\n  margin: 0;\n}\n\nma-ui-watch-list-builder ma-query-group .button-group {\n  margin: 0;\n}\n\nma-ui-watch-list-builder ma-query-group .button-group .md-button {\n  font-weight: bold;\n}\n\nma-ui-watch-list-builder .watchlist-settings md-radio-group {\n  margin-bottom: 18px;\n}\n\nma-ui-watch-list-builder .watchlist-selected-tools {\n  position: relative;\n}\n\nma-ui-watch-list-builder .watchlist-selected-delete {\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n\nma-ui-watch-list-builder .watchlist-select-table > div.md-padding > md-input-container {\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\nma-ui-watch-list-builder .watchlist-select-table > div.md-padding > .md-icon-button {\n  margin-left: -40px;\n}\n\nma-ui-watch-list-builder .watchlist-parameter-row .md-icon-button {\n  margin: 0;\n}\n\nma-ui-watch-list-builder .watchlist-parameter-options {\n  padding: 5px 10px 10px 10px;\n}\n\nma-ui-watch-list-builder .watchlist-parameter-options > div md-checkbox {\n  margin: 0 12px 0 12px;\n}\n",""])},3493:function(t,e){t.exports='<h1 ma-tr="header.emport"></h1>\n\n<div layout="row" layout-align="start start">\n  <ma-config-export on-export="$ctrl.jsonString = $json" flex="100" flex-gt-sm="50"></ma-config-export>\n  <ma-config-import json-string="$ctrl.jsonString" flex="100" flex-gt-sm="50"></ma-config-import>\n</div>\n\n<md-button class="md-raised" ng-click="$ctrl.clear()"><md-icon>clear</md-icon> <span ma-tr="ui.app.clear"></span></md-button>\n\x3c!-- <md-button class="md-raised" ng-click="$ctrl.copyToClipboard()" ng-disabled="true"><md-icon>content_copy</md-icon> <span ma-tr="ui.app.copyToClipboard"></span></md-button> --\x3e\n\n<md-checkbox ng-model="$ctrl.usePlainEditor"><span ma-tr="ui.app.usePlainTextArea"></span></md-checkbox>\n\n<div layout>\n  <textarea flex ng-if="$ctrl.usePlainEditor" style="height: 600px;" ng-model="$ctrl.jsonString" ng-change="$ctrl.editorChanged()" class="ma-code-font"></textarea>\n  <div flex ng-if="!$ctrl.usePlainEditor">\n    <ma-ace-editor style="height: 600px;" ng-model="$ctrl.jsonString" ng-change="$ctrl.editorChanged()" mode="json" copy-to-clipboard="$ctrl.doCopy"></ma-ace-editor>\n  </div>\n</div>'},3494:function(t,e){t.exports='<div layout layout-align="start center">\n\t<h1 ma-tr="header.modules"></h1>\n\t<div class="ma-guid-and-release-channel">\n\t\t<div><span ma-tr="modules.guid"></span>:&nbsp;<strong ng-bind="$ctrl.coreModule.guid"></strong></div>\n        <div ng-switch="$ctrl.coreModule.upgradeVersionState">\n            <span ma-tr="systemSettings.upgradeVersionState"></span>:&nbsp;\n            <strong ng-switch-when="0" ma-tr="systemSettings.upgradeState.development"></strong>\n            <strong ng-switch-when="1" ma-tr="systemSettings.upgradeState.alpha"></strong>\n            <strong ng-switch-when="2" ma-tr="systemSettings.upgradeState.beta"></strong>\n            <strong ng-switch-when="3" ma-tr="systemSettings.upgradeState.releaseCandidate"></strong>\n            <strong ng-switch-when="4" ma-tr="systemSettings.upgradeState.production"></strong>\n        </div>\n\t</div>\n</div>\n\n<div layout>\n\t<md-button class="md-raised md-primary" ui-sref=".upgrade"><md-icon>update</md-icon>&nbsp;<span ma-tr="modules.versionCheck"></span></md-button>\n    <md-button class="md-raised md-primary" ui-sref=".offlineUpgrade"><md-icon>update</md-icon>&nbsp;<span ma-tr="ui.app.offlineUpgrades"></span></md-button>\n    \n    \x3c!--\n    <md-menu md-offset="16 60">\n        <md-button class="md-raised md-primary" ng-click="$mdMenu.open($event)"><md-icon>update</md-icon>&nbsp;<span ma-tr="ui.app.offlineUpgrades"></span></md-button>\n\n        <md-menu-content width="4">\n            <md-menu-item>\n                <md-button aria-label="{{\'ui.app.userProfile\'|maTr}}" ui-sref="ui.settings.users({username: User.current.username})">\n                    <md-icon md-menu-align-target>person</md-icon>\n                    <span ma-tr="ui.app.userProfile"></span>\n                </md-button>\n            </md-menu-item>\n            <md-menu-item>\n                <md-button aria-label="{{\'header.logout\'|maTr}}" ui-sref="logout">\n                    <md-icon md-menu-align-target>power_settings_new</md-icon>\n                    <span ma-tr="header.logout"></span>\n                </md-button>\n            </md-menu-item>\n        </md-menu-content>\n    </md-menu>\n    --\x3e\n    \n\t<md-button class="md-raised md-warn" ng-click="$ctrl.restart()"><md-icon>autorenew</md-icon>&nbsp;<span ma-tr="modules.restart"></span></md-button>\n\t<form action="{{::$ctrl.storeUrl}}" method="post" target="mangoStore" enctype="application/x-www-form-urlencoded">\n\t\t<md-button class="md-raised md-accent" type="sumbit" ng-disabled="!$ctrl.storeUrl"><md-icon>store</md-icon>&nbsp;<span ma-tr="modules.update"></span></md-button>\n\t\t<textarea style="display:none;" name="orderJson" ng-model="$ctrl.updateLicenseStr"></textarea>\n\t\t<input type="hidden" name="redirect" ng-value="$ctrl.pageUrl">\n\t</form>\n\t<md-button class="md-raised md-accent" ng-click="$ctrl.downloadLicense($event)"><md-icon>cloud_download</md-icon>&nbsp;<span ma-tr="modules.downloadLicense"></span></md-button>\n</div>\n\n<div layout="row" layout-wrap layout-align="start stretch">\n\t<div flex="100" flex-gt-xs="50" flex-gt-md="33" flex-gt-lg="25" layout="column">\n\t    <md-card flex class="ma-module-info">\n\t      <md-card-title flex="none">\n\t        <md-card-title-text>\n\t          <span class="md-headline" layout>\n\t            <span flex ng-bind="$ctrl.coreModule.name"></span>\n\t          </span>\n\t          <span class="md-subhead" ng-bind="$ctrl.coreModule.description"></span>\n\t        </md-card-title-text>\n\t      </md-card-title>\n\t      <md-card-content flex>\n\t        <p ng-if="$ctrl.coreModule.longDescription" ng-bind="$ctrl.coreModule.longDescription"></p>\n\t        <div layout="row">\n\t          <span flex="30" ma-tr="modules.version"></span>\n\t          <span flex="70" ng-bind="$ctrl.coreModule.version"></span>\n\t        </div>\n\t        <div layout="row" ng-if="$ctrl.coreModule.buildNumber > 0">\n\t          <span flex="30" ma-tr="modules.buildNumber"></span>\n\t          <span flex="70" ng-bind="$ctrl.coreModule.buildNumber"></span>\n\t        </div>\n\t        <div layout="row">\n\t          <span flex="30" ma-tr="ui.app.license"></span>\n\t          <span ng-if="$ctrl.coreModule.licenseType" flex="70" class="green-color"><md-icon class="green-color">done</md-icon> <span ng-bind="$ctrl.coreModule.licenseType"></span></span>\n\t          <span ng-if="!$ctrl.coreModule.licenseType" flex="70" md-colors="::{color: \'warn\'}"><md-icon md-colors="::{color: \'warn\'}">warning</md-icon> <span ma-tr="modules.unlicenced"></span></span>\n\t        </div>\n            <div layout="row">\n              <span flex="30" ma-tr="ui.app.moduleSignature"></span>\n              <span ng-if="$ctrl.coreModule.signed" flex="70" class="green-color"><md-icon class="green-color">verified_user</md-icon> <span ma-tr="ui.app.moduleSigned"></span></span>\n              <span ng-if="!$ctrl.coreModule.signed" flex="70" md-colors="::{color: \'warn\'}"><md-icon md-colors="::{color: \'warn\'}">warning</md-icon> <span ma-tr="ui.app.moduleUnsigned"></span></span>\n            </div>\n\t        <div layout="row">\n\t          <span flex="30" ma-tr="modules.vendor"></span>\n\t          <span flex="70"><a ng-bind="$ctrl.coreModule.vendor" ng-href="{{$ctrl.coreModule.vendorUrl}}" target="_blank"></a></span>\n\t        </div>\n\t      </md-card-content>\n\t    </md-card>\n\t</div>\n  <div flex="100" flex-gt-xs="50" flex-gt-md="33" flex-gt-lg="25" layout="column" ng-repeat="module in $ctrl.modules track by module.name" >\n      <md-card flex md-colors="{background: $ctrl.bgColor(module)}" class="ma-module-info">\n        <md-card-title flex="none">\n          <md-card-title-text>\n            <span class="md-headline" layout>\n\t            <span flex ng-bind="module.name"></span>\n\t            <md-button ng-if="!module.markedForDeletion" class="md-icon-button" ng-click="$ctrl.deleteModule($event, module, true)">\n\t            \t<md-icon>delete</md-icon>\n\t            \t<md-tooltip md-autohide>\n                    \t<span ma-tr="modules.module.delete"></span>\n                \t</md-tooltip>\n\t            </md-button>\n\t            <md-button ng-if="module.markedForDeletion" class="md-icon-button" ng-click="$ctrl.deleteModule($event, module, false)">\n\t            \t<md-icon>not_interested</md-icon>\n\t            \t<md-tooltip md-autohide>\n                    \t<span ma-tr="common.cancel"></span>\n                \t</md-tooltip>\n\t            </md-button>\n            </span>\n            <span class="md-subhead" ng-if="module.unloaded" ma-tr="ui.app.moduleUnloaded"></span>\n            <span class="md-subhead" ng-bind="module.description" ng-if="!module.unloaded"></span>\n          </md-card-title-text>\n        </md-card-title>\n        <md-card-content flex>\n          <p ng-if="module.longDescription" ng-bind="module.longDescription"></p>\n          <div layout="row">\n            <span flex="30" ma-tr="modules.version"></span>\n            <span flex="70" ng-bind="module.version"></span>\n          </div>\n          <div layout="row" ng-if="module.buildNumber > 0">\n            <span flex="30" ma-tr="modules.buildNumber"></span>\n            <span flex="70" ng-bind="module.buildNumber"></span>\n          </div>\n          <div layout="row">\n            <span flex="30" ma-tr="ui.app.license"></span>\n            <span ng-if="module.licenseType" flex="70" class="green-color"><md-icon class="green-color">done</md-icon> <span ng-bind="module.licenseType"></span></span>\n            <span ng-if="!module.licenseType" flex="70" md-colors="::{color: \'warn\'}"><md-icon md-colors="::{color: \'warn\'}">warning</md-icon> <span ma-tr="modules.unlicenced"></span></span>\n          </div>\n          <div layout="row">\n            <span flex="30" ma-tr="ui.app.moduleSignature"></span>\n            <span ng-if="module.signed" flex="70" class="green-color"><md-icon class="green-color">verified_user</md-icon> <span ma-tr="ui.app.moduleSigned"></span></span>\n            <span ng-if="!module.signed" flex="70" md-colors="::{color: \'warn\'}"><md-icon md-colors="::{color: \'warn\'}">warning</md-icon> <span ma-tr="ui.app.moduleUnsigned"></span></span>\n          </div>\n          <div layout="row" ng-if="module.vendor">\n            <span flex="30" ma-tr="modules.vendor"></span>\n            <span flex="70"><a ng-bind="module.vendor" ng-href="{{module.vendorUrl}}" target="_blank"></a></span>\n          </div>\n          <div layout="row" ng-if="module.dependencies">\n            <span flex="30" ma-tr="modules.dependencies"></span>\n            <span flex="70" ng-bind="module.dependencies"></span>\n          </div>\n        </md-card-content>\n      </md-card>\n  </div>\n</div>\n'},3495:function(t,e){t.exports='<md-input-container>\n\t<label ma-tr="login.userId"></label>\n\t<input ng-model="$ctrl.result.username" name="username">\n</md-input-container>\n\n<md-input-container>\n\t<label ma-tr="login.password"></label>\n\t<input ng-model="$ctrl.result.password" type="password" name="password">\n</md-input-container>\n'},3496:function(t,e){t.exports='<div flex layout="column" layout-align="center center" ng-if="$ctrl.checkPromise">\n\t<md-progress-circular class="md-accent" md-mode="indeterminate"></md-progress-circular>\n\t<p ma-tr="ui.app.pleaseWaitCheckingForUpgrades"></p>\n</div>\n\n<div ng-if="!$ctrl.checkPromise">\n\t<div layout layout-align="start center">\n\t\t<h1 ma-tr="ui.app.moduleUpgrades"></h1>\n\t\t<div class="ma-guid-and-release-channel">\n\t\t\t<div><span ma-tr="modules.guid"></span>:&nbsp;<strong ng-bind="$ctrl.coreModule.guid"></strong></div>\n\t\t\t<div ng-switch="$ctrl.coreModule.upgradeVersionState">\n\t\t\t\t<span ma-tr="systemSettings.upgradeVersionState"></span>:&nbsp;\n\t\t\t\t<strong ng-switch-when="0" ma-tr="systemSettings.upgradeState.development"></strong>\n\t\t\t\t<strong ng-switch-when="1" ma-tr="systemSettings.upgradeState.alpha"></strong>\n\t\t\t\t<strong ng-switch-when="2" ma-tr="systemSettings.upgradeState.beta"></strong>\n\t\t\t\t<strong ng-switch-when="3" ma-tr="systemSettings.upgradeState.releaseCandidate"></strong>\n\t\t\t\t<strong ng-switch-when="4" ma-tr="systemSettings.upgradeState.production"></strong>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n\t<md-button class="md-raised" ui-sref="^">\n\t\t<md-icon>arrow_back</md-icon>\n\t\t<span ma-tr="ui.app.backToModules"></span>\n\t</md-button>\n\t\n\t<md-button class="md-raised md-primary" ng-disabled="$ctrl.checkPromise || $ctrl.upgradePromise || $ctrl.upgradeState === \'RESTART\'" ng-click="$ctrl.checkForUpgrades()">\n\t\t<md-icon>update</md-icon>\n\t\t<span ma-tr="modules.versionCheck"></span>\n\t</md-button>\n\t\n\t<md-button class="md-raised md-accent" ng-disabled="!$ctrl.upgradesSelected.length && !$ctrl.installsSelected.length || $ctrl.upgradePromise || $ctrl.upgradeState === \'RESTART\'" ng-click="$ctrl.doUpgrade($event)">\n\t\t<md-icon>check</md-icon>\n\t\t<span ma-tr="ui.app.installUpgradeX" ma-tr-args="[$ctrl.upgradesSelected.length + $ctrl.installsSelected.length]"></span>\n\t</md-button>\n\t\n\t<md-button class="md-raised md-warn" ng-click="$ctrl.restart()" ng-disabled="$ctrl.checkPromise || $ctrl.upgradePromise || $ctrl.upgradeState === \'RESTART\'">\n        <md-icon>autorenew</md-icon>&nbsp;<span ma-tr="modules.restart"></span>\n    </md-button>\n\n\t<div layout="column" layout-align="start start" class="md-padding">\n\t\t<md-checkbox ng-model="$ctrl.backupBeforeDownload"><span ma-tr="modules.versionCheck.advanced.backup"></span></md-checkbox>\n\t\t<md-checkbox ng-model="$ctrl.restartAfterDownload"><span ma-tr="modules.versionCheck.advanced.restart"></span></md-checkbox>\n\t</div>\n\n    <div ng-if="$ctrl.upgradeState" ng-switch="$ctrl.upgradeState">\n        <md-progress-linear ng-switch-when="DOWNLOAD" md-mode="determinate" ng-value="$ctrl.upgradeProgress"></md-progress-linear>\n        <md-progress-linear ng-switch-when="DONE" md-mode="determinate" ng-value="100"></md-progress-linear>\n        <md-progress-linear ng-switch-default md-mode="indeterminate"></md-progress-linear>\n    </div>\n    \n    <p class="ma-text-center" ng-if="$ctrl.upgradeState && $ctrl.upgradeState === \'DOWNLOAD\'"><span ng-bind="$ctrl.upgradeStateDescription"></span>\n        (<span ng-bind="$ctrl.modulesDownloaded"></span>/<span ng-bind="$ctrl.modulesToDownload"></span>)</p>\n    <p class="ma-text-center" ng-if="$ctrl.upgradeState && $ctrl.upgradeState !== \'DOWNLOAD\'" ng-bind="$ctrl.upgradeStateDescription"></p>\n    \n    <p class="ma-text-center" ng-if="$ctrl.error" md-colors="{color: \'warn\'}" ma-tr="ui.app.errorCheckingForUpgrades" ma-tr-args="[$ctrl.error]"></p>\n\n\t<md-card>\n\t\t<md-card-content>\n\t\t\t<h2 ma-tr="modules.versionCheck.some"></h2>\n\t\t\t<p ng-if="!$ctrl.upgrades.length" ma-tr="modules.versionCheck.none"></p>\n\t\t\t<md-table-container ng-if="$ctrl.upgrades.length" class="ma-ui-upgrade-table">\n\t\t\t  <table md-table md-row-select="true" multiple="true" ng-model="$ctrl.upgradesSelected">\n\t\t\t    <thead md-head md-order="query.order">\n\t\t\t      <tr md-row>\n\t\t\t        <th class="name-column" md-column md-order-by="name" ma-tr="common.name"></th>\n\t\t\t        <th class="description-column" md-column md-order-by="description" ma-tr="ui.app.description"></th>\n\t\t\t        <th class="vendor-column" md-column md-order-by="vendor" ma-tr="modules.vendor"></th>\n\t\t\t        <th class="version-column" md-column md-order-by="version" ma-tr="ui.app.currentVersion"></th>\n\t\t\t        <th class="new-version-column" md-column md-order-by="newVersion" ma-tr="ui.app.newVersion"></th>\n\t\t\t        <th class="notes-column" md-column ma-tr="ui.app.releaseNotes"></th>\n\t\t\t      </tr>\n\t\t\t    </thead>\n\t\t\t    <tbody md-body>\n\t\t\t      <tr md-row md-select="module" md-select-id="name" md-on-select="$ctrl.moduleSelectedBound"\n\t\t\t      \t\tng-disabled="$ctrl.upgradePromise || module.downloaded" ng-repeat="module in $ctrl.upgrades track by $index">\n\t\t\t        <td class="name-column" md-cell ng-bind="module.name"></td>\n\t\t\t        <td class="description-column" md-cell ng-bind="module.description"></td>\n\t\t\t        <td class="vendor-column" md-cell><a ng-href="{{module.vendorUrl}}" target="_blank"><span ng-bind="module.vendor"></span></a></td>\n\t\t\t        <td class="version-column" md-cell ng-bind="module.version"></td>\n\t\t\t        <td class="new-version-column" md-cell>\n\t\t\t        \t<span ng-bind="module.newVersion"></span>\n\t\t\t        \t<span ng-if="module.downloaded">\n\t\t\t\t        \t<md-icon>file_download</md-icon>\n\t\t\t        \t\t<md-tooltip md-autohide="true" ma-tr="ui.app.awaitingRestart"></md-tooltip>\n\t\t\t        \t</span>\n\t\t\t        </td>\n\t\t\t        <td class="notes-column" md-cell>\n\t\t\t        \t<md-button class="md-icon-button" ng-click="$ctrl.showReleaseNotes($event, module)"><md-icon>info</md-icon></md-button>\n\t\t\t        </td>\n\t\t\t      </tr>\n\t\t\t    </tbody>\n\t\t\t  </table>\n\t\t\t</md-table-container>\n\t\t\t\n\t\t\t<h2 ma-tr="modules.versionCheck.new"></h2>\n\t\t\t<p ng-if="!$ctrl.installs.length" ma-tr="modules.versionCheck.noneToInstall"></p>\n\t\t\t<md-table-container ng-if="$ctrl.installs.length" class="ma-ui-upgrade-table">\n\t\t\t  <table md-table md-row-select="true" multiple="true" ng-model="$ctrl.installsSelected">\n\t\t\t    <thead md-head md-order="query.order">\n\t\t\t      <tr md-row>\n\t\t\t        <th class="name-column" md-column md-order-by="name" ma-tr="common.name"></th>\n\t\t\t        <th class="description-column" md-column md-order-by="description" ma-tr="ui.app.description"></th>\n\t\t\t        <th class="vendor-column" md-column md-order-by="vendor" ma-tr="modules.vendor"></th>\n\t\t\t        <th class="version-column" md-column ma-tr="ui.app.currentVersion"></th>\n\t\t\t        <th class="new-version-column" md-column md-order-by="version" ma-tr="ui.app.newVersion"></th>\n\t\t\t        <th class="notes-column" md-column ma-tr="ui.app.releaseNotes"></th>\n\t\t\t      </tr>\n\t\t\t    </thead>\n\t\t\t    <tbody md-body>\n\t\t\t      <tr md-row md-select="module" md-select-id="name" md-on-select="$ctrl.moduleSelectedBound"\n\t\t\t      \t\tng-disabled="$ctrl.upgradePromise || module.downloaded" ng-repeat="module in $ctrl.installs track by $index">\n\t\t\t        <td class="name-column" md-cell ng-bind="module.name"></td>\n\t\t\t        <td class="description-column" md-cell ng-bind="module.description"></td>\n\t\t\t        <td class="vendor-column" md-cell><a ng-href="{{module.vendorUrl}}" target="_blank"><span ng-bind="module.vendor"></span></a></td>\n\t\t\t        <td class="version-column" md-cell ma-tr="ui.app.notInstalled"></td>\n\t\t\t        <td class="new-version-column" md-cell>\n\t\t\t        \t<span ng-bind="module.newVersion"></span>\n\t\t\t        \t<span ng-if="module.downloaded">\n\t\t\t\t        \t<md-icon>file_download</md-icon>\n\t\t\t        \t\t<md-tooltip md-autohide="true" ma-tr="ui.app.awaitingRestart"></md-tooltip>\n\t\t\t        \t</span>\n\t\t\t        </td>\n\t\t\t        <td class="notes-column" md-cell>\n\t\t\t        \t<md-button class="md-icon-button" ng-click="$ctrl.showReleaseNotes($event, module)"><md-icon>info</md-icon></md-button>\n\t\t\t        </td>\n\t\t\t      </tr>\n\t\t\t    </tbody>\n\t\t\t  </table>\n\t\t\t</md-table-container>\n\t\t</md-card-content>\n\t</md-card>\n</div>\n'},3497:function(t,e){t.exports='<div layout layout-align="start center">\n    <h1 ma-tr="ui.app.offlineUpgrades"></h1>\n    <div class="ma-guid-and-release-channel">\n        <div><span ma-tr="modules.guid"></span>:&nbsp;<strong ng-bind="$ctrl.coreModule.guid"></strong></div>\n        <div ng-switch="$ctrl.coreModule.upgradeVersionState">\n            <span ma-tr="systemSettings.upgradeVersionState"></span>:&nbsp;\n            <strong ng-switch-when="0" ma-tr="systemSettings.upgradeState.development"></strong>\n            <strong ng-switch-when="1" ma-tr="systemSettings.upgradeState.alpha"></strong>\n            <strong ng-switch-when="2" ma-tr="systemSettings.upgradeState.beta"></strong>\n            <strong ng-switch-when="3" ma-tr="systemSettings.upgradeState.releaseCandidate"></strong>\n            <strong ng-switch-when="4" ma-tr="systemSettings.upgradeState.production"></strong>\n        </div>\n    </div>\n</div>\n\n<div layout>\n    <md-button class="md-raised" ui-sref="^">\n        <md-icon>arrow_back</md-icon>\n        <span ma-tr="ui.app.backToModules"></span>\n    </md-button>\n\n    <md-button class="md-raised md-primary" href="/rest/v1/modules/update-license-payload?download=true" download="modules-manifest.json" target="_blank">\n        <md-icon>file_download</md-icon>\n        <span ma-tr="ui.app.downloadManifest"></span>\n    </md-button>\n    \n    <md-button class="md-raised md-primary" ng-click="$ctrl.uploadFilesButtonClicked($event)" ng-disabled="$ctrl.uploading || $ctrl.restarting">\n        <md-icon>file_upload</md-icon>\n        <span ma-tr="ui.app.uploadModuleZipFiles"></span>\n    </md-button>\n    \n    <input style="display:none" type="file" multiple ng-model="dummy" ma-change="$ctrl.uploadFilesChanged($event)" accept=".zip,application/zip,application/x-zip-compressed">\n</div>\n\n<div layout="column" layout-align="start start" class="md-padding">\n    \x3c!-- <md-checkbox ng-model="$ctrl.backup"><span ma-tr="modules.versionCheck.advanced.backup"></span></md-checkbox> --\x3e\n    <md-checkbox ng-model="$ctrl.restart" ng-disabled="$ctrl.uploading || $ctrl.restarting"><span ma-tr="ui.app.restartAfterUpload"></span></md-checkbox>\n</div>\n\n<div ng-if="$ctrl.uploading">\n    <md-progress-linear></md-progress-linear>\n    <div flex layout layout-align="center"><span ma-tr="ui.app.uploadingModuleZipFiles"></span></div>\n</div>\n\n<div ng-if="!$ctrl.uploading" flex layout="column" layout-align="center center"\n        ma-dropzone ma-drag-enter="dragOver = true" ma-drag-leave="dragOver = false" ma-drop="dragOver = false; $ctrl.fileDropped($data)"\n        ng-class="{\'ma-drag-over\': dragOver}">\n        \n    <div ma-tr="ui.app.dragModuleZipFiles"></div>\n</div>\n'},3498:function(t,e){t.exports='<div flex="noshrink" layout="row"\n        ma-dropzone ma-drag-enter="dragOver = true" ma-drag-leave="dragOver = false" ma-drop="dragOver = false; $ctrl.fileDropped($data)"\n        ng-class="{\'ma-drag-over\': dragOver}">\n    <ma-point-browser ng-show="$ctrl.browserOpen"\n        flex="20"\n        ng-model="$ctrl.watchList"\n        ng-change="$ctrl.watchListChanged()"\n        ng-disabled="$ctrl.bulkTaskPromise">\n    </ma-point-browser>\n    \n    <div flex layout="column">\n        <md-card ng-if="$ctrl.watchList.hasParamOptions()" class="ma-watch-list-parameters">\n            <ma-watch-list-parameters watch-list="$ctrl.watchList"\n                ng-model="$ctrl.watchListParams" ng-change="$ctrl.getPoints()"\n                class="md-padding" layout layout-wrap>\n            </ma-watch-list-parameters>\n        </md-card>\n        \n        <md-card class="ma-bulk-data-point-edit" flex="noshrink">\n            <md-toolbar class="md-hue-2">\n                <div class="md-toolbar-tools">\n                    <md-button class="md-icon-button" ng-click="$ctrl.browserOpen = !$ctrl.browserOpen">\n                        <md-icon>{{$ctrl.browserOpen ? \'keyboard_arrow_left\' : \'keyboard_arrow_right\'}}</md-icon>\n                        <md-tooltip>\n                            <span ng-if="$ctrl.browserOpen" ma-tr="ui.app.hidePointBrowser"></span>\n                            <span ng-if="!$ctrl.browserOpen" ma-tr="ui.app.showPointBrowser"></span>\n                        </md-tooltip>\n                    </md-button>\n                    \n                    <md-button class="md-raised md-accent" ng-click="$ctrl.confirmStart($event)" ng-if="!$ctrl.bulkTaskPromise" ng-disabled="$ctrl.pointsPromise || !$ctrl.watchList">\n                        <md-icon>edit</md-icon>\n                        <span ma-tr="ui.app.startBulkEdit"></span>\n                    </md-button>\n                    \n                    <md-button class="md-raised md-warn" ng-click="$ctrl.confirmDeleteSelected($event)" ng-if="!$ctrl.bulkTaskPromise" ng-disabled="$ctrl.pointsPromise || !$ctrl.watchList">\n                        <md-icon>delete</md-icon>\n                        <span ma-tr="ui.app.deleteSelected"></span>\n                    </md-button>\n                    \n                    <md-button class="md-raised md-warn" ng-click="$ctrl.cancel($event)" ng-if="$ctrl.bulkTask">\n                        <md-icon>cancel</md-icon>\n                        <span ma-tr="ui.app.cancelBulkEdit"></span>\n                    </md-button>\n                    \n                    \x3c!-- \n                    <md-button class="md-raised" ng-click="$ctrl.watchListChanged($event)" ng-if="!($ctrl.bulkTaskPromise || $ctrl.pointsPromise)">\n                        <md-icon>refresh</md-icon>\n                        <span ma-tr="ui.app.reloadPoints"></span>\n                    </md-button>\n                    --\x3e\n    \n                    <div flex></div>\n                    \n                    <span ng-if="$ctrl.bulkTask">\n                        <span ng-bind="$ctrl.bulkTask.progress"></span>% (<span ma-tr="ui.app.pointXofX" ma-tr-args="[$ctrl.bulkTask.position, $ctrl.bulkTask.maximum]"></span>)\n                    </span>\n                    \n                    <div flex></div>\n                    \n                    <md-input-container md-no-float="true">\n                        <md-select md-selected-text="\'ui.app.selectColumns\' | maTr" multiple="true" ng-model="$ctrl.selectedColumns"\n                                ng-change="$ctrl.selectedColumnsChanged()"\n                                ng-model-options="{trackBy: \'$value.name\'}" ng-disabled="$ctrl.bulkTaskPromise || $ctrl.pointsPromise">\n                            <md-option ng-repeat="column in $ctrl.columns track by column.name" ng-value="column"><span ma-tr="{{column.label}}"></span></md-option>\n                        </md-select>\n                    </md-input-container>\n                    \n                    <md-input-container md-no-float="true">\n                        <md-select md-selected-text="\'ui.app.selectTags\' | maTr" multiple="true" ng-model="$ctrl.selectedTags"\n                                ng-change="$ctrl.selectedTagsChanged()"\n                                ng-model-options="{trackBy: \'$value.name\'}" ng-disabled="$ctrl.bulkTaskPromise || $ctrl.pointsPromise">\n                            <md-option ng-repeat="tag in $ctrl.availableTags track by tag.name" ng-value="tag"><span ng-bind="tag.label"></span></md-option>\n                        </md-select>\n                    </md-input-container>\n                    \n                    <md-button class="md-icon-button" ng-click="$ctrl.addTagColumn($event)" ng-disabled="$ctrl.bulkTaskPromise || $ctrl.pointsPromise">\n                        <md-icon>add</md-icon>\n                        <md-tooltip ma-tr="ui.app.addATag"></md-tooltip>\n                    </md-button>\n                    \n                    <md-button class="md-icon-button" ng-click="$ctrl.downloadCSV($event)" ng-disabled="!$ctrl.watchList || $ctrl.bulkTaskPromise || $ctrl.pointsPromise">\n                        <md-icon>file_download</md-icon>\n                        <md-tooltip ma-tr="ui.app.downloadCSV"></md-tooltip>\n                    </md-button>\n                    \n                    <md-button class="md-icon-button" ng-click="$ctrl.uploadCSVButtonClicked($event)" ng-disabled="$ctrl.bulkTaskPromise || $ctrl.pointsPromise">\n                        <md-icon>file_upload</md-icon>\n                        <md-tooltip ma-tr="ui.app.uploadCSV"></md-tooltip>\n                    </md-button>\n                    \n                    <input style="display:none" type="file" ng-model="dummyFileModel"\n                        ma-change="$ctrl.csvFileInputChanged($event)" ng-attr-accept="text/csv,.csv">\n                </div>\n            </md-toolbar>\n            \n            <md-progress-linear ng-if="$ctrl.bulkTask" class="md-accent" md-mode="determinate" ng-value="$ctrl.bulkTask.progress"></md-progress-linear>\n    \n            <md-table-container>\n                <table md-table md-row-select multiple ng-model="$ctrl.selectedPoints" md-progress="$ctrl.pointsPromise" ng-class="{\'ma-bulk-edit-no-wl\': !$ctrl.watchList}">\n                    <thead class="ma-bulk-edit-controls">\n                        <tr class="ma-bulk-edit-button-row">\n                            <th class="ma-points-selected" ma-tr="ui.app.xPointsSelected" ma-tr-args="[$ctrl.selectedPoints.length]"></th>\n                            <th>\x3c!-- Spacer for error --\x3e</th>\n                            <th ng-repeat="column in $ctrl.selectedColumns | orderBy:\'order\' track by column.name">\n                                <md-button class="md-icon-button" ng-click="$ctrl.sortColumn(column)">\n                                    <md-icon>{{$ctrl.tableOrder == column.name ? \'arrow_downward\' : ($ctrl.tableOrder == \'-\' + column.name ? \'arrow_upward\' : \'sort\')}}</md-icon>\n                                    <md-tooltip ma-tr="ui.app.sortBy" ma-tr-args="::[(column.label | maTr)]"></md-tooltip>\n                                </md-button>\n                                <md-button class="md-icon-button" ng-click="$ctrl.resetColumn(column)" ng-if="$ctrl.updateBody[column.name] !== undefined">\n                                    <md-icon>undo</md-icon>\n                                    <md-tooltip ma-tr="ui.app.resetColumn" ma-tr-args="::[(column.label | maTr)]"></md-tooltip>\n                                </md-button>\n                                <md-button class="md-icon-button" ng-click="$ctrl.nullColumn(column)" ng-if="column.nullable">\n                                    <md-icon>delete</md-icon>\n                                    <md-tooltip ma-tr="ui.app.nullColumn" ma-tr-args="::[(column.label | maTr)]"></md-tooltip>\n                                </md-button>\n                            </th>\n                            <th ng-repeat="tag in $ctrl.selectedTags track by tag.name">\n                                <md-button class="md-icon-button" ng-click="$ctrl.removeTag(tag)">\n                                    <md-icon>delete</md-icon>\n                                    <md-tooltip ma-tr="ui.app.removeTag" ma-tr-args="::[tag.label]"></md-tooltip>\n                                </md-button>\n                                <md-button class="md-icon-button" ng-click="$ctrl.resetTag(tag)" ng-if="$ctrl.updateBody.tags[tag.name] !== undefined">\n                                    <md-icon>undo</md-icon>\n                                    <md-tooltip ma-tr="ui.app.resetColumn" ma-tr-args="::[tag.label]"></md-tooltip>\n                                </md-button>\n                            </th>\n                        </tr>\n                        <tr class="ma-bulk-edit-input-row">\n                            <th class="ma-checkbox-column">\n                                <md-checkbox aria-label="{{\'ui.app.selectAll\' | maTr}}" ng-model="$ctrl.selectAll" ng-change="$ctrl.selectAllChanged()"\n                                    ng-disabled="$ctrl.bulkTaskPromise || $ctrl.pointsPromise" md-indeterminate="$ctrl.selectAllIndeterminate">\n                                </md-checkbox>\n                            </th>\n                            <th>\x3c!-- Spacer for error --\x3e</th>\n                            <th ng-repeat="column in $ctrl.selectedColumns | orderBy:\'order\' track by column.name" ng-class="{\'ma-column-modified\': $ctrl.updateBody[column.name] !== undefined}">\n                                <span ng-if="column.disableEdit || !$ctrl.watchList" ma-tr="{{column.label}}"></span>\n                                \n                                <md-checkbox ng-if="!(column.disableEdit || !$ctrl.watchList) && column.type === \'checkbox\'" ng-model="$ctrl.updateBody[column.name]">\n                                    <span ma-tr="{{column.label}}"></span>\n                                </md-checkbox>\n    \n                                <div layout layout-align="start center"  ng-if="!(column.disableEdit || !$ctrl.watchList) && column.type === \'color\'">\n                                    <div class="ma-color-picker-preview" ng-click="$ctrl.chooseColor($event, column)" role="button" tabindex="-1">\n                                        <div class="ma-color-picker-result" ng-style="{\'background-color\': $ctrl.updateBody[column.name]}"></div>\n                                    </div>\n                                    <md-input-container flex>\n                                        <label ma-tr="{{column.label}}"></label>\n                                        <input ng-model="$ctrl.updateBody[column.name]">\n                                    </md-input-container>\n                                </div>\n    \n                                <div layout layout-align="start center" ng-if="!(column.disableEdit || !$ctrl.watchList) && column.type === \'permission\'">\n                                    <md-input-container flex>\n                                        <label ma-tr="{{column.label}}"></label>\n                                        <input ng-model="$ctrl.updateBody[column.name]">\n                                    </md-input-container>\n                                    <ma-permissions-menu ng-model="$ctrl.updateBody[column.name]"></ma-permissions-menu>\n                                </div>\n    \n                                <md-input-container ng-if="!(column.disableEdit || !$ctrl.watchList) && column.type === \'rollup\'">\n                                    <label ma-tr="{{column.label}}"></label>\n                                    <md-select ng-model="$ctrl.updateBody[column.name]">\n                                        <md-option ng-repeat="rollup in $ctrl.MA_ROLLUP_TYPES track by rollup.type" ng-value="rollup.type" ma-tr="{{rollup.translation}}"></md-option>\n                                    </md-select>\n                                </md-input-container>\n    \n                                <md-input-container ng-if="!(column.disableEdit || !$ctrl.watchList) && column.type === \'plotType\'">\n                                    <label ma-tr="{{column.label}}"></label>\n                                    <md-select ng-model="$ctrl.updateBody[column.name]">\n                                        <md-option ng-repeat="plotType in $ctrl.MA_CHART_TYPES track by plotType.type" ng-value="plotType.apiType" ma-tr="{{plotType.translation}}"></md-option>\n                                    </md-select>\n                                </md-input-container>\n    \n                                <md-input-container ng-if="!(column.disableEdit || !$ctrl.watchList) && column.type === \'simplifyType\'">\n                                    <label ma-tr="{{column.label}}"></label>\n                                    <md-select ng-model="$ctrl.updateBody[column.name]">\n                                        <md-option value="NONE" ma-tr="pointEdit.simplify.none"></md-option>\n                                        <md-option value="TARGET" ma-tr="pointEdit.simplify.target"></md-option>\n                                        <md-option value="TOLERANCE" ma-tr="pointEdit.simplify.tolerance"></md-option>\n                                    </md-select>\n                                </md-input-container>\n                                \n                                <md-input-container ng-if="!(column.disableEdit || !$ctrl.watchList) && column.type !== \'checkbox\' && column.type !== \'color\' && column.type !== \'permission\' && column.type !== \'rollup\' && column.type !== \'plotType\' && column.type !== \'simplifyType\'">\n                                    <label ma-tr="{{column.label}}"></label>\n                                    <input ng-model="$ctrl.updateBody[column.name]" ng-attr-type="{{column.type || \'text\'}}">\n                                </md-input-container>\n                            </th>\n                            <th ng-repeat="tag in $ctrl.selectedTags track by tag.name" ng-class="{\'ma-column-modified\': $ctrl.updateBody.tags[tag.name] !== undefined}">\n                                <md-input-container>\n                                    <label ng-bind="tag.label"></label>\n                                    <input ng-model="$ctrl.updateBody.tags[tag.name]">\n                                </md-input-container>\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody md-body>\n                        <tr md-row ng-repeat="point in $ctrl.points | orderBy: $ctrl.tableOrder | limitTo: $ctrl.numberOfRows: ($ctrl.pageNumber - 1) * $ctrl.numberOfRows track by point.xid"\n                                ng-disabled="$ctrl.bulkTaskPromise || $ctrl.pointsPromise"\n                                md-select="point"\n                                md-select-id="xid"\n                                md-on-select="$ctrl.pointSelectedBound"\n                                md-on-deselect="$ctrl.pointDeselectedBound"\n                                ng-class="{\'ma-row-error\': point.error}">\n            \n                            <td md-cell ng-init="ptError = $ctrl.getPointError(point)">\n                                <md-button class="md-warn md-icon-button" ng-if="ptError" ng-click="ptError.showError = !ptError.showError">\n                                    <md-icon>warning</md-icon>\n                                    <md-tooltip ma-tr="ui.app.errorDoingX" ma-tr-args="[$ctrl.getPointAction(point), ptError.localizedMessage]"></md-tooltip>\n                                </md-button>\n                                <div ng-if="ptError.showError">\n                                    <div ng-repeat="msg in ptError.result.messages">\n                                        <span ng-if="msg.property"><span ng-bind="msg.property"></span>: </span>\n                                        <span ng-bind="msg.message"></span>\n                                    </div>\n                                </div>\n                            </td>\n    \n                            <td ng-repeat="column in $ctrl.selectedColumns | orderBy:\'order\' track by column.name" md-cell ng-class="{\'ma-cell-modified\': $ctrl.columnModified(column, point), \'ma-cell-error\': ptError && ptError.propertyErrors[column.name]}">\n                                <span ng-class="{\'ma-empty-null\': $ctrl.valueForColumn(column, point) == null}" ng-bind="$ctrl.valueForColumn(column, point) | maDisplayNull"></span>\n                                <md-tooltip ng-if="ptError && ptError.propertyErrors[column.name]" ng-bind="ptError.propertyErrors[column.name]"></md-tooltip>\n                            </td>\n                            \n                            <td ng-repeat="tag in $ctrl.selectedTags track by tag.name" md-cell ng-class="{\'ma-cell-modified\': $ctrl.tagModified(tag, point)}">\n                                <span ng-class="{\'ma-empty-null\': $ctrl.valueForTag(tag, point) == null}" ng-bind="$ctrl.valueForTag(tag, point) | maDisplayNull"></span>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </md-table-container>\n            <md-table-pagination md-limit="$ctrl.numberOfRows" md-limit-options="[10, 15, 25, 50, 100, 200]" md-page="$ctrl.pageNumber" md-page-select md-total="{{$ctrl.points.length}}"></md-table-pagination> \n        </md-card>\n    </div>\n</div>\n'},3499:function(t,e,n){var a=n(3500);"string"==typeof a&&(a=[[t.i,a,""]]);var i={insertAt:{before:'meta[name="user-styles-after-here"]'},hmr:!0,transform:void 0,insertInto:void 0};n(33)(a,i);a.locals&&(t.exports=a.locals)},3500:function(t,e,n){(t.exports=n(32)(!1)).push([t.i,"\n/*\n * Data point bulk edit page\n */\n\nma-ui-bulk-data-point-edit-page table thead.ma-bulk-edit-controls tr th {\n\tfont-weight: normal;\n\ttext-align: left;\n\tpadding: 0 20px 0 0;\n}\n\nma-ui-bulk-data-point-edit-page table thead.ma-bulk-edit-controls tr.ma-bulk-edit-input-row th {\n\tfont-weight: bold;\n}\n\nma-ui-bulk-data-point-edit-page table thead.ma-bulk-edit-controls th:first-of-type {\n\tpadding: 0 0 0 24px;\n\twidth: 20px;\n}\n\nma-ui-bulk-data-point-edit-page table thead.ma-bulk-edit-controls th:first-of-type > md-checkbox {\n\tmargin: 0;\n\twidth: 20px;\n}\n\nma-ui-bulk-data-point-edit-page table thead.ma-bulk-edit-controls th:nth-child(2) {\n\tpadding: 0 24px;\n}\n\nma-ui-bulk-data-point-edit-page table thead.ma-bulk-edit-controls th:last-of-type {\n\tpadding: 0;\n}\n\nma-ui-bulk-data-point-edit-page table thead.ma-bulk-edit-controls th .md-button.md-icon-button {\n\tmargin: 0 -3px;\n}\n\nma-ui-bulk-data-point-edit-page table thead.ma-bulk-edit-controls th md-input-container {\n\tmargin: 10px 0 10px 0;\n\tpadding: 0;\n}\n\nma-ui-bulk-data-point-edit-page table thead.ma-bulk-edit-controls th md-checkbox {\n\tmargin: 10px 0 10px 0;\n\tpadding: 0;\n}\n\nma-ui-bulk-data-point-edit-page table .ma-empty-null {\n\topacity: 0.5;\n\tfont-style: italic;\n}\n\nma-ui-bulk-data-point-edit-page table.md-table thead.md-table-progress md-progress-linear {\n\ttop: -3px;\n}\n\nma-ui-bulk-data-point-edit-page ma-point-browser {\n\tmargin-right: 16px;\n}\n\nma-ui-bulk-data-point-edit-page md-card.ma-watch-list-parameters {\n\tmargin: 0 0 16px 0;\n\twidth: 100%;\n}\n\nma-ui-bulk-data-point-edit-page md-card.ma-bulk-data-point-edit {\n\tmargin: 0;\n\twidth: 100%;\n}\n\nma-ui-bulk-data-point-edit-page table thead.ma-bulk-edit-controls tr th.ma-points-selected {\n\tfont-size: 1.2rem;\n\ttext-align: center;\n\tpadding: 8px 10px 0;\n}\n\nma-ui-bulk-data-point-edit-page table thead.ma-bulk-edit-controls th ma-permissions-menu md-menu {\n\tposition: unset;\n}\n\nma-ui-bulk-data-point-edit-page table thead.ma-bulk-edit-controls th ma-permissions-menu md-menu button.md-button.md-icon-button {\n\tmargin: 0 -10px 0 -5px;\n\tpadding: 0;\n}\n\nma-ui-bulk-data-point-edit-page .md-toolbar-tools > .md-button:nth-child(2) {\n\tmargin-left: 0;\n}\n\nma-ui-bulk-data-point-edit-page thead tr th:nth-child(1n+3) {\n\tmin-width: 120px;\n}\n\nma-ui-bulk-data-point-edit-page thead tr th > md-input-container {\n\tdisplay: block;\n}\n\nma-ui-bulk-data-point-edit-page table.ma-bulk-edit-no-wl tr th:first-of-type,\nma-ui-bulk-data-point-edit-page table.ma-bulk-edit-no-wl tr td:first-of-type {\n\tdisplay: none;\n}\n",""])},3548:function(t,e){t.exports='<div class="home-page" layout="row" layout-align="start start" layout-wrap>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a ui-sref="ui.settings.dataSources" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <ma-point-value point-xid="internal_mango_num_data_sources" class="home-page-count"></ma-point-value>\n                    <md-icon>device_hub</md-icon>\n                    <h3 ma-tr="ui.app.dataSources"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a ui-sref="ui.dataPointDetails" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <ma-point-value point-xid="internal_mango_num_data_points" class="home-page-count"></ma-point-value>\n                    <md-icon>timeline</md-icon>\n                    <h3 ma-tr="ui.app.dataPoints"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a ui-sref="ui.settings.dataSources" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <ma-point-value point-xid="internal_mango_num_point_links" class="home-page-count"></ma-point-value>\n                    <md-icon>share</md-icon>\n                    <h3 ma-tr="ui.app.pointLinks"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a ui-sref="ui.watchList" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <ma-point-value point-xid="internal_mango_num_watchlists" class="home-page-count"></ma-point-value>\n                    <md-icon>remove_red_eye</md-icon>\n                    <h3 ma-tr="ui.app.watchLists"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a ui-sref="ui.settings.users" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <ma-point-value point-xid="internal_mango_num_users" class="home-page-count"></ma-point-value>\n                    <md-icon>people</md-icon>\n                    <h3 ma-tr="ui.app.users"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <md-card-content flex layout="column" layout-align="center stretch">\n                <ma-point-value point-xid="internal_mango_num_active_user_sessions" class="home-page-count"></ma-point-value>\n                <md-icon>face</md-icon>\n                <h3 ma-tr="ui.app.activeSessions"></h3>\n            </md-card-content>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a href="/reports.shtm" target="mango-legacy" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <ma-point-value point-xid="internal_mango_num_reports" class="home-page-count"></ma-point-value>\n                    <md-icon>book</md-icon>\n                    <h3 ma-tr="ui.app.reports"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a href="/excel-reports.shtm" target="mango-legacy" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <ma-point-value point-xid="internal_mango_num_excel_reports" class="home-page-count"></ma-point-value>\n                    <md-icon>grid_on</md-icon>\n                    <h3 ma-tr="ui.app.excelReports"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a href="/publishers.shtm" target="mango-legacy" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <ma-point-value point-xid="internal_mango_num_publishers" class="home-page-count"></ma-point-value>\n                    <md-icon>publish</md-icon>\n                    <h3 ma-tr="ui.app.publishers"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a ui-sref="ui.settings.importExport" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <div class="home-page-count"></div>\n                    <md-icon>import_export</md-icon>\n                    <h3 ma-tr="header.emport"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <md-card-content flex layout="column" layout-align="center stretch">\n                <ma-point-value point-xid="internal_mango_num_event_detectors" class="home-page-count"></ma-point-value>\n                <md-icon>find_in_page</md-icon>\n                <h3 ma-tr="ui.app.eventDetectors"></h3>\n            </md-card-content>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a href="/event_handlers.shtm" target="mango-legacy" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <ma-point-value point-xid="internal_mango_num_event_handlers" class="home-page-count"></ma-point-value>\n                    <md-icon>change_history</md-icon>\n                    <h3 ma-tr="ui.app.eventHandlers"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a ui-sref="ui.events({eventType: \'DATA_POINT\'})" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <div class="home-page-count"></div>\n                    <div layout layout-align="center center">\n                        <md-icon class="badged">timeline</md-icon>\n                        <md-icon class="badge">alarm</md-icon>\n                    </div>\n                    <h3 ma-tr="ui.app.dataPointEvents"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a ui-sref="ui.events({eventType: \'SYSTEM\'})" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <div class="home-page-count"></div>\n                    <div layout layout-align="center center">\n                        <md-icon class="badged">computer</md-icon>\n                        <md-icon class="badge">alarm</md-icon>\n                    </div>\n                    <h3 ma-tr="ui.app.systemEvents"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a href="/scheduled_events.shtm" target="mango-legacy" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <ma-point-value point-xid="internal_mango_num_scheduled_events" class="home-page-count"></ma-point-value>\n                    <md-icon>alarm</md-icon>\n                    <h3 ma-tr="ui.app.scheduledEvents"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a ui-sref="ui.settings.mailingLists" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <ma-point-value point-xid="internal_mango_num_mailing_lists" class="home-page-count"></ma-point-value>\n                    <md-icon>email</md-icon>\n                    <h3 ma-tr="ui.app.mailingLists"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a ui-sref="{{::hasDashboardDesigner ? \'ui.settings.dashboardDesigner\' : \'ui.settings.editPages\'}}" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <div class="home-page-count" ng-bind="pageCount"></div>\n                    <md-icon>dashboard</md-icon>\n                    <h3 ma-tr="ui.app.customPages"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a ui-sref="ui.settings.modules" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <ma-point-value point-xid="internal_mango_num_updates_available" class="home-page-count"></ma-point-value>\n                    <md-icon>extension</md-icon>\n                    <h3 ma-tr="ui.app.modules"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a ui-sref="ui.settings.system" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <div class="home-page-count"></div>\n                    <md-icon>settings</md-icon>\n                    <h3 ma-tr="ui.app.systemSettings"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n    <div ng-if="User.current.admin" flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a ui-sref="ui.settings.systemStatus" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <div class="home-page-count"></div>\n                    <md-icon>new_releases</md-icon>\n                    <h3 ma-tr="ui.settings.systemStatus"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n</div>\n\n<h2 ng-if="::utilityMenuItems.length" ma-tr="ui.app.utilities"></h2>\n\n<div class="home-page" layout="row" layout-align="start start" layout-wrap>\n    <div ng-repeat="item in ::utilityMenuItems track by item.name"\n            ng-if="User.current.hasPermission(item.permission)"\n            flex="100" flex-gt-xs="50" flex-gt-sm="33" flex-gt-md="25" flex-gt-lg="20" layout="column">\n        <md-card flex layout="column">\n            <a ui-sref="{{item.name}}" flex layout="column">\n                <md-card-content flex layout="column" layout-align="center stretch">\n                    <div class="home-page-count"></div>\n                    <md-icon>{{item.menuIcon}}</md-icon>\n                    <h3 ma-tr="{{item.menuTr}}"></h3>\n                </md-card-content>\n            </a>\n        </md-card>\n    </div>\n</div>\n'},3549:function(t,e){t.exports='<h1 ma-tr="ui.app.editPages"></h1>\n\n<ma-ui-page-editor></ma-ui-page-editor>\n'},3550:function(t,e){t.exports='<h1 ma-tr="ui.app.editMenu"></h1>\n\n<ma-ui-menu-editor></ma-ui-menu-editor>'},3551:function(t,e){t.exports='<h1 ma-tr="ui.app.autoLoginSettings"></h1>\n\n<md-card>\n    <md-card-content>\n        <ma-ui-auto-login-settings></ma-ui-auto-login-settings>\n    </md-card-content>\n</md-card>'},3552:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(3476),o=n.n(s);e.default={controller:class{static get $$ngIsClass(){return!0}static get $inject(){return["maUiSettings","$scope","$window","maTranslate","maDialogHelper"]}constructor(t,e,n,a,i){this.uiSettings=t,this.$scope=e,this.$window=n,this.maTranslate=a,this.maDialogHelper=i}$onInit(){this.$scope.$on("$stateChangeStart",(t,e,n,a,i)=>{t.defaultPrevented||(!this.form.$dirty||this.$window.confirm(this.maTranslate.trSync("ui.app.discardUnsavedChanges"))?this.uiSettings.reset():t.preventDefault())});const t=this.$window.onbeforeunload;this.$window.onbeforeunload=(t=>{if(this.form.$dirty){const e=this.maTranslate.trSync("ui.app.discardUnsavedChanges");return t.returnValue=e,e}}),this.$scope.$on("$destroy",()=>{this.$window.onbeforeunload=t})}save(t){this.uiSettings.save().then(()=>{this.form.$setPristine(),this.maDialogHelper.toast("ui.app.uiSettingsSaved")},t=>{this.maDialogHelper.errorToast(["ui.app.uiSettingsSaveError",t.mangoStatusText])})}revert(t){this.uiSettings.reset(),this.form.$setPristine()}resetToDefault(t){this.maDialogHelper.confirm(t,"ui.app.confirmResetUiSettings").then(()=>{this.uiSettings.delete().then(()=>{this.form.$setPristine(),this.maDialogHelper.toast("ui.app.uiSettingsSaved")},t=>{this.maDialogHelper.errorToast(["ui.app.uiSettingsSaveError",t.mangoStatusText])})},i.a.noop)}},template:o.a}},3553:function(t,e,n){"use strict";n.r(e);var a=n(3477),i=n.n(a);function s(t,e,n){this.User=t,this.$state=e,this.$mdMedia=n}s.$inject=["maUser","$state","$mdMedia"],s.prototype.$onInit=function(){this.$state.params.username?this.User.get({username:this.$state.params.username}).$promise.then(function(t){delete t.$promise,this.user=t}.bind(this),function(){this.user=this.User.current,this.updateUrl()}.bind(this)):(this.user=this.User.current,this.updateUrl())},s.prototype.updateUrl=function(){this.$state.params.username=this.user&&this.user.username||null,this.$state.go(".",this.$state.params,{location:"replace",notify:!1})},s.prototype.userDeleted=function(t){this.addUser()},s.prototype.userSaved=function(t,e){this.updateUrl()},s.prototype.addUser=function(t){this.user=new this.User,this.user.isNew=!0,this.user.username="",this.user.name="",this.user.email="",this.user.phone="",this.user.homeUrl="",this.user.locale="",this.user.systemLocale="",this.user.timezone="",this.user.systemTimezone="",this.user.permissions="user",this.user.muted=!0,this.user.receiveOwnAuditEvents=!1,this.user.disabled=!1,this.user.receiveAlarmEmails="IGNORE",this.updateUrl()},e.default={controller:s,template:i.a}},3554:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(3478),o=n.n(s);function l(t,e,n,a,i,s,o,l,r,d,m,c){this.SystemSettings=t,this.User=n,this.$state=a,this.menu=i,this.$mdMedia=s,this.$scope=o,this.$timeout=l,this.maSystemActions=r,this.maDialogHelper=d,this.maServer=m,this.maUiServerInfo=c,e.get().then(function(t){t.forEach(function(t){t.id=t.id.replace("-","_")}),this.locales=t}.bind(this)),this.systemAlarmLevelSettings=t.getSystemAlarmLevelSettings(),this.auditAlarmLevelSettings=t.getAuditAlarmLevelSettings()}l.$inject=["maSystemSettings","maLocales","maUser","$state","maUiMenu","$mdMedia","$scope","$timeout","maSystemActions","maDialogHelper","maServer","maUiServerInfo"],l.prototype.$onChanges=function(t){},l.prototype.$onInit=function(){this.$scope.$on("$viewContentLoading",function(t,e){"@ui.settings.system"===e&&this.settingForm&&(this.settingForm.$setPristine(),this.settingForm.$setUntouched(),this.changedValues={},this.error=null,this.savedMessage=!1,this.$timeout.cancel(this.savedMessageTimeout),delete this.savePromise)}.bind(this)),this.SystemSettings.listPermissions().then(function(t){this.permissions=t}.bind(this))},l.prototype.actions={purgeUsingSettings:{confirmTr:"systemSettings.purgeDataWithPurgeSettingsConfirm",descriptionTr:"ui.app.purgeUsingSettings",resultsTr:"ui.app.purgeSuccess"},purgeAllPointValues:{confirmTr:"systemSettings.purgeDataConfirm",descriptionTr:"ui.app.pointValuePurge",resultsTr:"systemSettings.excelreports.purgeSuccess"},purgeAllEvents:{confirmTr:"systemSettings.purgeAllEventsConfirm",descriptionTr:"ui.app.eventPurge",resultsTr:"systemSettings.excelreports.purgeSuccess"},backupConfiguration:{confirmTr:"systemSettings.backupNow",descriptionTr:"ui.app.configBackup",resultsTr:"ui.app.configBackupSuccess"},sqlBackup:{confirmTr:"systemSettings.backupNow",descriptionTr:"ui.app.sqlBackup",resultsTr:"ui.app.sqlBackupSuccess"},sqlRestore:{confirmTr:"systemSettings.confirmRestoreDatabase",descriptionTr:"ui.app.sqlRestore",resultsTr:"ui.app.sqlRestoreSuccess"}},l.prototype.doAction=function(t,e,n){this.maDialogHelper.confirmSystemAction(i.a.extend({event:t,actionName:e,actionData:n},this.actions[e]))},l.prototype.sendTestEmail=function(){const t=this;this.User.current.sendTestEmail().then(function(e){t.maDialogHelper.toastOptions({text:e.data,hideDelay:1e4})},function(e){t.maDialogHelper.toastOptions({textTr:["ui.components.errorSendingEmail",this.User.current.email,e.mangoStatusText],hideDelay:1e4,classes:"md-warn"})}.bind(this))},l.prototype.confirm=function(t,e,n){return this.maDialogHelper.confirm(t,n).then(e)},l.prototype.valueChanged=function(t){this.changedValues[t.key]=t.value},l.prototype.saveSection=function(){this.savePromise||(this.$timeout.cancel(this.savedMessageTimeout),this.error=null,this.savedMessage=!1,this.savePromise=this.SystemSettings.setValues(this.changedValues).then(function(){this.settingForm.$setPristine(),this.settingForm.$setUntouched(),null!=this.changedValues.instanceDescription&&(this.maUiServerInfo.instanceDescription=this.changedValues.instanceDescription),this.changedValues={},this.savedMessage=!0,this.savedMessageTimeout=this.$timeout(function(){this.savedMessage=!1}.bind(this),5e3)}.bind(this),function(t){this.error={response:t,message:t.mangoStatusText}}.bind(this)).then(function(){delete this.savePromise}.bind(this)))},l.prototype.currentTime=function(){return Math.floor((new Date).valueOf()/1e3)},l.prototype.getBackupFiles=function(){return this.maServer.getSystemInfo("sqlDatabaseBackupFileList").then(function(t){return this.backupFiles=t}.bind(this))},e.default={controller:l,template:o.a}},3555:function(t,e){t.exports='<div layout layout-wrap>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="systemSettings.instanceDescription" key="instanceDescription"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="systemSettings.upgradeVersionState" key="upgradeVersionState" type="INTEGER" input-type="select">\n    <md-option ng-value="0"><span ma-tr="systemSettings.upgradeState.development"></span></md-option>\n    <md-option ng-value="1"><span ma-tr="systemSettings.upgradeState.alpha"></span></md-option>\n    <md-option ng-value="2"><span ma-tr="systemSettings.upgradeState.beta"></span></md-option>\n    <md-option ng-value="3"><span ma-tr="systemSettings.upgradeState.releaseCandidate"></span></md-option>\n    <md-option ng-value="4"><span ma-tr="systemSettings.upgradeState.production"></span></md-option>\n  </ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="ui.settings.publiclyResolvableBaseUrl" key="publiclyResolvableBaseUrl"></ma-system-setting-editor>\n  <div flex="100" flex-gt-md="50" layout layout-align="start center">\n\t  <ma-system-setting-editor flex label-tr="systemSettings.lastUpgrade" key="lastUpgrade" type="INTEGER" input-type="date" ng-disabled="true"\n\t  \t\ton-init="lastUpgradeSetting = $ctrl">\n\t  </ma-system-setting-editor>\n\t  <md-button class="md-raised" ng-click="lastUpgradeSetting.setValue($ctrl.currentTime())">\n\t  \t<span ma-tr="ui.app.bustCache"></span>\n\t  \t<md-tooltip auto-hide="true" ma-tr="ui.app.setLastUpgradeToNow"></md-tooltip>\n\t  </md-button>\n  </div>\n</div>'},3556:function(t,e){t.exports='<div layout layout-wrap>\n  <ma-system-setting-editor flex="100" label-tr="systemSettings.siteAnalytics.headTag" key="siteAnalyticsHead" input-type="textarea"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" label-tr="systemSettings.siteAnalytics.bodyTag" key="siteAnalyticsBody" input-type="textarea"></ma-system-setting-editor>\n</div>'},3557:function(t,e){t.exports='<div layout layout-wrap>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="systemSettings.systemLanguage" key="language" input-type="select" on-value-changed="value = $value">\n    <md-option ng-repeat="locale in $ctrl.locales track by locale.id" ng-value="locale.id" ng-bind="locale.native"></md-option>\n  </ma-system-setting-editor>\n  <p md-colors="{color: \'warn\'}" ma-tr="systemSettings.systemLanguageHint" ma-tr-args="[value]"></p>\n</div>'},3558:function(t,e){t.exports='<div layout layout-wrap>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.system.startup" key="systemEventAlarmLevel.SYSTEM_STARTUP" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.system.shutdown" key="systemEventAlarmLevel.SYSTEM_SHUTDOWN" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.system.maxAlarmChanged" key="systemEventAlarmLevel.MAX_ALARM_LEVEL_CHANGED" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.system.userLogin" key="systemEventAlarmLevel.USER_LOGIN" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.system.failedUserLogin" key="systemEventAlarmLevel.FAILED_USER_LOGIN" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.system.setPoint" key="systemEventAlarmLevel.SET_POINT_HANDLER_FAILURE" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.system.email" key="systemEventAlarmLevel.EMAIL_SEND_FAILURE" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.system.process" key="systemEventAlarmLevel.PROCESS_FAILURE" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.system.licenseCheck" key="systemEventAlarmLevel.LICENSE_CHECK" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.system.backupFailure" key="systemEventAlarmLevel.BACKUP_FAILURE" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.system.upgradeCheck" key="systemEventAlarmLevel.UPGRADE_CHECK" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.system.rejectedWorkItem" key="systemEventAlarmLevel.REJECTED_WORK_ITEM" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.system.missingModuleDepDesc" key="systemEventAlarmLevel.MISSING_MODULE_DEPENDENCY" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor ng-repeat="alarmLevelSetting in $ctrl.systemAlarmLevelSettings track by alarmLevelSetting.key" flex="100" flex-gt-md="50"\n    label-tr="{{alarmLevelSetting.translation}}" key="{{alarmLevelSetting.key}}" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n</div>\n'},3559:function(t,e){t.exports='<div layout layout-wrap>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.audit.dataSource" key="auditEventAlarmLevel.DATA_SOURCE" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.audit.dataPoint" key="auditEventAlarmLevel.DATA_POINT" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.audit.eventHandler" key="auditEventAlarmLevel.EVENT_HANDLER" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.audit.template" key="auditEventAlarmLevel.TEMPLATE" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.audit.userComment" key="auditEventAlarmLevel.USER_COMMENT" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.audit.user" key="auditEventAlarmLevel.USER" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.audit.jsonData" key="auditEventAlarmLevel.JSON_DATA" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.audit.eventDetector" key="auditEventAlarmLevel.EVENT_DETECTOR" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.audit.publisher" key="auditEventAlarmLevel.EVENT_PUBLISHER" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="event.audit.watchlist" key="auditEventAlarmLevel.WATCH_LIST" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n  <ma-system-setting-editor ng-repeat="auditAlarmLevelSetting in $ctrl.auditAlarmLevelSettings track by auditAlarmLevelSetting.key" flex="100" flex-gt-md="50"\n    label-tr="{{auditAlarmLevelSetting.translation}}" key="{{auditAlarmLevelSetting.key}}" type="INTEGER" input-type="alarmlevel"></ma-system-setting-editor>\n</div>\n'},3560:function(t,e){t.exports='<div layout>\n    <div flex="100" flex-gt-md="70" layout layout-wrap layout-align="start center">\n      <ma-system-setting-editor label-tr="systemSettings.smtpHost" key="emailSmtpHost" flex="100" flex-gt-md="50"></ma-system-setting-editor>\n      <ma-system-setting-editor label-tr="systemSettings.smtpPort" key="emailSmtpPort" flex="100" flex-gt-md="50"></ma-system-setting-editor>\n      <ma-system-setting-editor label-tr="systemSettings.fromAddress" key="emailFromAddress" flex="100" flex-gt-md="50"></ma-system-setting-editor>\n      <ma-system-setting-editor label-tr="systemSettings.fromName" key="emailFromName" flex="100" flex-gt-md="50"></ma-system-setting-editor>\n      \n      <ma-system-setting-editor label-tr="systemSettings.contentType" key="emailContentType" type="INTEGER" input-type="select"\n              flex="100" flex-gt-md="50">\n          <md-option ng-value="0"><span ma-tr="systemSettings.contentType.both"></span></md-option>\n          <md-option ng-value="1"><span ma-tr="systemSettings.contentType.html"></span></md-option>\n          <md-option ng-value="2"><span ma-tr="systemSettings.contentType.text"></span></md-option>\n      </ma-system-setting-editor>\n      \x3c!-- <ma-system-setting-editor label-tr="systemSettings.contentType" key="emailContentType" input-type="select"\n              flex="100" flex-gt-md="50">\n          <md-option value="HTML_AND_TEXT"><span ma-tr="systemSettings.contentType.both"></span></md-option>\n          <md-option value="HTML"><span ma-tr="systemSettings.contentType.html"></span></md-option>\n          <md-option value="TEXT"><span ma-tr="systemSettings.contentType.text"></span></md-option>\n      </ma-system-setting-editor> --\x3e  \n    </div>\n</div>\n\n<div layout="column" layout-align="start start">\n    <ma-system-setting-editor label-tr="systemSettings.tls" key="emailTls" type="BOOLEAN" input-type="checkbox"></ma-system-setting-editor>\n    <ma-system-setting-editor label-tr="systemSettings.auth" key="emailAuthorization" type="BOOLEAN" input-type="checkbox"\n        on-value-changed="useAuth = $value"></ma-system-setting-editor>\n</div>\n\n<div layout ng-show="useAuth">\n    <div flex="100" flex-gt-md="70" layout layout-wrap layout-align="start center">\n      <ma-system-setting-editor label-tr="systemSettings.smtpUsername" key="emailSmtpUsername" flex="100" flex-gt-md="50"></ma-system-setting-editor>\n      <ma-system-setting-editor label-tr="systemSettings.smtpPassword" key="emailSmtpPassword" input-type="password" flex="100" flex-gt-md="50"></ma-system-setting-editor>\n    </div>\n</div>\n\n<div layout="column" layout-align="start start">\n  <md-button class="md-raised" ng-click="$ctrl.sendTestEmail()">\n    <md-icon>email</md-icon> <span ma-tr="common.sendTestEmail"></span>\n    <md-tooltip md-autohide="true" ma-tr="ui.app.sendTestEmailTooltip" ma-tr-args="[$ctrl.User.current.email]"></md-tooltip>\n  </md-button>\n</div>\n'},3561:function(t,e){t.exports='<div layout="column" layout-align="start start">\n    <ma-system-setting-editor label-tr="systemSettings.useProxy" key="httpClientUseProxy" type="BOOLEAN" input-type="checkbox" on-value-changed="useProxy = $value"></ma-system-setting-editor>\n</div>\n\n<div layout layout-wrap layout-align="start center" ng-show="useProxy">\n  <ma-system-setting-editor label-tr="systemSettings.proxyHost" key="httpClientProxyServer" flex="100" flex-gt-md="50"></ma-system-setting-editor>\n  <ma-system-setting-editor label-tr="systemSettings.proxyPort" key="httpClientProxyPort" type="INTEGER" input-type="number" flex="100" flex-gt-md="50"></ma-system-setting-editor>\n  <ma-system-setting-editor label-tr="systemSettings.proxyUsername" key="httpClientProxyUsername" flex="100" flex-gt-md="50"></ma-system-setting-editor>\n  <ma-system-setting-editor label-tr="systemSettings.proxyPassword" key="httpClientProxyPassword" input-type="password" flex="100" flex-gt-md="50"></ma-system-setting-editor>\n</div>\n'},3562:function(t,e){t.exports='<div layout="column" layout-align="start start">\n    <label for="httpSessionTimeoutPeriods" ma-tr="systemSettings.httpSessionTimeout"></label>\n    <ma-system-setting-editor name="httpSessionTimeoutPeriods" key="httpSessionTimeoutPeriods" type="INTEGER" input-type="number"></ma-system-setting-editor>\n    <ma-system-setting-editor key="httpSessionTimeoutPeriodType" input-type="timeperiodtype" available-options="[\'SECONDS\',\'MINUTES\',\'HOURS\',\'DAYS\',\'WEEKS\',\'MONTHS\',\'YEARS\']"></ma-system-setting-editor>\n</div>'},3563:function(t,e){t.exports='<div layout="column" layout-align="start start">\n    <ma-system-setting-editor label-tr="systemSettings.enablePasswordExpiration" key="passwordExpirationEnabled" type="BOOLEAN" input-type="checkbox" on-value-changed="usePasswordExpiration = $value"></ma-system-setting-editor>\n</div>\n\n<div layout layout-wrap layout-align="start center" ng-show="usePasswordExpiration">\n  <div flex="100" flex-gt-md="50" layout>\n      <ma-system-setting-editor flex="50" label-tr="systemSettings.passwordExpiration" key="passwordExpirationPeriods"\n      \ttype="INTEGER" step="1" min="1" max="9999"></ma-system-setting-editor>\n      <ma-system-setting-editor flex="50" key="passwordExpirationPeriodType" input-type="timeperiodtype" available-options="[\'MINUTES\',\'HOURS\',\'DAYS\',\'WEEKS\',\'MONTHS\',\'YEARS\']"></ma-system-setting-editor>\n  </div>\n</div>'},3564:function(t,e){t.exports='<div layout layout-wrap layout-align="start center">\n  <ma-system-setting-editor label-tr="systemSettings.threadPools.highPriorityCorePoolSize" key="highPriorityThreadCorePoolSize" type="INTEGER" input-type="number" flex="100" flex-gt-md="50"></ma-system-setting-editor>\n  <ma-system-setting-editor label-tr="systemSettings.threadPools.highPriorityMaximumPoolSize" key="highPriorityThreadMaximumPoolSize" type="INTEGER" input-type="number" flex="100" flex-gt-md="50"></ma-system-setting-editor>\n  <ma-system-setting-editor label-tr="systemSettings.threadPools.mediumPriorityCorePoolSize" key="mediumPriorityThreadCorePoolSize" type="INTEGER" input-type="number" flex="100" flex-gt-md="50"></ma-system-setting-editor>\n  <ma-system-setting-editor label-tr="systemSettings.threadPools.lowPriorityCorePoolSize" key="lowPriorityThreadCorePoolSize" type="INTEGER" input-type="number" flex="100" flex-gt-md="50"></ma-system-setting-editor>\n</div>\n'},3565:function(t,e){t.exports='<div layout layout-wrap layout-align="start center">\n  <ma-system-setting-editor label-tr="systemSettings.uiPerformance" key="uiPerformance" type="INTEGER" input-type="select" flex="100" flex-gt-md="50">\n    <md-option ng-value="2000"><span ma-tr="systemSettings.uiPerformance.high"></span></md-option>\n    <md-option ng-value="5000"><span ma-tr="systemSettings.uiPerformance.med"></span></md-option>\n    <md-option ng-value="10000"><span ma-tr="systemSettings.uiPerformance.low"></span></md-option>\n  </ma-system-setting-editor>\n</div>\n'},3566:function(t,e){t.exports='<div layout="column" layout-align="start start">\n    <ma-system-setting-editor label-tr="systemSettings.enablePurgePointData" key="enablePurgePointValues" type="BOOLEAN" input-type="checkbox"></ma-system-setting-editor>\n</div>\n\n<div layout layout-wrap layout-align="space-between start">\n  <div layout flex="100" flex-gt-md="50" layout-align="start center">\n    <label for="pointDataPurgePeriods" ma-tr="systemSettings.purgePointData"></label>\n    <ma-system-setting-editor name="pointDataPurgePeriods" key="pointDataPurgePeriods" type="INTEGER" input-type="number"></ma-system-setting-editor>\n    <ma-system-setting-editor key="pointDataPurgePeriodType" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n  <div layout flex="100" flex-gt-md="50" layout-align="start center">\n    <label for="dataPointEventPurgePeriods" ma-tr="systemSettings.purgeDataPointEvents"></label>\n    <ma-system-setting-editor name="dataPointEventPurgePeriods" key="dataPointEventPurgePeriods" type="INTEGER" input-type="number"></ma-system-setting-editor>\n    <ma-system-setting-editor key="dataPointEventPurgePeriodType" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n  <div layout flex="100" flex-gt-md="50" layout-align="start center">\n    <label for="dataSourceEventPurgePeriods" ma-tr="systemSettings.purgeDataSourceEvents"></label>\n    <ma-system-setting-editor name="dataSourceEventPurgePeriods" key="dataSourceEventPurgePeriods" type="INTEGER" input-type="number"></ma-system-setting-editor>\n    <ma-system-setting-editor key="dataSourceEventPurgePeriodType" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n  <div layout flex="100" flex-gt-md="50" layout-align="start center">\n    <label for="systemEventPurgePeriods" ma-tr="systemSettings.purgeSystemEvents"></label>\n    <ma-system-setting-editor name="systemEventPurgePeriods" key="systemEventPurgePeriods" type="INTEGER" input-type="number"></ma-system-setting-editor>\n    <ma-system-setting-editor key="systemEventPurgePeriodType" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n  <div layout flex="100" flex-gt-md="50" layout-align="start center">\n    <label for="publisherEventPurgePeriods" ma-tr="systemSettings.purgePublisherEvents"></label>\n    <ma-system-setting-editor name="publisherEventPurgePeriods" key="publisherEventPurgePeriods" type="INTEGER" input-type="number"></ma-system-setting-editor>\n    <ma-system-setting-editor key="publisherEventPurgePeriodType" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n  <div layout flex="100" flex-gt-md="50" layout-align="start center">\n    <label for="auditEventPurgePeriods" ma-tr="systemSettings.purgeAuditEvents"></label>\n    <ma-system-setting-editor name="auditEventPurgePeriods" key="auditEventPurgePeriods" type="INTEGER" input-type="number"></ma-system-setting-editor>\n    <ma-system-setting-editor key="auditEventPurgePeriodType" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n  <div layout flex="100" flex-gt-md="50" layout-align="start center">\n    <label for="noneAlarmPurgePeriods" ma-tr="systemSettings.purgeNoneAlarm"></label>\n    <ma-system-setting-editor name="noneAlarmPurgePeriods" key="noneAlarmPurgePeriods" type="INTEGER" input-type="number"></ma-system-setting-editor>\n    <ma-system-setting-editor key="noneAlarmPurgePeriodType" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n  <div layout flex="100" flex-gt-md="50" layout-align="start center">\n    <label for="informationAlarmPurgePeriods" ma-tr="systemSettings.purgeInformationAlarm"></label>\n    <ma-system-setting-editor name="informationAlarmPurgePeriods" key="informationAlarmPurgePeriods" type="INTEGER" input-type="number"></ma-system-setting-editor>\n    <ma-system-setting-editor key="informationAlarmPurgePeriodType" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n  <div layout flex="100" flex-gt-md="50" layout-align="start center">\n    <label for="importantAlarmPurgePeriods" ma-tr="systemSettings.purgeImportantAlarm"></label>\n    <ma-system-setting-editor name="importantAlarmPurgePeriods" key="importantAlarmPurgePeriods" type="INTEGER" input-type="number"></ma-system-setting-editor>\n    <ma-system-setting-editor key="importantAlarmPurgePeriodType" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n  <div layout flex="100" flex-gt-md="50" layout-align="start center">\n    <label for="warningAlarmPurgePeriods" ma-tr="systemSettings.purgeWarningAlarm"></label>\n    <ma-system-setting-editor name="warningAlarmPurgePeriods" key="warningAlarmPurgePeriods" type="INTEGER" input-type="number"></ma-system-setting-editor>\n    <ma-system-setting-editor key="warningAlarmPurgePeriodType" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n  <div layout flex="100" flex-gt-md="50" layout-align="start center">\n    <label for="urgentAlarmPurgePeriods" ma-tr="systemSettings.purgeUrgentAlarm"></label>\n    <ma-system-setting-editor name="urgentAlarmPurgePeriods" key="urgentAlarmPurgePeriods" type="INTEGER" input-type="number"></ma-system-setting-editor>\n    <ma-system-setting-editor key="urgentAlarmPurgePeriodType" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n  <div layout flex="100" flex-gt-md="50" layout-align="start center">\n    <label for="criticalAlarmPurgePeriods" ma-tr="systemSettings.purgeCriticalAlarm"></label>\n    <ma-system-setting-editor name="criticalAlarmPurgePeriods" key="criticalAlarmPurgePeriods" type="INTEGER" input-type="number"></ma-system-setting-editor>\n    <ma-system-setting-editor key="criticalAlarmPurgePeriodType" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n  <div layout flex="100" flex-gt-md="50" layout-align="start center">\n    <label for="lifeSafetyAlarmPurgePeriods" ma-tr="systemSettings.purgeLifeSafetyAlarm"></label>\n    <ma-system-setting-editor name="lifeSafetyAlarmPurgePeriods" key="lifeSafetyAlarmPurgePeriods" type="INTEGER" input-type="number"></ma-system-setting-editor>\n    <ma-system-setting-editor key="lifeSafetyAlarmPurgePeriodType" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n  <div layout flex="100" flex-gt-md="50" layout-align="start center">\n    <label for="eventPurgePeriods" ma-tr="systemSettings.purgeEvents"></label>\n    <ma-system-setting-editor name="eventPurgePeriods" key="eventPurgePeriods" type="INTEGER" input-type="number"></ma-system-setting-editor>\n    <ma-system-setting-editor key="eventPurgePeriodType" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n  <div layout flex="100" flex-gt-md="50" layout-align="start center">\n    <label for="futureDateLimitPeriods" ma-tr="systemSettings.futureDateLimit"></label>\n    <ma-system-setting-editor name="futureDateLimitPeriods" key="futureDateLimitPeriods" type="INTEGER" input-type="number"></ma-system-setting-editor>\n    <ma-system-setting-editor key="futureDateLimitPeriodType" available-options="[\'MINUTES\',\'HOURS\']" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n</div>\n\n<div layout="row" layout-align="start start">\n  <md-button class="md-raised md-warn" ng-click="$ctrl.doAction($event, \'purgeAllPointValues\')">\n    <md-icon>delete_forever</md-icon> <span ma-tr="systemSettings.purgeData"></span>\n  </md-button>\n  <md-button class="md-raised md-warn" ng-click="$ctrl.doAction($event, \'purgeAllEvents\')">\n    <md-icon>delete_forever</md-icon> <span ma-tr="systemSettings.purgeAllEvents"></span>\n  </md-button>\n  <md-button class="md-raised md-warn md-hue-3" ng-click="$ctrl.doAction($event, \'purgeUsingSettings\')">\n    <md-icon>delete</md-icon> <span ma-tr="systemSettings.purgeNow"></span>\n  </md-button>\n</div>\n'},3567:function(t,e){t.exports='<div layout layout-wrap>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="ui.settings.loginPage" key="ui.login.page">\n  </ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="ui.settings.firstUserLoginPage" key="ui.login.userFirstLogin.page">\n  </ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="ui.settings.loggedInPagePreHome" key="ui.login.loggedInPreHome.page">\n  </ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="ui.settings.loggedInPage" key="ui.login.loggedIn.page">\n  </ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="ui.settings.unauthorizedPage" key="ui.unauthorized.page">\n  </ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="ui.settings.notFoundPage" key="ui.notFound.page">\n  </ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="ui.settings.errorPage" key="ui.error.page">\n  </ma-system-setting-editor>\n</div>'},3568:function(t,e){t.exports='<div layout layout-wrap>\n  <ma-system-setting-editor flex="100" flex-gt-md="33" label-tr="systemSettings.chartBackgroundColour" key="chartBackgroundColour" input-type="color"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="33" label-tr="systemSettings.plotBackgroundColour" key="plotBackgroundColour" input-type="color"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="33" label-tr="systemSettings.plotGridlinesColour" key="plotGridlineColour" input-type="color"></ma-system-setting-editor>\n</div>\n'},3569:function(t,e){t.exports='<div class="ma-margin-bottom">\n\t<md-button class="md-raised" ng-click="$ctrl.doAction($event, \'backupConfiguration\')"><span ma-tr="systemSettings.backupNow"></span></md-button>\n</div>\n\n<div layout="column" layout-align="start start">\n    <ma-system-setting-editor label-tr="systemSettings.backupEnable" key="backupEnabled" type="BOOLEAN" input-type="checkbox" on-value-changed="backupEnabled = $value"></ma-system-setting-editor>\n</div>\n\n<div layout layout-wrap ng-show="backupEnabled">\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="systemSettings.backupLastSuccessfulRun" key="backupLastSuccessfulRun" ng-disabled="true"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="systemSettings.backupLocation" key="backupFileLocation"></ma-system-setting-editor>\n  <div flex="100" flex-gt-md="50" layout>\n      <ma-system-setting-editor label-tr="systemSettings.backupFrequency" key="backupPeriods" type="INTEGER"></ma-system-setting-editor>\n      <ma-system-setting-editor key="backupPeriodType" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n  <div flex="100" flex-gt-md="50" layout>\n      <ma-system-setting-editor label-tr="systemSettings.backupTimeHour" key="backupHour" type="INTEGER"></ma-system-setting-editor>\n      <ma-system-setting-editor label-tr="systemSettings.backupTimeMinute" key="backupMinute" type="INTEGER"></ma-system-setting-editor>\n  </div>\n  <div flex="100" flex-gt-md="50" layout>\n      <ma-system-setting-editor label-tr="systemSettings.backupFileCount" key="backupFileCount" type="INTEGER"></ma-system-setting-editor>\n  </div>\n</div>\n'},3570:function(t,e){t.exports='<div class="ma-margin-bottom">\n\t<md-button class="md-raised" ng-click="$ctrl.doAction($event, \'sqlBackup\')"><span ma-tr="systemSettings.backupNow"></span></md-button>\n</div>\n\n<div class="ma-margin-bottom" layout layout-align="start center">\n\t<md-input-container flex flex-gt-sm="50" flex-gt-lg="30">\n\t\t<label ma-tr="ui.app.selectFileToRestore"></label>\n\t\t<md-select ng-model="selectedBackup" md-on-open="$ctrl.getBackupFiles()">\n\t\t\t<md-option ng-value="undefined"><em ma-tr="systemSettings.noBackupSelected"></em></md-option>\n\t\t\t<md-option ng-repeat="file in $ctrl.backupFiles" ng-value="file" ng-bind="file"></md-option>\n\t\t</md-select>\n\t</md-input-container>\n\n\t<md-button class="md-raised md-warn md-hue-2" ng-disabled="!selectedBackup" ng-click="$ctrl.doAction($event, \'sqlRestore\', {filename: selectedBackup})">\n\t\t<span ma-tr="systemSettings.restoreDatabase"></span>\n\t</md-button>\n</div>\n\n<div layout="column" layout-align="start start">\n    <ma-system-setting-editor label-tr="systemSettings.backupEnable" key="databaseBackupEnabled" type="BOOLEAN" input-type="checkbox" on-value-changed="databaseBackupEnabled = $value"></ma-system-setting-editor>\n</div>\n\n<div layout layout-wrap ng-show="databaseBackupEnabled">\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="systemSettings.backupLastSuccessfulRun" key="databaseBackupLastSuccessfulRun" ng-disabled="true"></ma-system-setting-editor>\n  <ma-system-setting-editor flex="100" flex-gt-md="50" label-tr="systemSettings.backupLocation" key="databaseBackupFileLocation"></ma-system-setting-editor>\n  <div flex="100" flex-gt-md="50" layout>\n      <ma-system-setting-editor label-tr="systemSettings.backupFrequency" key="databaseBackupPeriods" type="INTEGER"></ma-system-setting-editor>\n      <ma-system-setting-editor key="databaseBackupPeriodType" input-type="timeperiodtype"></ma-system-setting-editor>\n  </div>\n  <div flex="100" flex-gt-md="50" layout>\n      <ma-system-setting-editor label-tr="systemSettings.backupTimeHour" key="databaseBackupHour" type="INTEGER"></ma-system-setting-editor>\n      <ma-system-setting-editor label-tr="systemSettings.backupTimeMinute" key="databaseBackupMinute" type="INTEGER"></ma-system-setting-editor>\n  </div>\n  <div flex="100" flex-gt-md="50" layout>\n      <ma-system-setting-editor label-tr="systemSettings.backupFileCount" key="databaseBackupFileCount" type="INTEGER"></ma-system-setting-editor>\n  </div>\n</div>\n'},3571:function(t,e){t.exports='<div layout="column" layout-align="start start">\n    <ma-system-setting-editor label-tr="systemSettings.allowAnonymousChartView" key="allowAnonymousGraphicViews" type="BOOLEAN" input-type="checkbox"></ma-system-setting-editor>\n    <ma-system-setting-editor label-tr="systemSettings.chartFont" key="jfreeChartFont"></ma-system-setting-editor>\n</div>\n'},3572:function(t,e){t.exports='<div layout layout-wrap>\n\t<ma-system-setting-editor ng-repeat="permission in $ctrl.permissions track by $index"\n\t\tflex="100" flex-gt-md="50"\n\t\tlabel-tr="{{permission.translationKey}}" key="{{permission.systemSettingName}}"\n\t\tinput-type="permission"\n\t\tng-disabled="permission.systemSettingName === \'permissions.superadmin\'">\n\t</ma-system-setting-editor>\n</div>\n'},3573:function(t,e){t.exports='<div layout layout-wrap layout-align="start center">\n  <ma-system-setting-editor label-tr="systemSettings.exportDataPointPath" key="exportHierarchyPath" type="BOOLEAN" input-type="checkbox" flex="100" flex-gt-md="50"></ma-system-setting-editor>\n  <ma-system-setting-editor label-tr="systemSettings.exportPathSeparator" key="hierarchyPathSeparator" flex="100" flex-gt-md="50"></ma-system-setting-editor>\n</div>\n'},3574:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(3479),o=n.n(s),l=n(3480),r=n.n(l);function d(t,e,n,a,i,s,o,l,r,d){this.systemStatus=t,this.$state=e,this.$scope=r,this.menu=n,this.$mdMedia=a,this.maTranslate=s,this.maDialogHelper=o,this.$mdDialog=i,this.dateBar=l,this.RqlBuilder=d,this.logByFileNameUrl="/rest/v1/logging/view/",this.boundAuditQuery=((...t)=>this.updateAuditQuery(...t)),this.auditQuery={alarmLevel:"*",changeType:"*",typeName:"*",dateFilter:!1},this.auditTableLimit=25,this.auditTablePage=1,this.auditTableOrder="-ts"}d.$inject=["maSystemStatus","$state","maUiMenu","$mdMedia","$mdDialog","maTranslate","maDialogHelper","maUiDateBar","$scope","maRqlBuilder"],d.prototype.$onInit=function(){},d.prototype.pageChanged=function(t){switch(this.unsubscribe&&this.unsubscribe(),t){case"auditTrail":this.systemStatus.getAuditEventTypes().then(t=>{this.auditEventTypes=t.data}),this.updateAuditQuery(),this.unsubscribe=this.dateBar.subscribe((t,e)=>{this.auditQuery.dateFilter&&this.updateAuditQuery()},this.$scope);break;case"internalMetrics":this.getInternalMetrics();break;case"loggingConsole":this.getLogFilesList();break;case"workItems":this.getWorkItems();break;case"threads":this.getThreads();break;case"serverInfo":this.getSystemInfo()}},d.prototype.displayAuditContext=function(t){const e=i.a.copy(t.context),n=JSON.stringify(e,null,2),a=this.maTranslate.trSync("ui.settings.systemStatus.displayingAuditContext",t.message);this.showTextAreaDialog(a,n)},d.prototype.updateAuditQuery=function(){const t=new this.RqlBuilder;Object.keys(this.auditQuery).forEach(e=>{const n=this.auditQuery[e];"dateFilter"===e?this.auditQuery.dateFilter&&t.ge("ts",this.dateBar.data.from).lt("ts",this.dateBar.data.to):"userId"===e?n&&t.eq(e,n.id):"*"!==n&&t.eq(e,n)}),t.sort(this.auditTableOrder).limit(this.auditTableLimit,(this.auditTablePage-1)*this.auditTableLimit),this.systemStatus.getAuditTrail(t).then(t=>{this.auditTrail=t})},d.prototype.getInternalMetrics=function(){this.systemStatus.getInternalMetrics().then(t=>{this.internalMetrics=t.data})},d.prototype.getLogFilesList=function(){this.systemStatus.getLogFilesList().then(t=>{this.logFilesList=t.data})},d.prototype.getLogDownloadUrl=function(t){return this.logByFileNameUrl+t+"?download=true"},d.prototype.displayLogFile=function(t){this.selectedLogFile=t,this.systemStatus.getLogFile(t).then(t=>{let e=t.data,n=this.maTranslate.trSync("ui.settings.systemStatus.displayingLogFile",this.selectedLogFile);this.showTextAreaDialog(n,e)})},d.prototype.getSystemInfo=function(){this.systemStatus.getFullSystemInfo().then(t=>{this.systemInfo=t.data})},d.prototype.getPointCounts=function(){this.systemStatus.getPointCounts().then(t=>{this.pointCounts=t.data})},d.prototype.getThreads=function(){this.systemStatus.getThreads().then(t=>{this.threads=t.data})},d.prototype.showBlockedThreadDetails=function(t,e){t.stopPropagation(),this.maDialogHelper.showBasicDialog(t,{titleTr:"ui.settings.systemStatus.blockedThreadDetails",contentTemplate:`<p>lockOwnerName: ${e.lockOwnerName}</p>\n            <p>lockOwnerId: ${e.lockOwnerId}</p>\n            <p>className: ${e.lockInfo&&e.lockInfo.className}</p>\n            <p>identityHashCode: ${e.lockInfo&&e.lockInfo.identityHashCode}</p>`})},d.prototype.showStackTrace=function(t){this.selectedThreadStackTrace="",t.location.forEach(t=>{this.selectedThreadStackTrace+=`${t.className}.${t.methodName}:${t.lineNumber}\n`});const e=this.selectedThreadStackTrace,n=this.maTranslate.trSync("ui.settings.systemStatus.displayingStackTraceForThread",t.name);this.showTextAreaDialog(n,e)},d.prototype.getWorkItems=function(){this.systemStatus.getWorkItemsQueueCounts().then(t=>{this.workItemsQueueCounts=t.data}),this.systemStatus.getWorkItemsRunningStats().then(t=>{this.workItemsRunningStats=t.data}),this.systemStatus.getWorkItemsRejectedStats().then(t=>{this.workItemsRejectedStats=t.data})},d.prototype.isEmptyObj=function(t){return void 0===t||0===Object.keys(t).length},d.prototype.showTextAreaDialog=function(t,e){let n=this;this.$mdDialog.show({controller:function(){this.title=t,this.textContent=e,this.copyToClipBoard=function(){document.querySelector("#dialog-text-area").select(),document.execCommand("copy"),n.maDialogHelper.toastOptions({text:"Text copied to clipboard",hideDelay:4e3})},this.ok=function(){n.$mdDialog.hide()},this.cancel=function(){n.$mdDialog.cancel()},this.$mdMedia=n.$mdMedia},template:o.a,clickOutsideToClose:!0,escapeToClose:!0,controllerAs:"$ctrl",bindToController:!0})},e.default={controller:d,template:r.a}},3575:function(t,e){t.exports='<div layout="column" ng-init="$ctrl.pageChanged(\'auditTrail\')">\n    <div layout="row" layout-align="start center" layout-wrap>\n        <md-input-container flex>\n            <label ma-tr="ui.app.alarmLvl"></label>\n            <md-select ng-model="$ctrl.auditQuery.alarmLevel" ng-change="$ctrl.updateAuditQuery()">\n                <md-option value="*"><span ma-tr="ui.app.all"></span> <i class="fa fa-flag fa-lg ma-alarm-flag ma-alarm-level-all"></i></md-option>\n                <md-option value="NONE"><span ma-tr="ui.app.none"></span> <i class="fa fa-flag fa-lg ma-alarm-flag ma-alarm-level-none"></i>\n                </md-option>\n                <md-option value="INFORMATION"><span ma-tr="ui.app.information"></span> <i\n                    class="fa fa-flag fa-lg ma-alarm-flag ma-alarm-level-information"></i></md-option>\n                <md-option value="IMPORTANT"><span ma-tr="ui.app.important"></span> <i\n                    class="fa fa-flag fa-lg ma-alarm-flag ma-alarm-level-important"></i></md-option>\n                <md-option value="WARNING"><span ma-tr="ui.app.warning"></span> <i\n                    class="fa fa-flag fa-lg ma-alarm-flag ma-alarm-level-warning"></i></md-option>\n                <md-option value="URGENT"><span ma-tr="ui.app.urgent"></span> <i class="fa fa-flag fa-lg ma-alarm-flag ma-alarm-level-urgent"></i>\n                </md-option>\n                <md-option value="CRITICAL"><span ma-tr="ui.app.critical"></span> <i\n                    class="fa fa-flag fa-lg ma-alarm-flag ma-alarm-level-critical"></i></md-option>\n                <md-option value="LIFE_SAFETY"><span ma-tr="ui.app.safety"></span> <i\n                    class="fa fa-flag fa-lg ma-alarm-flag ma-alarm-level-life-safety"></i></md-option>\n            </md-select>\n        </md-input-container>\n\n        <md-input-container flex>\n            <label ma-tr="ui.settings.systemStatus.changeType"></label>\n            <md-select ng-model="$ctrl.auditQuery.changeType" ng-change="$ctrl.updateAuditQuery()">\n                <md-option value="*" ma-tr="ui.app.all"></md-option>\n                <md-option value="CREATE" ma-tr="ui.settings.systemStatus.create"></md-option>\n                <md-option value="MODIFY" ma-tr="ui.settings.systemStatus.modify"></md-option>\n                <md-option value="DELETE" ma-tr="ui.settings.systemStatus.delete"></md-option>\n            </md-select>\n        </md-input-container>\n\n        <md-input-container flex>\n            <label ma-tr="ui.settings.systemStatus.type"></label>\n            <md-select ng-model="$ctrl.auditQuery.typeName" ng-change="$ctrl.updateAuditQuery()">\n                <md-option value="*" ma-tr="ui.app.all"></md-option>\n                <md-option ng-value="type.subtype" ng-repeat="type in $ctrl.auditEventTypes"\n                           ng-bind="type.description"></md-option>\n            </md-select>\n        </md-input-container>\n\n        <ma-user-select ng-model="$ctrl.auditQuery.userId" ng-change="$ctrl.updateAuditQuery()"\n                        show-clear="true"></ma-user-select>\n\n        <span style="padding-right: 5px;">{{\'ui.app.dateFilter\' | maTr}}: </span>\n\n        <md-switch ng-model="$ctrl.auditQuery.dateFilter" ng-change="$ctrl.updateAuditQuery()"\n                   aria-label="{{\'ui.app.DateFilter\' | maTr}}"></md-switch>\n    </div>\n\n    <md-table-pagination class="underline" md-limit="$ctrl.auditTableLimit" md-limit-options="[5, 10, 15, 25, 50, 100, 200]"\n                         md-page="$ctrl.auditTablePage" md-total="{{$ctrl.auditTrail.$total}}" md-page-select\n                         md-on-paginate="$ctrl.boundAuditQuery"></md-table-pagination>\n\n    <md-table-container>\n        <table md-table>\n            <thead md-head md-order="$ctrl.auditTableOrder" md-on-reorder="$ctrl.boundAuditQuery">\n            <tr md-row>\n                <th md-column md-order-by="alarmLevel" ma-tr="ui.settings.systemStatus.alarmLevel"></th>\n                <th md-column md-order-by="changeType" ma-tr="ui.settings.systemStatus.changeType"></th>\n                <th md-column md-order-by="typeName" ma-tr="ui.settings.systemStatus.type"></th>\n                <th md-column md-order-by="message" ma-tr="ui.settings.systemStatus.message"></th>\n                <th md-column md-order-by="ts" ma-tr="ui.settings.systemStatus.timestamp"></th>\n                <th md-column md-order-by="userId" ma-tr="ui.settings.systemStatus.username"></th>\n            </tr>\n            </thead>\n            <tbody md-body>\n            <tr md-row\n                ng-repeat="auditItem in $ctrl.auditTrail"\n                ng-click="$ctrl.displayAuditContext(auditItem)">\n                <td md-cell ng-bind="auditItem.alarmLevel"></td>\n                <td md-cell ng-bind="auditItem.changeType"></td>\n                <td md-cell ng-bind="auditItem.typeName"></td>\n                <td md-cell ng-bind="auditItem.message"></td>\n                <td md-cell ng-bind="auditItem.timestamp| maMoment:\'format\':\'l LT\'"></td>\n                <td md-cell ng-bind="auditItem.username"></td>\n            </tr>\n            </tbody>\n        </table>\n    </md-table-container>\n</div>'},3576:function(t,e){t.exports='<div layout="column" ng-init="$ctrl.pageChanged(\'loggingConsole\')">\n    <div layout layout-align="end">\n        <md-button ng-click="$ctrl.displayLogFile(\'ma.log\')" class="md-raised md-primary">\n            <md-icon>\n                remove_red_eye\n            </md-icon>\n            <span ma-tr="ui.settings.systemStatus.viewCurrentMaLog"></span>\n        </md-button>\n        <md-button ng-click="$ctrl.getLogFilesList()" class="md-raised">\n            <md-icon>\n                refresh\n            </md-icon>\n            <span ma-tr="ui.app.refreshTable"></span>\n        </md-button>\n    </div>\n\n    <md-list flex class="md-dense">\n        <div ng-repeat="logFileMeta in $ctrl.logFilesList">\n            <md-list-item>\n                <span>\n                    <strong>{{logFileMeta.filename}}</strong>\n                    ({{logFileMeta.lastModified | maMoment:\'format\':\'l LT\'}} - {{logFileMeta.size | maBytes}})\n                </span>\n                <span flex></span>\n                <md-button ng-click="$ctrl.displayLogFile(logFileMeta.filename)">\n                    <md-icon>\n                        remove_red_eye\n                    </md-icon>\n                    <span ma-tr="ui.settings.systemStatus.view"></span>\n                </md-button>\n                <md-button href="{{$ctrl.getLogDownloadUrl(logFileMeta.filename)}}">\n                    <md-icon>\n                        file_download\n                    </md-icon>\n                    <span ma-tr="ui.settings.systemStatus.downloadLog"></span>\n                </md-button>\n            </md-list-item>\n            <md-divider></md-divider>\n        </div>\n    </md-list>\n</div>'},3577:function(t,e){t.exports='<div ng-init="$ctrl.pageChanged(\'internalMetrics\')">\n    <div layout layout-align="end">\n        <md-button ng-click="$ctrl.getInternalMetrics()" class="md-raised">\n            <md-icon>\n                refresh\n            </md-icon>\n            <span ma-tr="ui.app.refreshTable"></span>\n        </md-button>\n    </div>\n\n    <md-table-container>\n        <table md-table>\n            <thead md-head md-order="sortOrder">\n                <tr md-row>\n                    <th md-column md-order-by="name" ma-tr="ui.settings.systemStatus.name"></th>\n                    <th md-column md-numeric md-order-by="value"><span ma-tr="ui.settings.systemStatus.value"></span></th>\n                </tr>\n            </thead>\n            <tbody md-body>\n                <tr md-row ng-repeat="metric in $ctrl.internalMetrics | orderBy: sortOrder">\n                    <td md-cell ng-bind="metric.name"></td>\n                    <td md-cell ng-bind="metric.value"></td>\n                </tr>\n            </tbody>\n        </table>\n    </md-table-container>\n</div>\n'},3578:function(t,e){t.exports='<div ng-init="$ctrl.pageChanged(\'workItems\')">\n    <div layout layout-align="end">\n        <md-button ng-click="$ctrl.getWorkItems()" class="md-raised">\n            <md-icon>\n                refresh\n            </md-icon>\n            <span ma-tr="ui.app.refreshTable"></span>\n        </md-button>\n    </div>\n\n\n\n    <h3 ma-tr="ui.settings.systemStatus.queueCounts"></h3>\n\n    <md-table-container>\n        <h4 ma-tr="ui.settings.systemStatus.highPriority">High Priority</h4>\n        <h5 ng-if="$ctrl.isEmptyObj($ctrl.workItemsQueueCounts.highPriorityServiceQueueClassCounts)"\n            ma-tr="ui.settings.systemStatus.noneFound"></h5>\n        <table md-table\n               ng-if="!$ctrl.isEmptyObj($ctrl.workItemsQueueCounts.highPriorityServiceQueueClassCounts)">\n            <thead md-head>\n                <tr md-row>\n                    <th md-column ma-tr="ui.settings.systemStatus.className"></th>\n                    <th md-column ma-tr="ui.settings.systemStatus.count"></th>\n                </tr>\n            </thead>\n            <tbody md-body>\n                <tr md-row ng-repeat="(item, count) in $ctrl.workItemsQueueCounts.highPriorityServiceQueueClassCounts">\n                    <td md-cell ng-bind="item"></td>\n                    <td md-cell ng-bind="count"></td>\n                </tr>\n            </tbody>\n        </table>\n    </md-table-container>\n\n    <md-table-container>\n        <h4 ma-tr="ui.settings.systemStatus.mediumPriority"></h4>\n        <h5 ng-if="$ctrl.isEmptyObj($ctrl.workItemsQueueCounts.mediumPriorityServiceQueueClassCounts)"\n            ma-tr="ui.settings.systemStatus.noneFound"></h5>\n        <table md-table ng-class="{\'mobile\': !$mdMedia(\'gt-sm\')}"\n               ng-if="!$ctrl.isEmptyObj($ctrl.workItemsQueueCounts.mediumPriorityServiceQueueClassCounts)">\n            <thead md-head>\n                <tr md-row>\n                    <th md-column ma-tr="ui.settings.systemStatus.className">Class Name</th>\n                    <th md-column ma-tr="ui.settings.systemStatus.count">Count</th>\n                </tr>\n            </thead>\n            <tbody md-body>\n                <tr md-row ng-repeat="(item, count) in $ctrl.workItemsQueueCounts.mediumPriorityServiceQueueClassCounts">\n                    <td md-cell ng-bind="item"></td>\n                    <td md-cell ng-bind="count"></td>\n                </tr>\n            </tbody>\n        </table>\n    </md-table-container>\n\n    <md-table-container>\n        <h4 ma-tr="ui.settings.systemStatus.lowPriority"></h4>\n        <h5 ng-if="$ctrl.isEmptyObj($ctrl.workItemsQueueCounts.lowPriorityServiceQueueClassCounts)"\n            ma-tr="ui.settings.systemStatus.noneFound"></h5>\n        <table md-table\n               ng-if="!$ctrl.isEmptyObj($ctrl.workItemsQueueCounts.lowPriorityServiceQueueClassCounts)">\n            <thead md-head>\n                <tr md-row>\n                    <th md-column ma-tr="ui.settings.systemStatus.className"></th>\n                    <th md-column ma-tr="ui.settings.systemStatus.count"></th>\n                </tr>\n            </thead>\n            <tbody md-body>\n                <tr md-row ng-repeat="(item, count) in $ctrl.workItemsQueueCounts.lowPriorityServiceQueueClassCounts">\n                    <td md-cell ng-bind="item"></td>\n                    <td md-cell ng-bind="count"></td>\n                </tr>\n            </tbody>\n        </table>\n    </md-table-container>\n\n    <br><br>\n    <md-divider></md-divider>\n    <br><br>\n\n    <h3 ma-tr="ui.settings.systemStatus.rejectedStats"></h3>\n\n    <md-table-container>\n        <h4 ma-tr="ui.settings.systemStatus.highPriority"></h4>\n        <h5 ng-if="!$ctrl.workItemsRejectedStats.highPriorityRejectedTaskStats.length" ma-tr="ui.settings.systemStatus.noneFound"></h5>\n        <table md-table\n               ng-if="$ctrl.workItemsRejectedStats.highPriorityRejectedTaskStats.length">\n            <thead md-head md-order="sortOrder">\n            <tr md-row>\n                <th md-column md-order-by="currentlyRunning" ma-tr="ui.settings.systemStatus.currentlyRunning"></th>\n                <th md-column md-order-by="id" ma-tr="ui.settings.systemStatus.id"></th>\n                <th md-column md-order-by="lastAccess" ma-tr="ui.settings.systemStatus.lastAccess"></th>\n                <th md-column md-order-by="name" ma-tr="ui.settings.systemStatus.name"></th>\n                <th md-column md-order-by="poolFull" ma-tr="ui.settings.systemStatus.poolFull"></th>\n                <th md-column md-order-by="queueFull" ma-tr="ui.settings.systemStatus.queueFull"></th>\n                <th md-column md-order-by="totalRejections" ma-tr="ui.settings.systemStatus.totalRejections"></th>\n            </tr>\n            </thead>\n            <tbody md-body>\n            <tr md-row ng-repeat="rejectedTaskStat in $ctrl.workItemsRejectedStats.highPriorityRejectedTaskStats | orderBy: sortOrder">\n                <td md-cell ng-bind="rejectedTaskStat.currentlyRunning"></td>\n                <td md-cell ng-bind="rejectedTaskStat.id"></td>\n                <td md-cell ng-bind="rejectedTaskStat.lastAccess | maMoment:\'format\':\'l LT\'"></td>\n                <td md-cell ng-bind="rejectedTaskStat.name"></td>\n                <td md-cell ng-bind="rejectedTaskStat.poolFull"></td>\n                <td md-cell ng-bind="rejectedTaskStat.queueFull"></td>\n                <td md-cell ng-bind="rejectedTaskStat.totalRejections"></td>\n            </tr>\n            </tbody>\n        </table>\n    </md-table-container>\n\n    <md-table-container>\n        <h4 ma-tr="ui.settings.systemStatus.mediumPriority"></h4>\n        <h5 ng-if="!$ctrl.workItemsRejectedStats.mediumPriorityRejectedTaskStats.length" ma-tr="ui.settings.systemStatus.noneFound"></h5>\n        <table md-table\n               ng-if="$ctrl.workItemsRejectedStats.mediumPriorityRejectedTaskStats.length">\n            <thead md-head md-order="sortOrder">\n            <tr md-row>\n                <th md-column md-order-by="currentlyRunning" ma-tr="ui.settings.systemStatus.currentlyRunning"></th>\n                <th md-column md-order-by="id" ma-tr="ui.settings.systemStatus.id"></th>\n                <th md-column md-order-by="lastAccess" ma-tr="ui.settings.systemStatus.lastAccess"></th>\n                <th md-column md-order-by="name" ma-tr="ui.settings.systemStatus.name"></th>\n                <th md-column md-order-by="poolFull" ma-tr="ui.settings.systemStatus.poolFull"></th>\n                <th md-column md-order-by="queueFull" ma-tr="ui.settings.systemStatus.queueFull"></th>\n                <th md-column md-order-by="totalRejections" ma-tr="ui.settings.systemStatus.totalRejections"></th>\n            </tr>\n            </thead>\n            <tbody md-body>\n            <tr md-row ng-repeat="rejectedTaskStat in $ctrl.workItemsRejectedStats.mediumPriorityRejectedTaskStats | orderBy: sortOrder">\n                <td md-cell ng-bind="rejectedTaskStat.currentlyRunning"></td>\n                <td md-cell ng-bind="rejectedTaskStat.id"></td>\n                <td md-cell ng-bind="rejectedTaskStat.lastAccess | maMoment:\'format\':\'l LT\'"></td>\n                <td md-cell ng-bind="rejectedTaskStat.name"></td>\n                <td md-cell ng-bind="rejectedTaskStat.poolFull"></td>\n                <td md-cell ng-bind="rejectedTaskStat.queueFull"></td>\n                <td md-cell ng-bind="rejectedTaskStat.totalRejections"></td>\n            </tr>\n            </tbody>\n        </table>\n    </md-table-container>\n\n    <br><br>\n    <md-divider></md-divider>\n    <br><br>\n\n    <h3>Running Stats</h3>\n\n    <md-table-container>\n        <h4 ma-tr="ui.settings.systemStatus.highPriority"></h4>\n        <h5 ng-if="!$ctrl.workItemsRunningStats.highPriorityOrderedQueueStats.length" ma-tr="ui.settings.systemStatus.noneFound"></h5>\n        <table md-table\n               ng-if="$ctrl.workItemsRunningStats.highPriorityOrderedQueueStats.length">\n            <thead md-head md-order="sortOrder">\n                <tr md-row>\n                    <th md-column md-order-by="id" ma-tr="ui.settings.systemStatus.id"></th>\n                    <th md-column md-order-by="name" ma-tr="ui.settings.systemStatus.name"></th>\n                    <th md-column md-order-by="queueSizeLimit" ma-tr="ui.settings.systemStatus.queueSizeLimit"></th>\n                    <th md-column md-order-by="maxQueueSize" ma-tr="ui.settings.systemStatus.maxQueueSize"></th>\n                    <th md-column md-order-by="currentQueueSize" ma-tr="ui.settings.systemStatus.currentQueueSize"></th>\n                    <th md-column md-order-by="executionCount" ma-tr="ui.settings.systemStatus.executionCount"></th>\n                    <th md-column md-order-by="avgExecutionTimeMs" ma-tr="ui.settings.systemStatus.avgExecutionTime"></th>\n                    <th md-column md-order-by="lastExecutionTimeMs" ma-tr="ui.settings.systemStatus.lastExecutionTime"></th>\n                    <th md-column md-order-by="rejections" ma-tr="ui.settings.systemStatus.rejections"></th>\n                </tr>\n            </thead>\n            <tbody md-body>\n                <tr md-row ng-repeat="runningStat in $ctrl.workItemsRunningStats.highPriorityOrderedQueueStats | orderBy: sortOrder">\n                    <td md-cell ng-bind="runningStat.id"></td>\n                    <td md-cell ng-bind="runningStat.name"></td>\n                    <td md-cell ng-bind="runningStat.queueSizeLimit"></td>\n                    <td md-cell ng-bind="runningStat.maxQueueSize"></td>\n                    <td md-cell ng-bind="runningStat.currentQueueSize"></td>\n                    <td md-cell ng-bind="runningStat.executionCount"></td>\n                    <td md-cell ng-bind="runningStat.avgExecutionTimeMs"></td>\n                    <td md-cell ng-bind="runningStat.lastExecutionTimeMs"></td>\n                    <td md-cell ng-bind="runningStat.rejections"></td>\n                </tr>\n            </tbody>\n        </table>\n    </md-table-container>\n\n    <md-table-container>\n        <h4 ma-tr="ui.settings.systemStatus.mediumPriority"></h4>\n        <h5 ng-if="!$ctrl.workItemsRunningStats.mediumPriorityOrderedQueueStats.length" ma-tr="ui.settings.systemStatus.noneFound"></h5>\n        <table md-table\n               ng-if="$ctrl.workItemsRunningStats.mediumPriorityOrderedQueueStats.length">\n            <thead md-head md-order="sortOrder">\n            <tr md-row>\n                <th md-column md-order-by="id" ma-tr="ui.settings.systemStatus.id"></th>\n                <th md-column md-order-by="name" ma-tr="ui.settings.systemStatus.name"></th>\n                <th md-column md-order-by="queueSizeLimit" ma-tr="ui.settings.systemStatus.queueSizeLimit"></th>\n                <th md-column md-order-by="maxQueueSize" ma-tr="ui.settings.systemStatus.maxQueueSize"></th>\n                <th md-column md-order-by="currentQueueSize" ma-tr="ui.settings.systemStatus.currentQueueSize"></th>\n                <th md-column md-order-by="executionCount" ma-tr="ui.settings.systemStatus.executionCount"></th>\n                <th md-column md-order-by="avgExecutionTimeMs" ma-tr="ui.settings.systemStatus.avgExecutionTime"></th>\n                <th md-column md-order-by="lastExecutionTimeMs" ma-tr="ui.settings.systemStatus.lastExecutionTime"></th>\n                <th md-column md-order-by="rejections" ma-tr="ui.settings.systemStatus.rejections"></th>\n            </tr>\n            </thead>\n            <tbody md-body>\n            <tr md-row ng-repeat="runningStat in $ctrl.workItemsRunningStats.mediumPriorityOrderedQueueStats | orderBy: sortOrder">\n                <td md-cell ng-bind="runningStat.id"></td>\n                <td md-cell ng-bind="runningStat.name"></td>\n                <td md-cell ng-bind="runningStat.queueSizeLimit"></td>\n                <td md-cell ng-bind="runningStat.maxQueueSize"></td>\n                <td md-cell ng-bind="runningStat.currentQueueSize"></td>\n                <td md-cell ng-bind="runningStat.executionCount"></td>\n                <td md-cell ng-bind="runningStat.avgExecutionTimeMs"></td>\n                <td md-cell ng-bind="runningStat.lastExecutionTimeMs"></td>\n                <td md-cell ng-bind="runningStat.rejections"></td>\n            </tr>\n            </tbody>\n        </table>\n    </md-table-container>\n</div>\n'},3579:function(t,e){t.exports='<div layout="column" ng-init="$ctrl.pageChanged(\'threads\')">\n    <div layout layout-align="end">\n        <md-button ng-click="$ctrl.getThreads()" class="md-raised">\n            <md-icon>\n                refresh\n            </md-icon>\n            <span ma-tr="ui.app.refreshTable"></span>\n        </md-button>\n        <md-button href="/rest/v1/threads?stackDepth=30&asFile=true"\n                   class="md-raised">\n            <md-icon>\n                file_download\n            </md-icon>\n            <span ma-tr="ui.settings.systemStatus.downloadThreadDump"></span>\n        </md-button>\n    </div>\n\n    <md-table-container>\n        <table md-table>\n            <thead md-head md-order="sortOrder">\n            <tr md-row>\n                <th md-column md-order-by="name" ma-tr="ui.settings.systemStatus.name"></th>\n                <th md-column md-order-by="cpuTime" ma-tr="ui.settings.systemStatus.cpuTime"></th>\n                <th md-column md-order-by="userTime" ma-tr="ui.settings.systemStatus.userTime"></th>\n                <th md-column md-order-by="state" ma-tr="ui.settings.systemStatus.state"></th>\n                <th md-column md-numeric md-order-by="priority"><span ma-tr="ui.settings.systemStatus.priority"></span></th>\n                <th md-column md-numeric md-order-by="id"><span ma-tr="ui.settings.systemStatus.id"></span></th>\n            </tr>\n            </thead>\n            <tbody md-body>\n            <tr md-row ng-repeat="thread in $ctrl.threads | orderBy: sortOrder"\n                    ng-class="{\'blocked-thread\': thread.state === \'BLOCKED\'}"\n                    ng-click="$ctrl.showStackTrace(thread)">\n                <td md-cell ng-bind="thread.name"></td>\n                <td md-cell>{{thread.cpuTime / 1000000 | maDuration:\'seconds\'}}s</td>\n                <td md-cell>{{thread.userTime / 1000000 | maDuration:\'seconds\'}}s</td>\n                <td md-cell>\n                    {{thread.state}}\n                    <md-icon class="md-accent" ng-if="thread.state === \'BLOCKED\'" style="font-size: 20px"\n                             ng-click="$ctrl.showBlockedThreadDetails($event, thread)">warning\n                    </md-icon>\n                </td>\n                <td md-cell ng-bind="thread.priority"></td>\n                <td md-cell ng-bind="thread.id"></td>\n            </tr>\n            </tbody>\n        </table>\n    </md-table-container>\n</div>'},3580:function(t,e){t.exports='<div layout="column" id="server-info" ng-init="$ctrl.pageChanged(\'serverInfo\')">\n    <div layout layout-align="end">\n        <md-button ng-click="$ctrl.getSystemInfo()" class="md-raised">\n            <md-icon>\n                refresh\n            </md-icon>\n            <span ma-tr="ui.app.refreshTable"></span>\n        </md-button>\n        <md-button ng-click="$ctrl.getPointCounts()" class="md-raised">\n            <md-icon>\n                timeline\n            </md-icon>\n            <span>Get Point Counts</span>\n        </md-button>\n    </div>\n\n    <md-list flex class="md-dense">\n        <md-list-item layout>\n            <strong ma-tr="ui.settings.systemStatus.timeZone"></strong>:\n            <span flex></span>\n            <span ng-bind="$ctrl.systemInfo.timezone"></span>\n        </md-list-item>\n        <md-divider></md-divider>\n        <md-list-item layout>\n            <strong ma-tr="ui.settings.systemStatus.databaseType"></strong>:\n            <span flex></span>\n            <span ng-bind="$ctrl.systemInfo.databaseType"></span>\n        </md-list-item>\n        <md-divider></md-divider>\n        <md-list-item layout>\n            <strong ma-tr="ui.settings.systemStatus.sqlDatabaseSize"></strong>:\n            <span flex></span>\n            <span ng-bind="$ctrl.systemInfo.sqlDatabaseSize | maBytes"></span>\n        </md-list-item>\n        <md-divider></md-divider>\n        <md-list-item layout>\n            <strong ma-tr="ui.settings.systemStatus.noSqlPointValueDatabaseSize"></strong>:\n            <span flex></span>\n            <span ng-bind="$ctrl.systemInfo.noSqlPointValueDatabaseSize | maBytes"></span>\n        </md-list-item>\n        <md-divider></md-divider>\n        <md-list-item layout>\n            <strong ma-tr="ui.settings.systemStatus.fileDataSize"></strong>:\n            <span flex></span>\n            <span ng-bind="$ctrl.systemInfo.filedataSize | maBytes"></span>\n            &nbsp;\n            <span ma-tr="ui.settings.systemStatus.formatfiledataCount" ma-tr-args="[$ctrl.systemInfo.filedataCount]"></span>\n        </md-list-item>\n        <md-divider></md-divider>\n        <md-list-item layout>\n            <strong ma-tr="ui.settings.systemStatus.eventsCount"></strong>:\n            <span flex></span>\n            <span ng-bind="$ctrl.systemInfo.eventsCount"></span>\n        </md-list-item>\n        <md-divider></md-divider>\n    </md-list>\n\n    <br><br>\n\n    <md-table-container ng-if="$ctrl.pointCounts.length">\n        <table md-table>\n            <thead md-head md-order="sortOrder">\n            <tr md-row>\n                <th md-column md-order-by="pointName" ma-tr="ui.settings.systemStatus.pointName"></th>\n                <th md-column md-numeric md-order-by="pointId"><span ma-tr="ui.settings.systemStatus.pointId"></span></th>\n                <th md-column md-numeric md-order-by="count"><span ma-tr="ui.settings.systemStatus.count"></span></th>\n            </tr>\n            </thead>\n            <tbody md-body>\n            <tr md-row ng-repeat="point in $ctrl.pointCounts | orderBy: sortOrder">\n                <td md-cell>\n                    <a ng-bind="point.pointName" ui-sref="ui.dataPointDetails({pointId: point.pointId})"></a>\n                </td>\n                <td md-cell ng-bind="point.pointId"></td>\n                <td md-cell ng-bind="point.count"></td>\n            </tr>\n            </tbody>\n        </table>\n    </md-table-container>\n</div>'},3581:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(3481),o=n.n(s),l=n(10),r=n.n(l),d=n(3482),m=n.n(d),c=n(3483),u=n.n(c),p=n(3484),g=n.n(p),h=n(3485),y=n.n(h),b=n(3486),f=n.n(b),v=n(3487),x=n.n(v),S=n(3488),$=n.n(S),w=n(3489),T=n.n(w),k=n(3490),P=n.n(k);n(3491);const E="";class A{static get $$ngIsClass(){return!0}static get $inject(){return["maPoint","$mdMedia","maWatchList","$state","$mdDialog","maTranslate","$mdToast","maUser","$q"]}constructor(t,e,n,a,i,s,o,l,r){this.Point=t,this.$mdMedia=e,this.WatchList=n,this.$state=a,this.$mdDialog=i,this.Translate=s,this.$mdToast=o,this.User=l,this.$q=r,this.total=E,this.tableSelection=[],this.hierarchySelection=[],this.staticSelected=[],this.allPoints=[],this.tableQuery={limit:20,page:1,order:"deviceName"},this.staticTableQuery={limit:20,page:1},this.queryPreviewTable={limit:20,page:1},this.selectedTab=0,this.tableUpdateCount=0,this.sortAndLimitBound=((...t)=>this.sortAndLimit(...t)),this.onPaginateOrSortBound=((...t)=>this.onPaginateOrSort(...t)),this.tableSelectionChangedBound=((...t)=>this.tableSelectionChanged(...t))}newWatchlist(t){this.selectedWatchlist=null;const e=new this.WatchList;e.isNew=!0,e.name=t,e.xid="",e.points=[],e.username=this.User.current.username,e.type="tags",e.readPermission="user",e.editPermission=this.User.current.hasPermission("edit-watchlists")?"edit-watchlists":"",this.editWatchlist(e),this.resetForm()}typeChanged(){this.editWatchlist(this.watchlist)}nextStep(){this.selectedTab++}prevStep(){this.selectedTab--}isLastStep(){if(!this.watchlist)return!1;switch(this.watchlist.type){case"static":return 3===this.selectedTab;case"query":const t=this.watchlist.params&&this.watchlist.params.length?2:3;return this.selectedTab===t;case"hierarchy":return 1===this.selectedTab;case"tags":return 2===this.selectedTab}return!0}addParam(){this.watchlist.params||(this.watchlist.params=[]),this.watchlist.params.push({type:"input",options:{}})}addTag(){this.watchlist.params||(this.watchlist.params=[]),this.watchlist.params.push({type:"tagValue",options:{multiple:!0}})}checkFixedValue(t){(Array.isArray(t.options.fixedValue)&&!t.options.fixedValue.length||void 0===t.options.fixedValue)&&delete t.options.fixedValue}tagParamsChanged(){this.rebuildSelectedTagKeys();const t=[];this.watchlist.params.forEach(e=>{e.name=e.options.tagKey,e.options.restrictions={},t.forEach(t=>{e.options.restrictions[t.options.tagKey]="{{"+t.name+"}}"}),t.push(e)})}rebuildSelectedTagKeys(){this.selectedTagKeys=[],this.watchlist.params.forEach(t=>{"tagValue"===t.type&&this.selectedTagKeys.push(t.options.tagKey)})}isError(t){return!(!this.watchListForm||!this.watchListForm[t])&&(this.watchListForm[t].$invalid&&(this.watchListForm.$submitted||this.watchListForm[t].$touched))}resetForm(){this.watchListForm&&(this.watchListForm.$setUntouched(),this.watchListForm.$setPristine())}save(){const t=this.watchlist.isNew?"$save":"$updateWithRename";Object.keys(this.watchListForm).forEach(t=>{if(0!==t.indexOf("$")){this.watchListForm[t].$setValidity("server-error",!0)}}),this.watchListForm.$valid?("query"!==this.watchlist.type&&"tags"!==this.watchlist.type||(this.watchlist.data||(this.watchlist.data={}),this.watchlist.data.paramValues=i.a.copy(this.watchListParams)),this.watchlist[t]().then(t=>{this.selectedWatchlist=t,this.watchlistSelected();let e=!1;for(let n=0;n<this.watchlists.length;n++)if(this.watchlists[n].xid===t.xid){this.watchlists.splice(n,1,t),e=!0;break}e||this.watchlists.push(t);const n=this.$mdToast.simple().textContent(this.Translate.trSync("ui.app.watchListSaved")).action(this.Translate.trSync("common.ok")).highlightAction(!0).position("bottom center").hideDelay(2e3);this.$mdToast.show(n),this.resetForm()},t=>{const e=this.$mdToast.simple().textContent(this.Translate.trSync("ui.app.errorSavingWatchlist",t.mangoStatusText)).action(this.Translate.trSync("common.ok")).highlightAction(!0).highlightClass("md-warn").position("bottom center").hideDelay(5e3);this.$mdToast.show(e),this.selectedTab=0,t.data&&t.data.validationMessages&&t.data.validationMessages.forEach(t=>{this.watchListForm[t.property]&&(this.watchListForm[t.property].$setValidity("server-error",!1),this.watchListForm[t.property].serverErrorMessage=t.message)})})):this.selectedTab=0}deleteWatchlist(t){const e=this.$mdDialog.confirm().title(this.Translate.trSync("ui.app.areYouSure")).textContent(this.Translate.trSync("ui.app.confirmDeleteWatchlist")).ariaLabel(this.Translate.trSync("ui.app.areYouSure")).targetEvent(t).ok(this.Translate.trSync("common.ok")).cancel(this.Translate.trSync("common.cancel"));this.$mdDialog.show(e).then(()=>{this.watchlist.$delete().then(t=>{this.newWatchlist();for(let e=0;e<this.watchlists.length;e++)if(this.watchlists[e].xid===t.xid){this.watchlists.splice(e,1);break}})})}$onInit(){if(this.refreshWatchlists(),this.$state.params.watchListXid)this.getWatchlist(this.$state.params.watchListXid);else if(this.$state.params.watchList){this.selectedWatchlist=null;const t=this.$state.params.watchList;t.username=this.User.current.username,t.readPermission="user",t.editPermission=this.User.current.hasPermission("edit-watchlists")?"edit-watchlists":"",this.editWatchlist(t),this.resetForm()}else this.newWatchlist()}getWatchlist(t){this.WatchList.get({xid:t}).$promise.then(t=>{const e=this.User.current;if(t.username!==e.username&&!e.hasPermission(t.editPermission))throw"no edit permission";this.selectedWatchlist=t,this.watchlistSelected()},()=>{this.newWatchlist()})}refreshWatchlists(){this.WatchList.query({rqlQuery:"sort(name)"}).$promise.then(t=>{const e=[],n=this.User.current;for(let a=0;a<t.length;a++){const i=t[a];(i.username===n.username||n.hasPermission(i.editPermission))&&(this.selectedWatchlist&&this.selectedWatchlist.xid===i.xid?e.push(this.selectedWatchlist):(i.points=[],e.push(i)))}this.watchlists=e})}watchlistSelected(){if(this.selectedWatchlist){const t=i.a.copy(this.selectedWatchlist);t.originalXid=t.xid,this.editWatchlist(t),this.resetForm()}else this.watchlist&&this.watchlist.isNew||this.newWatchlist()}editWatchlist(t){if(this.watchlist=t,this.$state.go(".",{watchListXid:t.isNew?null:t.xid},{location:"replace",notify:!1}),this.staticSelected=[],this.allPoints=[],this.total=E,this.queryPromise=null,this.folders=[],this.watchListParams=t.defaultParamValues(),this.clearSearch(!1),"static"===t.type){let e;t.isNew?(t.points=[],e=this.$q.when(t.points)):e=t.getPoints(),this.watchlistPointsPromise=e.then(()=>{this.resetSort(),this.sortAndLimit()}),this.doPointQuery()}else"query"===t.type?(t.data||(t.data={}),t.data.paramValues||(t.data.paramValues={}),t.query||(t.query="sort(deviceName,name)&limit(200)"),this.queryChanged()):"hierarchy"===t.type?t.hierarchyFolders?(this.folders=t.hierarchyFolders,this.updateWatchListFolderIds()):(t.folderIds||(t.folderIds=[]),this.folders=t.folderIds.map(t=>({id:t}))):"tags"===t.type&&(t.params||(t.params=[]),t.data||(t.data={}),t.data.paramValues||(t.data.paramValues={}),this.rebuildSelectedTagKeys(),this.queryChanged())}onPaginateOrSort(){this.doPointQuery(!0)}doPointQuery(t){this.queryPromise&&"function"==typeof this.queryPromise.cancel&&this.queryPromise.cancel(),t||(this.total=E,this.allPoints=[]);let e=new r.a.Query(i.a.copy(this.tableQuery.rql));"and"!==e.name&&(e=e.args.length?new r.a.Query({name:"and",args:[e]}):new r.a.Query),e=(e=e.sort(this.tableQuery.order)).limit(this.tableQuery.limit,(this.tableQuery.page-1)*this.tableQuery.limit);const n=this.Point.query({rqlQuery:e.toString()});return n.$promise.setCancel(n.$cancelRequest),this.queryPromise=n.$promise.then(null,t=>[]),this.$q.all([this.queryPromise,this.watchlistPointsPromise]).then(t=>{this.allPoints=t[0],this.total=this.allPoints.$total||this.allPoints.length,this.updateSelections(!0,!0)}),this.queryPromise}doSearch(){const t=["name","deviceName","dataSourceName","xid"],e=[];for(let n=0;n<t.length;n++)e.push(new r.a.Query({name:"like",args:[t[n],"*"+this.tableSearch+"*"]}));this.tableQuery.rql=new r.a.Query({name:"or",args:e}),this.doPointQuery()}clearSearch(t){this.tableSearch="",this.tableQuery.rql=new r.a.Query,(t||null==t)&&this.doPointQuery()}queryChanged(){this.queryPreviewPoints=[],this.queryPreviewTable.total=E,this.queryPreviewPromise&&"function"==typeof this.queryPreviewPromise.cancel&&this.queryPreviewPromise.cancel(),this.queryPreviewPromise=this.watchlist.getPoints(this.watchListParams).then(t=>{this.queryPreviewPoints=t,this.queryPreviewTable.total=t.length},()=>{this.queryPreviewTable.total=0})}tableSelectionChanged(){this.watchlist.points=this.tableSelection.slice(),this.updateSelections(!1,!0),this.resetSort(),this.sortAndLimit()}hierarchySelectionChanged(){const t=t=>{this.watchlist.points=t.slice(),this.updateSelections(!0,!1),this.resetSort(),this.sortAndLimit()},e=this.hierarchySelection.map(t=>t.xid);if(e.length){const n=new r.a.Query({name:"in",args:["xid"].concat(e)});this.Point.query({rqlQuery:n.toString()}).$promise.then(t)}else t([])}updateWatchListFolderIds(){this.watchlist.folderIds=this.folders.map(t=>t.id)}resetSort(){delete this.staticTableQuery.order}sortAndLimit(){let t=this.staticTableQuery.order;if(t){let e=!1;(e=0===t.indexOf("-")||0===t.indexOf("+"))&&(t=t.substring(1)),this.watchlist.points.sort((n,a)=>n[t]>a[t]?e?-1:1:n[t]<a[t]?e?1:-1:0)}const e=this.staticTableQuery.limit,n=this.staticTableQuery.start=(this.staticTableQuery.page-1)*this.staticTableQuery.limit;this.pointsInView=this.watchlist.points.slice(n,n+e)}dragAndDrop(t,e){this.resetSort();const n=this.staticTableQuery.start+e.item.sortable.index,a=this.staticTableQuery.start+e.item.sortable.dropindex,i=this.watchlist.points[n];this.watchlist.points.splice(n,1),this.watchlist.points.splice(a,0,i)}removeFromWatchlist(){const t={};for(let e=0;e<this.staticSelected.length;e++)t[this.staticSelected[e].xid]=!0;for(let e=0;e<this.watchlist.points.length;e++)t[this.watchlist.points[e].xid]&&this.watchlist.points.splice(e--,1);this.staticSelected=[],this.updateSelections(!0,!0),this.sortAndLimit()}updateSelections(t,e){if(t){this.tableUpdateCount++,this.tableSelection=this.watchlist.points.map(t=>i.a.extend(Object.create(this.Point.prototype),t));const t={};this.tableSelection.forEach(e=>{t[e.xid]=e}),this.allPoints=this.allPoints.map((e,n)=>t[e.xid]||e)}e&&(this.hierarchySelection=this.watchlist.points.slice())}pointTrack(t){return this.tableUpdateCount+"_"+t.xid}paramTypeChanged(t){t.options||(t.options={}),this.deleteParamValues(t),t&&"tagValue"===t.type&&(t.options.tagKey||(t.options.tagKey="device"))}deleteParamValues(t){this.watchlist.data&&this.watchlist.data.paramValues&&delete this.watchlist.data.paramValues[t.name],delete this.watchListParams[t.name],t.options&&t.options&&delete t.options.fixedValue}deleteProperty(t,e){"object"==typeof t&&"string"==typeof e&&delete t[e]}}function C(t){return t.put("watchListBuilder.settings.html",m.a),t.put("watchListBuilder.parameters.html",u.a),t.put("watchListBuilder.query.html",g.a),t.put("watchListBuilder.selectTags.html",y.a),t.put("watchListBuilder.queryPreview.html",f.a),t.put("watchListBuilder.pointHierarchy.html",x.a),t.put("watchListBuilder.selectFromTable.html",$.a),t.put("watchListBuilder.selectFromHierarchy.html",T.a),t.put("watchListBuilder.selectedPoints.html",P.a),{restrict:"E",scope:{},bindToController:!0,controllerAs:"$ctrl",controller:A,template:o.a}}C.$inject=["$templateCache"],e.default=C},3582:function(t,e,n){"use strict";function a(){const t=/{{(.*?)}}/g,e=/%7B%7B(.*?)%7D%7D/gi;return{restrict:"A",require:"ngModel",link:function(n,a,i,s){s.$parsers.unshift(function(e){return"string"==typeof e?e.replace(t,"%7B%7B$1%7D%7D"):e}),s.$formatters.push(function(t){return"string"==typeof t?t.replace(e,"{{$1}}"):t})}}}n.r(e),a.$inject=[],e.default=a},3583:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(3493),o=n.n(s);function l(t,e,n,a,i){this.ImportExport=t,this.$timeout=e,this.Util=n,this.Translate=a,this.downloadStatus={},this.sectionsForExport={},this.selectAllIndeterminate=!1,this.indent=3,this.accentColor=i.getThemeColor("accent")}l.$inject=["maImportExport","$timeout","maUtil","maTranslate","$mdColors"],l.prototype.$onInit=function(){this.ImportExport.list().then(function(t){this.sectionList=t}.bind(this))},l.prototype.selectAllChanged=function(){for(let t=0;t<this.sectionList.length;t++){const e=this.sectionList[t];this.sectionsForExport[e]=this.selectAll}this.selectAllIndeterminate=!1},l.prototype.checkIndeterminate=function(){let t=!0,e=!1;for(let n=0;n<this.sectionList.length;n++){const a=this.sectionList[n],i=!!this.sectionsForExport[a];t=t&&i,e=e||i}this.selectAllIndeterminate=e&&!t,this.selectAll=e},l.prototype.doExport=function(t){const e=[];for(const t in this.sectionsForExport)this.sectionsForExport[t]&&e.push(t);const n={timeout:0};t&&(n.responseType="blob"),this.downloadStatus.error=null,this.downloadStatus.downloading=t?"download":"export",this.downloadStatus.queryPromise=this.ImportExport.exportSections(e,n).then(function(e){this.downloadStatus.downloading=!1,t?this.Util.downloadBlob(e,"export.json"):(this.exportedData=e,this.writeIndentedJson())}.bind(this),function(t){this.downloadStatus.error=t.mangoStatusText,this.downloadStatus.downloading=!1,console.log(t)}.bind(this))},l.prototype.cancelExport=function(){this.downloadStatus.queryPromise&&this.downloadStatus.queryPromise.cancel()},l.prototype.fileDropped=function(t){if(t.getDataTransferTypes().includes("Files")){const e=t.getDataTransfer();if(e.length){const t=e[0];t.type&&"application/json"!==t.type&&0!==t.type.indexOf("text/")||this.importFile(t)}}},l.prototype.fileSelected=function(t){const e=t.target;e.files&&e.files.length&&(this.importFile(e.files[0]),e.value=null)},l.prototype.importFile=function(t){delete this.importStatus,this.ImportExport.importData(t,{timeout:0}).then(function(t){this.importStatus=t,this.getImportStatus()}.bind(this))},l.prototype.getImportStatus=function(){const t=this;this.importStatus&&this.importStatus.getStatus().then(function(e){"COMPLETED"===e.state&&"CANCELLED"===e.state||100===e.progress||t.$timeout(function(){t.getImportStatus()},1e3)})},l.prototype.cancelImport=function(){this.importStatus&&this.importStatus.cancel()},l.prototype.writeIndentedJson=function(){this.exportedData&&(this.jsonString=i.a.toJson(this.exportedData,this.indent))},l.prototype.clear=function(){delete this.exportedData,this.jsonString=""},l.prototype.editorChanged=function(){delete this.exportedData},l.prototype.copyToClipboard=function(){this.doCopy={}},e.default={controller:l,template:o.a}},3584:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(3494),o=n.n(s),l=n(3495),r=n.n(l);function d(t,e,n,a,i,s,o){this.maModules=t,this.maTranslate=e,this.maDialogHelper=n,this.$scope=a,this.$sce=i,this.$window=s,this.maUiServerInfo=o}function m(t){return t.put("modulesPage.usernamePasswordPrompt.html",r.a),{restrict:"E",scope:{},bindToController:!0,controllerAs:"$ctrl",controller:d,template:o.a}}d.$inject=["maModules","maTranslate","maDialogHelper","$scope","$sce","$window","maUiServerInfo"],d.prototype.$onInit=function(){this.getModules(),this.pageUrl=this.$window.location.href,this.maModules.getUpdateLicensePayload().then(function(t){this.storeUrl=this.$sce.trustAsResourceUrl(t.storeUrl+"/account/store"),delete t.storeUrl,this.updateLicenseStr=i.a.toJson(t,!1)}.bind(this)),this.$scope.$on("maWatchdog",(t,e,n)=>{"LOGGED_IN"===e.status&&this.getModules()})},d.prototype.getModules=function(){this.maModules.getAll().then(function(t){let e;this.modules=t.filter(function(t){return"core"!==t.name||(e=t,!1)}).sort(function(t,e){const n=t.name.toLowerCase(),a=e.name.toLowerCase();return n<a?-1:n>a?1:0}),this.coreModule=e}.bind(this))},d.prototype.bgColor=function(t){return t.unloaded||t.markedForDeletion?"warn-hue-3":"background-hue-1"},d.prototype.deleteModule=function(t,e,n){if(!n)return e.$delete(!1);this.maDialogHelper.confirm(t,"modules.module.deleteConfirm").then(function(){return e.$delete(!0)}).catch(t=>{this.maDialogHelper.toastOptions({textTr:["ui.app.deleteModuleFailed",t.mangoStatusText],hideDelay:1e4,classes:"md-warn"})})},d.prototype.restart=function(t){this.maDialogHelper.confirm(t,["ui.app.restartInstanceConfirm",this.maUiServerInfo.instanceDescription]).then(function(){return this.maModules.restart()}.bind(this)).then(function(){this.maDialogHelper.toastOptions({textTr:"modules.restartScheduled",hideDelay:2e4})}.bind(this),function(t){this.maDialogHelper.toastOptions({textTr:["ui.app.restartFailed",t.mangoStatusText],hideDelay:1e4,classes:"md-warn"})}.bind(this))},d.prototype.downloadLicense=function(t){this.maDialogHelper.showBasicDialog(t,{titleTr:"ui.app.enterStoreCredentials",contentTemplateUrl:"modulesPage.usernamePasswordPrompt.html",showCancel:!0,smallDialog:!0}).then(function(t){return this.maModules.downloadLicense(t.username,t.password)}.bind(this)).then(function(){this.maDialogHelper.toast("ui.app.licenseDownloaded"),this.getModules()}.bind(this),function(t){if(!t)return;const e="HTTP "+t.status+" - "+t.data.localizedMessage;this.maDialogHelper.toast("ui.app.failedToDownloadLicense","md-warn",e)}.bind(this))},m.$inject=["$templateCache"],e.default=m},3585:function(t,e,n){"use strict";n.r(e);var a=n(3496),i=n.n(a);function s(t,e,n,a,i,s,o,l){this.maModules=t,this.maDialogHelper=e,this.$scope=n,this.$q=a,this.$mdToast=i,this.maTranslate=s,this.$timeout=o,this.maUiServerInfo=l,this.moduleSelectedBound=(t=>this.moduleSelected(t))}s.$inject=["maModules","maDialogHelper","$scope","$q","$mdToast","maTranslate","$timeout","maUiServerInfo"],s.prototype.$onInit=function(){this.checkForUpgrades(),this.maModules.getCore().then(function(t){this.coreModule=t}.bind(this)),this.$scope.$on("maWatchdog",(t,e,n)=>{"LOGGED_IN"===e.status&&this.checkForUpgrades()}),this.maModules.notificationManager.subscribe((t,e)=>{function n(t,e){for(let n=e.length-1;n>=0;n--)if(e[n].name===t)return e[n].downloaded=!0,e.splice(n,1),!0}"webSocketMessage"===t.name&&("UPGRADE_STATE_CHANGE"===e.type?(this.upgradeState=e.upgradeProcessState,this.upgradeStateDescription=e.stateDescription):"MODULE_DOWNLOADED"===e.type?(this.modulesDownloaded++,this.upgradeProgress=Math.floor(this.modulesDownloaded/this.modulesToDownload*100),n(e.name,this.upgradesSelected)||n(e.name,this.installsSelected)):"UPGRADE_FINISHED"===e.type?this.upgradeDeferred&&this.upgradeDeferred.resolve():"UPGRADE_ERROR"===e.type&&(this.error=this.maTranslate.trSync("ui.app.upgradeError",e.error),this.upgradeDeferred&&this.upgradeDeferred.reject(e.error)))},this.$scope,["webSocketMessage"])},s.prototype.checkForUpgrades=function(){this.installsSelected=[],this.upgradesSelected=[],this.backupBeforeDownload=!0,this.restartAfterDownload=!0,delete this.error,delete this.upgradeState,delete this.upgradeStateDescription,this.checkPromise=this.maModules.checkForUpgrades().then(function(t){this.installs=t.newInstalls,this.upgrades=t.upgrades,this.installs.concat(this.upgrades).forEach(t=>{t.dependencyVersions||(t.dependencyVersions={},t.dependencies&&t.dependencies.split(/\s*,\s*/).forEach(e=>{const n=e.split(/\s*:\s*/);t.dependencyVersions[n[0]]=n[1]}))})}.bind(this),function(t){this.error=t.mangoStatusText}.bind(this)).then(function(){delete this.checkPromise}.bind(this))},s.prototype.showReleaseNotes=function(t,e){this.maDialogHelper.showBasicDialog(t,{titleTr:"ui.app.releaseNotes",contentTemplate:e.releaseNotes})},s.prototype.moduleSelected=function(t){this.$timeout(()=>{this.$scope.$applyAsync(()=>{this.checkDependenciesForModule(t)})},0,!1)},s.prototype.checkDependenciesForModule=function(t){Object.keys(t.dependencyVersions).forEach(t=>{const e=e=>e.name===t,n=this.installs.find(e);n&&this.installsSelected.indexOf(n)<0&&(this.installsSelected.push(n),this.checkDependenciesForModule(n));const a=this.upgrades.find(e);a&&this.upgradesSelected.indexOf(a)<0&&(this.upgradesSelected.push(a),this.checkDependenciesForModule(a))})},s.prototype.doUpgrade=function(t){this.installsSelected.concat(this.upgradesSelected).some(t=>Object.keys(t.dependencyVersions).some(e=>{const n=this.installs.find(t=>t.name===e);if(n&&this.installsSelected.indexOf(n)<0)return this.maDialogHelper.toastOptions({textTr:["ui.app.moduleNotSelectedForInstall",t.name,e],classes:"md-warn",timeout:1e4}),!0}))||(this.upgradePromise=this.maDialogHelper.confirm(t,"ui.app.upgradeConfirm").then(function(){return this.upgradeProgress=0,this.modulesDownloaded=0,this.modulesToDownload=this.upgradesSelected.length+this.installsSelected.length,this.maModules.doUpgrade(this.installsSelected,this.upgradesSelected,this.backupBeforeDownload,this.restartAfterDownload)}.bind(this)).then(function(t){return this.upgradeDeferred=this.$q.defer(),this.upgradeDeferred.promise}.bind(this)).finally(function(){delete this.upgradePromise,delete this.upgradeDeferred,delete this.upgradeProgress,delete this.modulesDownloaded,delete this.modulesToDownload}.bind(this)))},s.prototype.restart=function(t){this.maDialogHelper.confirm(t,["ui.app.restartInstanceConfirm",this.maUiServerInfo.instanceDescription]).then(function(){this.maModules.restart()}.bind(this)).then(function(){const t=this.$mdToast.simple().textContent(this.maTranslate.trSync("modules.restartScheduled")).action(this.maTranslate.trSync("common.ok")).highlightAction(!0).position("bottom center").hideDelay(1e4);this.$mdToast.show(t)}.bind(this))},e.default={controller:s,template:i.a}},3586:function(t,e,n){"use strict";n.r(e);var a=n(3497),i=n.n(a);class s{static get $$ngIsClass(){return!0}static get $inject(){return["maModules","maTranslate","maDialogHelper","$scope","$element","$state","maUiServerInfo"]}constructor(t,e,n,a,i,s,o){this.maModules=t,this.maTranslate=e,this.maDialogHelper=n,this.$scope=a,this.$element=i,this.$state=s,this.maUiServerInfo=o,this.backup=!0,this.restart=!0}$onInit(){this.maModules.getAll().then(t=>{this.coreModule=t.find(t=>"core"===t.name)}),this.$scope.$on("maWatchdog",(t,e,n)=>{"LOGGED_IN"===e.status&&(delete this.restarting,this.$state.go("^"))})}downloadModulesManifest(){this.maModules.getUpdateLicensePayload()}restart(t){this.maDialogHelper.confirm(t,["ui.app.restartInstanceConfirm",this.maUiServerInfo.instanceDescription]).then(()=>this.maModules.restart()).then(()=>{this.maDialogHelper.toastOptions({textTr:"modules.restartScheduled",hideDelay:2e4})},t=>{this.maDialogHelper.toastOptions({textTr:["ui.app.restartFailed",t.mangoStatusText||""+t],hideDelay:1e4,classes:"md-warn"})})}uploadFilesButtonClicked(t){this.$element.find("input[type=file]").trigger("click")}uploadFilesChanged(t){const e=t.target.files;this.uploadFiles(e)}fileDropped(t){if(this.uploading||this.restarting)return;if(t.getDataTransferTypes().includes("Files")){const e=t.getDataTransfer();this.uploadFiles(e)}}uploadFiles(t){this.uploading=!0;const e=this.restart;this.maModules.uploadZipFiles(t,e).then(t=>{delete this.uploading,e?(this.restarting=!0,this.maDialogHelper.toastOptions({textTr:"modules.restartScheduled",hideDelay:2e4})):this.maDialogHelper.toastOptions({textTr:"ui.app.moduleZipFilesUploaded"})},t=>{delete this.uploading,this.maDialogHelper.toastOptions({textTr:["ui.app.moduleZipFilesUploadError",t.mangoStatusText||""+t],hideDelay:1e4,classes:"md-warn"})})}}function o(){return{restrict:"E",scope:{},bindToController:!0,controllerAs:"$ctrl",controller:s,template:i.a}}o.$inject=[],e.default=o},3587:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(3498),o=n.n(s),l=n(94),r=n.n(l);n(3499);const d="function"==typeof Symbol?Symbol("selected"):"___selected___",m="function"==typeof Symbol?Symbol("error"):"___error___",c="function"==typeof Symbol?Symbol("action"):"___action___",u="bulkDataPointEditPage";e.default={template:o.a,controller:class{static get $$ngIsClass(){return!0}static get $inject(){return["maPoint","maDataPointTags","maDialogHelper","maTranslate","$timeout","maWatchList","$mdColorPicker","MA_ROLLUP_TYPES","MA_CHART_TYPES","localStorageService","maUtil","$q","$scope","$element"]}constructor(t,e,n,a,i,s,o,l,r,d,m,c,p,g){this.maPoint=t,this.maDataPointTags=e,this.maDialogHelper=n,this.maTranslate=a,this.$timeout=i,this.maWatchList=s,this.$mdColorPicker=o,this.MA_ROLLUP_TYPES=l,this.MA_CHART_TYPES=r,this.localStorageService=d,this.maUtil=m,this.$q=c,this.$scope=p,this.$element=g,this.numberOfRows=25,this.pageNumber=1,this.tableOrder="name",this.browserOpen=!0,this.columns=[{name:"rowNumber",label:"ui.app.rowNumber",disableEdit:!0,selectedByDefault:!1},{name:"xid",label:"ui.app.xidShort",disableEdit:!0,selectedByDefault:!1},{name:"dataSourceName",label:"ui.app.dataSource",disableEdit:!0,selectedByDefault:!1},{name:"dataType",label:"dsEdit.pointDataType",disableEdit:!0,selectedByDefault:!1},{name:"deviceName",label:"common.deviceName",selectedByDefault:!0},{name:"name",label:"common.name",selectedByDefault:!0},{name:"enabled",label:"common.enabled",type:"checkbox",selectedByDefault:!0},{name:"readPermission",label:"pointEdit.props.permission.read",type:"permission",selectedByDefault:!0},{name:"setPermission",label:"pointEdit.props.permission.set",type:"permission",selectedByDefault:!0},{name:"unit",label:"pointEdit.props.unit",selectedByDefault:!0},{name:"chartColour",label:"pointEdit.props.chartColour",type:"color",selectedByDefault:!1},{name:"plotType",label:"pointEdit.plotType",type:"plotType",selectedByDefault:!1},{name:"rollup",label:"common.rollup",type:"rollup",selectedByDefault:!0},{name:"templateXid",label:"ui.app.templateXid",selectedByDefault:!1,nullable:!0},{name:"integralUnit",label:"pointEdit.props.integralUnit",selectedByDefault:!1},{name:"pointFolderId",label:"ui.app.hierarchyFolderId",type:"number",selectedByDefault:!1},{name:"simplifyType",label:"pointEdit.props.simplifyType",type:"simplifyType",selectedByDefault:!1},{name:"simplifyTolerance",label:"pointEdit.props.simplifyTolerance",type:"number",selectedByDefault:!1},{name:"simplifyTarget",label:"pointEdit.props.simplifyTarget",type:"number",selectedByDefault:!1}],this.columns.forEach((t,e)=>t.order=e);const h=this.localStorageService.get(u);h&&Array.isArray(h.selectedColumns)?this.selectedColumns=this.columns.filter(t=>h.selectedColumns.includes(t.name)):this.selectedColumns=this.columns.filter(t=>t.selectedByDefault),this.availableTagsByKey={},this.availableTags=[],this.selectedTags=[],this.prevSelectedTags=[],this.manuallySelectedTags=[],this.pointSelectedBound=((...t)=>{this.pointSelected(...t)}),this.pointDeselectedBound=((...t)=>{this.pointDeselected(...t)}),this.watchListParams={},this.reset()}reset(){this.selectedPoints=[],this.selectAll=!1,this.selectAllIndeterminate=!1,this.updateBody={tags:{},mergeTags:!0}}$onInit(){this.maWatchList.objQuery({limit:1,sort:"name"}).$promise.then(t=>{t.length&&(this.watchList=t[0],this.watchListChanged())}),this.maDataPointTags.keys().then(t=>{t.forEach(t=>this.addTagToAvailable(t))})}$onChanges(t){}addTagToAvailable(t){if("device"===t||"name"===t)return;const e=this.availableTagsByKey[t];if(e)return e;const n={name:t,label:this.maTranslate.trSync("ui.app.tag",t)};return this.availableTags.push(n),this.availableTagsByKey[t]=n,n}addTagColumn(t){this.maDialogHelper.prompt(t,"ui.app.tagName").then(t=>{const e=this.addTagToAvailable(t);e&&(this.selectTag(e),this.manuallySelectedTags.push(e),this.prevSelectedTags=this.selectedTags.slice())},i.a.noop)}selectTag(t){t&&!this.selectedTags.includes(t)&&this.selectedTags.push(t)}hasEdits(){return Object.keys(this.updateBody).length>2||Object.keys(this.updateBody.tags).length>0}confirmDeleteSelected(t){this.selectedPoints.length?this.maDialogHelper.confirm(t,["ui.app.bulkEditConfirmDelete",this.selectedPoints.length]).then(()=>{this.deleteSelected()},()=>null):this.maDialogHelper.toastOptions({textTr:["ui.app.bulkEditNoPointsSelected"],hideDelay:1e4})}deleteSelected(){const t=this.selectedPoints.map(t=>({xid:t.xid}));this.bulkTask=new this.maPoint.bulk({action:"DELETE",requests:t}),this.selectedPoints.forEach(t=>{delete t[m]}),this.bulkTaskPromise=this.bulkTask.start(this.$scope).then(t=>{const e=[];t.result.responses.forEach((t,n)=>{const a=this.selectedPoints[n];t.error?(a[m]=t.error,a[c]=t.action,this.makePropertyErrorsMap(t.error)):e.push(a)}),e.forEach(t=>{const e=this.points.indexOf(t);e>=0&&this.points.splice(e,1);const n=this.selectedPoints.indexOf(t);n>=0&&this.selectedPoints.splice(n,1)}),this.selectedPointsChanged(),this.notifyBulkEditComplete(t)},t=>{this.notifyBulkEditError(t)},t=>{}).finally(()=>{delete this.bulkTaskPromise,delete this.bulkTask})}confirmStart(t){this.selectedPoints.length?this.hasEdits()?this.maDialogHelper.confirm(t,["ui.app.bulkEditConfirmEdit",this.selectedPoints.length]).then(()=>{this.start()},()=>null):this.maDialogHelper.toastOptions({textTr:["ui.app.bulkEditNoChanges"],hideDelay:1e4}):this.maDialogHelper.toastOptions({textTr:["ui.app.bulkEditNoPointsSelected"],hideDelay:1e4})}start(){const t=i.a.copy(this.updateBody);Object.keys(t.tags).length||(delete t.tags,delete t.mergeTags);let e=!1;const n=this.selectedPoints.map(t=>({xid:t.xid}));t.tags&&2===Object.keys(t).length?(e=!0,this.bulkTask=new this.maDataPointTags.bulk({action:"MERGE",body:t.tags,requests:n})):this.bulkTask=new this.maPoint.bulk({action:"UPDATE",body:t,requests:n}),this.selectedPoints.forEach(t=>{delete t[m]}),this.bulkTaskPromise=this.bulkTask.start(this.$scope).then(t=>{const n=t.result.responses;n.forEach((t,n)=>{const a=this.selectedPoints[n];t.body?e?a.tags=t.body:i.a.copy(t.body,a):t.error&&(a[m]=t.error,a[c]=t.action,this.makePropertyErrorsMap(t.error))});for(let t=0,e=0;t<this.selectedPoints.length&&e<n.length;e++){const e=this.selectedPoints[t];e[m]?t++:(delete e[d],this.selectedPoints.splice(t,1))}this.selectedPointsChanged(),this.notifyBulkEditComplete(t)},t=>{this.notifyBulkEditError(t)},t=>{}).finally(()=>{delete this.bulkTaskPromise,delete this.bulkTask})}notifyBulkEditError(t){this.maDialogHelper.toastOptions({textTr:["ui.app.errorStartingBulkEdit",t.mangoStatusText],hideDelay:1e4,classes:"md-warn"})}notifyBulkEditComplete(t){const e=t.result.responses.reduce((t,e)=>e.error?t+1:t,0),n={textTr:[null,t.position,t.maximum,e],hideDelay:1e4,classes:"md-warn"};switch(t.status){case"CANCELLED":n.textTr[0]="ui.app.bulkEditCancelled";break;case"TIMED_OUT":n.textTr[0]="ui.app.bulkEditTimedOut";break;case"ERROR":n.textTr[0]="ui.app.bulkEditError",n.textTr.push(t.error.localizedMessage);break;case"SUCCESS":e?n.textTr[0]="ui.app.bulkEditSuccessWithErrors":(n.textTr=["ui.app.bulkEditSuccess",t.position],delete n.classes)}this.maDialogHelper.toastOptions(n)}cancel(t){this.bulkTask.cancel()}watchListChanged(){if(this.watchList){this.watchList.defaultParamValues(this.watchListParams);const t=this.selectedColumns.findIndex(t=>"rowNumber"===t.name);t>=0&&this.selectedColumns.splice(t,1)}else this.tableOrder=["rowNumber"],this.selectedColumns.find(t=>"rowNumber"===t.name)||this.selectedColumns.unshift(this.columns.find(t=>"rowNumber"===t.name));this.getPoints()}getPoints(){this.reset(),this.wlPointsPromise&&this.wlPointsPromise.cancel(),this.watchList?this.wlPointsPromise=this.watchList.getPoints(this.watchListParams):this.wlPointsPromise=this.$q.resolve([]),this.pointsPromise=this.wlPointsPromise.then(t=>{this.points=t,this.checkAvailableTags()},t=>{this.maDialogHelper.toastOptions({textTr:["ui.app.errorGettingPoints",t.mangoStatusText||""+t],hideDelay:1e4}),this.points=[]}).finally(()=>{delete this.pointsPromise})}checkAvailableTags(){const t={};this.points.forEach(e=>{e.tags&&Object.keys(e.tags).forEach(e=>{t[e]=!0})}),this.selectedTags=this.manuallySelectedTags.slice(),Object.keys(t).forEach(t=>{const e=this.addTagToAvailable(t);this.selectTag(e)}),this.prevSelectedTags=this.selectedTags.slice()}getPointError(t){return t&&t[m]}getPointAction(t){return t&&t[c]}pointSelected(t){t[d]=!0,this.selectedPointsChanged()}pointDeselected(t){delete t[d],this.selectedPointsChanged()}selectedPointsChanged(){if(this.selectedPoints.length===this.points.length){this.selectAllIndeterminate=!1;const t=this.selectedPoints.length>0;this.$timeout(()=>{this.selectAll=t},0)}else this.selectAll=!1,this.selectAllIndeterminate=this.selectedPoints.length>0}selectAllChanged(){this.selectAllIndeterminate?(this.selectAll=!1,this.selectedPoints=[]):this.selectedPoints=this.selectAll&&this.points?this.points.slice():[],this.selectAllIndeterminate=!1,this.points&&(this.selectAll?this.points.forEach(t=>t[d]=!0):this.points.forEach(t=>delete t[d]))}sortColumn(t){t.name===this.tableOrder?this.tableOrder="-"+t.name:this.tableOrder=t.name}resetColumn(t){delete this.updateBody[t.name]}resetTag(t){delete this.updateBody.tags[t.name]}removeTag(t){this.updateBody.tags[t.name]=null}nullColumn(t){this.updateBody[t.name]=null}columnModified(t,e){return e[d]&&this.updateBody.hasOwnProperty(t.name)}tagModified(t,e){return e[d]&&this.updateBody.tags.hasOwnProperty(t.name)}valueForColumn(t,e){return this.columnModified(t,e)?this.updateBody[t.name]:e[t.name]}valueForTag(t,e){return this.tagModified(t,e)?this.updateBody.tags[t.name]:e.tags&&e.tags[t.name]}chooseColor(t,e){this.$mdColorPicker.show({value:this.updateBody[e.name]||r.a.random().toHexString(),defaultValue:"",random:!1,clickOutsideToClose:!0,hasBackdrop:!0,skipHide:!1,preserveScope:!1,mdColorAlphaChannel:!0,mdColorSpectrum:!0,mdColorSliders:!1,mdColorGenericPalette:!0,mdColorMaterialPalette:!1,mdColorHistory:!1,mdColorDefaultTab:0,$event:t}).then(t=>{this.updateBody[e.name]=t})}selectedColumnsChanged(){const t=this.localStorageService.get(u)||{};t.selectedColumns=this.selectedColumns.map(t=>t.name),this.localStorageService.set(u,t)}selectedTagsChanged(){const t=this.prevSelectedTags.filter(t=>!this.selectedTags.includes(t)),e=this.selectedTags.filter(t=>!this.prevSelectedTags.includes(t));t.forEach(t=>{const e=this.manuallySelectedTags.indexOf(t);e>=0&&this.manuallySelectedTags.splice(e,1)}),e.forEach(t=>{this.manuallySelectedTags.includes(t)||this.manuallySelectedTags.push(t)}),this.prevSelectedTags=this.selectedTags.slice()}downloadCSV(t){this.csvCancel&&this.csvCancel.resolve(),this.csvCancel=this.$q.defer();const e={cancel:this.csvCancel.promise,headers:{Accept:"text/csv"},responseType:"blob",timeout:0};let n;if("static"===this.watchList.type)n=this.maPoint.restResource.pointsForWatchList(this.watchList.xid,e);else{const t=this.watchList.getQuery(this.watchListParams);if(null==t)return void this.maDialogHelper.toastOptions({textTr:["ui.app.requiredParameter"],hideDelay:1e4});n=this.maPoint.restResource.query(t,e)}return n.then(t=>{delete this.csvCancel,this.maUtil.downloadBlob(t,`${this.watchList.name} points.csv`)})}uploadCSVButtonClicked(t){const e=this.$element.find("input[type=file]");e.val(null),e.trigger("click")}csvFileInputChanged(t){t.target.files.length&&this.uploadCSVFile(t.target.files[0])}fileDropped(t){if(!this.bulkTaskPromise&&!this.pointsPromise&&t.getDataTransferTypes().includes("Files")){const e=Array.from(t.getDataTransfer()).filter(t=>t.name.endsWith(".csv")||"text/csv"===t.type);e.length&&this.uploadCSVFile(e[0])}}uploadCSVFile(t){this.watchList=null,this.watchListChanged(),this.startFromCsv(t)}startFromCsv(t){this.bulkTaskPromise=this.$q.resolve().then(()=>(this.bulkTask=new this.maPoint.bulk,this.bulkTask.setHttpBody(t),this.bulkTask.start(this.$scope,{headers:{"Content-Type":"text/csv"}}))).then(t=>{t.result.responses.forEach((t,e)=>{const n=new this.maPoint;t.body?i.a.copy(t.body,n):t.error&&(n[m]=t.error,n[c]=t.action,this.makePropertyErrorsMap(t.error),n.xid=t.xid),n.rowNumber=e+2,this.points.push(n)}),this.notifyBulkEditComplete(t)},t=>{this.notifyBulkEditError(t)},t=>{}).finally(()=>{delete this.bulkTaskPromise,delete this.bulkTask})}makePropertyErrorsMap(t){t.result&&Array.isArray(t.result.messages)&&(t.propertyErrors={},t.result.messages.forEach(e=>{e.property&&(t.propertyErrors[e.property]=e.message)}))}},bindings:{},require:{}}}}]);